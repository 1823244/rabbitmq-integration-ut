<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="РежимСовместимостиСБСП20">2.01</ВерсияФормата>
	<Ид>80749636-0cf1-4e78-887e-a31f94f83c4b    </Ид>
	<Наименование>УПП --&gt; УТ11 Казахстан (Остатки и документы)</Наименование>
	<ДатаВремяСоздания>2024-06-10T13:36:22</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="1.2.10.1" СинонимКонфигурации="Управление производственным предприятием, редакция 1.2">УправлениеПроизводственнымПредприятием1210</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="11.5.8.287" СинонимКонфигурации="Управление торговлей, редакция 11">УправлениеТорговлей</Приемник>
	<ПередВыгрузкойДанных>Параметры.Вставить("ИспользоватьУпаковкиНоменклатуры");
Параметры.Вставить("ИспользоватьХарактеристикиНоменклатуры");
Параметры.Вставить("ИспользоватьОрдерныеСклады");
Параметры.Вставить("ВыгруженыОрганизации");
Параметры.Вставить("КешВидовНоменклатуры");
Параметры.Вставить("ТабНоменклатурыТары");
Параметры.Вставить("ТабАлкогольнаяПродукцияНоменклатуры");

Параметры.Вставить("мВалютаРегламентированногоУчета", Константы.ВалютаРегламентированногоУчета.Получить());
Параметры.Вставить("ВалютаKZT", Справочники.Валюты.НайтиПоНаименованию("KZT"));
Параметры.Вставить("ВалютаUSD", Справочники.Валюты.НайтиПоНаименованию("USD"));

Запрос = Новый Запрос("
|ВЫБРАТЬ ПЕРВЫЕ 1
|	1
|ИЗ
|	Справочник.ЕдиницыИзмерения КАК ЕдиницыИзмерения
|ГДЕ
|	ВЫРАЗИТЬ(ЕдиницыИзмерения.Владелец КАК Справочник.Номенклатура.).ЕдиницаХраненияОстатков &lt;&gt; ЕдиницыИзмерения.Ссылка
|");

Параметры.ИспользоватьУпаковкиНоменклатуры = Не Запрос.Выполнить().Пустой();
Параметры.ВыгруженыОрганизации = Ложь;
Параметры.ИспользоватьХарактеристикиНоменклатуры = Константы.ИспользоватьХарактеристикиНоменклатуры.Получить();
Параметры.КешВидовНоменклатуры = Новый Соответствие;

Параметры.ТабНоменклатурыТары = Неопределено;

Параметры.ИспользоватьОрдерныеСклады = Ложь;

Параметры.ТабАлкогольнаяПродукцияНоменклатуры = Новый ТаблицаЗначений;
Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Колонки.Добавить("Номенклатура");
Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Колонки.Добавить("АлкогольнаяПродукция");
Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Колонки.Добавить("ВидАлкогольнойПродукции");
Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Колонки.Добавить("ВестиУчетПоГТД");</ПередВыгрузкойДанных>
	<ПередЗагрузкойДанных>
Параметры.Вставить("МассивЗагруженныхПартнеров", Новый Массив);
Параметры.Вставить("МассивЗагруженныхДоговоров", Новый Массив);
Параметры.Вставить("МассивЗагруженныхДокументовВводаОстатковТоваровНаСкладах", Новый Массив);
Параметры.Вставить("ЗагруженыНовыеПользователи", Ложь);
Параметры.Вставить("ДокументыВводаОстатковДляПересчетаСуммыРегл", Новый Массив);
Параметры.Вставить("ДокументыДляПроведения", Новый Массив);
Параметры.Вставить("МассивДокументовДляОтраженияВРеестреДокументов", Новый Массив); 

Параметры.Вставить("ЗагруженыОрганизации",            Ложь);
Параметры.Вставить("ЗагруженыРасчетныеСчета",         Ложь);
Параметры.Вставить("ЗагруженыВалюты",                 Ложь);
Параметры.Вставить("ЗагруженыКассы",                  Ложь);
Параметры.Вставить("ЗагруженыВидыЦен",                Ложь);
Параметры.Вставить("ЗагруженыСклады",                 Ложь);
Параметры.Вставить("ЗагруженыРолиКонтактныхЛиц",      Ложь);
Параметры.Вставить("ЗагруженыГруппыДоступаПартнеров", Ложь);
Параметры.Вставить("ЗагруженыПОЗаказовКлиентов",      Ложь);
Параметры.Вставить("мВалютаРегламентированногоУчета", Константы.ВалютаРегламентированногоучета.Получить());
Параметры.Вставить("мВалютаУправленческогоУчета",     Константы.ВалютаУправленческогоУчета.Получить());

ЗагруженныеОбъектыПереноса = Новый ТаблицаЗначений;
ЗагруженныеОбъектыПереноса.Колонки.Добавить("ИмяПКО");
ЗагруженныеОбъектыПереноса.Колонки.Добавить("Объект");
ЗагруженныеОбъектыПереноса.Колонки.Добавить("Параметры");

Параметры.Вставить("ЗагруженныеОбъектыПереноса", ЗагруженныеОбъектыПереноса);
Константы.КонтролироватьУникальностьРабочегоНаименованияНоменклатурыИХарактеристик.Установить(Ложь);</ПередЗагрузкойДанных>
	<ПослеЗагрузкиДанных>
// Обновление иерархии партнеров
Для Каждого Партнер Из Параметры.МассивЗагруженныхПартнеров Цикл
	Если Не Партнер.ЭтоНовый() Тогда
		ПартнерыИКонтрагенты.ЗаписатьИерархиюПартнера(Партнер.Ссылка);
	КонецЕсли;
КонецЦикла;

ЗагруженныеОбъектыПереноса = Параметры.ЗагруженныеОбъектыПереноса;
ЗагруженныеОбъектыПереноса.Сортировать("ИмяПКО");

Для Каждого СтрокаТаблицы Из ЗагруженныеОбъектыПереноса Цикл
	
	Если СтрокаТаблицы.Объект.ЭтоНовый() Тогда
		Продолжить;
	КонецЕсли;
	
	Объект = СтрокаТаблицы.Объект.Ссылка.ПолучитьОбъект();
	ПараметрыОбъекта = СтрокаТаблицы.Параметры;
	ИмяПКО = СтрокаТаблицы.ИмяПКО;
	
	ОбъектМодифицирован = Истина;
	
	Если Метаданные.Справочники.Содержит(Объект.МетаДанные()) Тогда
		Выполнить(Алгоритмы.ОбработкаСправочниковОтложенная);
	КонецЕсли;
	
	Если ОбъектМодифицирован Тогда
		Объект.ОбменДанными.Загрузка = Истина;
		Объект.Записать();
	КонецЕсли;
	
КонецЦикла;

Выполнить(Алгоритмы.ОбработатьПослеЗаписиСкладыУчитывающиеСерии);
Выполнить(Алгоритмы.ОбработатьВидыНоменклатурыПослеЗаписи);
Выполнить(Алгоритмы.ОбновитьСтатусыУказанияСерийВДокументах);
Выполнить(Алгоритмы.ДозаполнитьДоговораКонтрагентов);
Выполнить(Алгоритмы.ВыполнитьПроведениеДокументов);

// добавим данные в реестр документов по загруженным документам  
Для Каждого ТекДокСсылка Из Параметры["МассивДокументовДляОтраженияВРеестреДокументов"] Цикл
	
	ТаблицыДанных = ПроведениеДокументов.ДанныеДокументаДляПроведения(ТекДокСсылка, "РеестрДокументов");
	РегистрыСведений.РеестрДокументов.ЗаписатьДанные(ТаблицыДанных, ТекДокСсылка,  Неопределено, Ложь);
	
КонецЦикла;   

Константы.КонтролироватьУникальностьРабочегоНаименованияНоменклатурыИХарактеристик.Установить(Истина);

ПараметрыПослеЗагрузкиДанных = ОбменДаннымиУТ.ПараметрыПослеЗагрузкиДанных();
ОбменДаннымиУТ.ПослеЗагрузкиДанных(ПараметрыПослеЗагрузкиДанных);</ПослеЗагрузкиДанных>
	<ПередКонвертациейОбъекта>Если ТипЗнч(ВходящиеДанные) &lt;&gt; Тип("Структура") Тогда
	ВходящиеДанные = Новый Структура;
КонецЕсли;

Если ТипЗнч(ИсходящиеДанные) &lt;&gt; Тип("Структура") Тогда
	ИсходящиеДанные = Новый Структура;
КонецЕсли;</ПередКонвертациейОбъекта>
	<Параметры>
		<Параметр Имя="ДатаОстатков                                      " Наименование="ДатаОстатков" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="true" ТипЗначения="Дата" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="Организация                                       " Наименование="Организация" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="true" ТипЗначения="СправочникСсылка.Организации" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="РежимВыгрузкиСерий                                " Наименование="РежимВыгрузкиИнформацииОСериях" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ТипЗначения="Число" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="СворачиватьХарактеристики                         " Наименование="Сворачивать характеристики" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ТипЗначения="Булево" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="Склад                                             " Наименование="Склад" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="true" ТипЗначения="СправочникСсылка.Склады" ПередаватьПараметрПриВыгрузке="false"/>
	</Параметры>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>100</Порядок>
			<Правило>
				<Код>ЮрФизЛицо</Код>
				<Наименование>Перечисление: Юр. / физ. лицо</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮрФизЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ФизЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ФизЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt; ЮрЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>ЮрЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ЮрФизЛицо_КомпанияЧастноеЛицо</Код>
				<Наименование>Перечисление: Юр. / физ. лицо</Наименование>
				<Порядок>100</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.КомпанияЧастноеЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ЧастноеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ЧастноеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt; Компания</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>Компания</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ЮрФизЛицо_ЮридическоеФизическоеЛицо</Код>
				<Наименование>Перечисление: Юр. / физ. лицо</Наименование>
				<Порядок>150</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮридическоеФизическоеЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ФизическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt; ЮридическоеЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>ЮридическоеЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыНоменклатуры</Код>
				<Наименование>Перечисление: Типы номенклатуры</Наименование>
				<Порядок>200</Порядок>
				<Источник>ПеречислениеСсылка.ТипыНоменклатуры</Источник>
				<Приемник>ПеречислениеСсылка.ТипыНоменклатуры</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Товар --&gt; Товар</Наименование>
						<Порядок>50</Порядок>
						<Источник>Товар</Источник>
						<Приемник>Товар</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Услуга --&gt; Услуга</Наименование>
						<Порядок>100</Порядок>
						<Источник>Услуга</Источник>
						<Приемник>Услуга</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Комплект --&gt; Товар</Наименование>
						<Порядок>150</Порядок>
						<Источник>Комплект</Источник>
						<Приемник>Набор</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Набор --&gt; Товар</Наименование>
						<Порядок>200</Порядок>
						<Источник>Набор</Источник>
						<Приемник>Набор</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СтавкиНДС</Код>
				<Наименование>Перечисление: Ставки НДС</Наименование>
				<Порядок>250</Порядок>
				<Источник>ПеречислениеСсылка.СтавкиНДС</Источник>
				<Приемник>ПеречислениеСсылка.СтавкиНДС</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>БезНДС --&gt; БезНДС</Наименование>
						<Порядок>50</Порядок>
						<Источник>БезНДС</Источник>
						<Приемник>БезНДС</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>НДС0 --&gt; НДС0</Наименование>
						<Порядок>100</Порядок>
						<Источник>НДС0</Источник>
						<Приемник>НДС0</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НДС10 --&gt; НДС10</Наименование>
						<Порядок>150</Порядок>
						<Источник>НДС10</Источник>
						<Приемник>НДС10</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>НДС18 --&gt; НДС18</Наименование>
						<Порядок>200</Порядок>
						<Источник>НДС18</Источник>
						<Приемник>НДС18</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>НДС10_110 --&gt; НДС10_110</Наименование>
						<Порядок>250</Порядок>
						<Источник>НДС10_110</Источник>
						<Приемник>НДС10_110</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>НДС18_118 --&gt; НДС18_118</Наименование>
						<Порядок>300</Порядок>
						<Источник>НДС18_118</Источник>
						<Приемник>НДС18_118</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>НДС20 --&gt; НДС18</Наименование>
						<Порядок>350</Порядок>
						<Источник>НДС20</Источник>
						<Приемник>НДС20</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>НДС20_120 --&gt; НДС18_118</Наименование>
						<Порядок>400</Порядок>
						<Источник>НДС20_120</Источник>
						<Приемник>НДС20_120</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>НДС12 --&gt; НДС12</Наименование>
						<Порядок>450</Порядок>
						<Источник>НДС12</Источник>
						<Приемник>НДС12</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыКонтактнойИнформации</Код>
				<Наименование>Перечисление: Типы контактной информации</Наименование>
				<Порядок>500</Порядок>
				<Источник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник>Адрес</Источник>
						<Приемник>Адрес</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
						<Порядок>100</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>АдресЭлектроннойПочты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВебСтраница --&gt; ВебСтраница</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВебСтраница</Источник>
						<Приемник>ВебСтраница</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Другое --&gt; Другое</Наименование>
						<Порядок>200</Порядок>
						<Источник>Другое</Источник>
						<Приемник>Другое</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Телефон --&gt; Телефон</Наименование>
						<Порядок>250</Порядок>
						<Источник>Телефон</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыСкладов</Код>
				<Наименование>Перечисление: Виды складов</Наименование>
				<Порядок>550</Порядок>
				<Источник>ПеречислениеСсылка.ВидыСкладов</Источник>
				<Приемник>ПеречислениеСсылка.ТипыСкладов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Оптовый --&gt; ОптовыйСклад</Наименование>
						<Порядок>50</Порядок>
						<Источник>Оптовый</Источник>
						<Приемник>ОптовыйСклад</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Розничный --&gt; РозничныйМагазин</Наименование>
						<Порядок>100</Порядок>
						<Источник>Розничный</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НТТ --&gt; РозничныйМагазин</Наименование>
						<Порядок>150</Порядок>
						<Источник>НТТ</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыДоговоровКонтрагентов_ХозяйственныеОперации</Код>
				<Наименование>Перечисление: Виды договоров контрагентов</Наименование>
				<Порядок>750</Порядок>
				<Источник>ПеречислениеСсылка.ВидыДоговоровКонтрагентов</Источник>
				<Приемник>ПеречислениеСсылка.ХозяйственныеОперации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>СКомиссионером --&gt; ПередачаНаКомиссию</Наименование>
						<Порядок>50</Порядок>
						<Источник>СКомиссионером</Источник>
						<Приемник>ПередачаНаКомиссию</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>СКомитентом --&gt; ПриемНаКомиссию</Наименование>
						<Порядок>100</Порядок>
						<Источник>СКомитентом</Источник>
						<Приемник>ПриемНаКомиссию</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>СПокупателем --&gt; РеализацияКлиенту</Наименование>
						<Порядок>150</Порядок>
						<Источник>СПокупателем</Источник>
						<Приемник>РеализацияКлиенту</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>СПоставщиком --&gt; ЗакупкаУПоставщика</Наименование>
						<Порядок>200</Порядок>
						<Источник>СПоставщиком</Источник>
						<Приемник>ЗакупкаУПоставщика</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВедениеВзаиморасчетовПоДоговорам_ПорядокРасчетов</Код>
				<Наименование>Перечисление: Ведение взаиморасчетов по договорам</Наименование>
				<Порядок>800</Порядок>
				<Источник>ПеречислениеСсылка.ВедениеВзаиморасчетовПоДоговорам</Источник>
				<Приемник>ПеречислениеСсылка.ПорядокРасчетов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ПоДоговоруВЦелом --&gt; ПоДоговорамКонтрагентов</Наименование>
						<Порядок>50</Порядок>
						<Источник>ПоДоговоруВЦелом</Источник>
						<Приемник>ПоДоговорамКонтрагентов</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПоЗаказам --&gt; ПоЗаказамНакладным</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПоЗаказам</Источник>
						<Приемник>ПоЗаказамНакладным</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПоСчетам --&gt; ПоЗаказамНакладным</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПоСчетам</Источник>
						<Приемник>ПоЗаказамНакладным</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыДоговоров</Код>
				<Наименование>Перечисление: Виды договоров контрагентов</Наименование>
				<Порядок>850</Порядок>
				<Источник>ПеречислениеСсылка.ВидыДоговоровКонтрагентов</Источник>
				<Приемник>ПеречислениеСсылка.ТипыДоговоров</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Прочее --&gt; СПоставщиком</Наименование>
						<Порядок>50</Порядок>
						<Источник>Прочее</Источник>
						<Приемник>СПоставщиком</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>СКомиссионером --&gt; СКомиссионером</Наименование>
						<Порядок>100</Порядок>
						<Источник>СКомиссионером</Источник>
						<Приемник>СКомиссионером</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>СКомитентом --&gt; СКомитентом</Наименование>
						<Порядок>150</Порядок>
						<Источник>СКомитентом</Источник>
						<Приемник>СКомитентом</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>СПокупателем --&gt; СПокупателем</Наименование>
						<Порядок>200</Порядок>
						<Источник>СПокупателем</Источник>
						<Приемник>СПокупателем</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>СПоставщиком --&gt; СПоставщиком</Наименование>
						<Порядок>250</Порядок>
						<Источник>СПоставщиком</Источник>
						<Приемник>СПоставщиком</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыПеречисленийВБюджет</Код>
				<Наименование>Перечисление: Виды перечислений в бюджет</Наименование>
				<Порядок>950</Порядок>
				<Источник>ПеречислениеСсылка.ВидыПеречисленийВБюджет</Источник>
				<Приемник>ПеречислениеСсылка.ВидыПеречисленийВБюджет</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ИнойПлатеж --&gt; ИнойПлатеж</Наименование>
						<Порядок>50</Порядок>
						<Источник>ИнойПлатеж</Источник>
						<Приемник>ИнойПлатеж</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>НалоговыйПлатеж --&gt; НалоговыйПлатеж</Наименование>
						<Порядок>100</Порядок>
						<Источник>НалоговыйПлатеж</Источник>
						<Приемник>НалоговыйПлатеж</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ТаможенныйПлатеж --&gt; ТаможенныйПлатеж</Наименование>
						<Порядок>150</Порядок>
						<Источник>ТаможенныйПлатеж</Источник>
						<Приемник>ТаможенныйПлатеж</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийРКО_ХозяйственныеОперации</Код>
				<Наименование>Перечисление: Виды операций документа "РКО"</Наименование>
				<Порядок>1000</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийРКО</Источник>
				<Приемник>ПеречислениеСсылка.ХозяйственныеОперации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ВыдачаДенежныхСредствПодотчетнику --&gt; ВыдачаДенежн</Наименование>
						<Порядок>50</Порядок>
						<Источник>ВыдачаДенежныхСредствПодотчетнику</Источник>
						<Приемник>ВыдачаДенежныхСредствПодотчетнику</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ОплатаПоставщику --&gt; ОплатаПоставщику</Наименование>
						<Порядок>100</Порядок>
						<Источник>ОплатаПоставщику</Источник>
						<Приемник>ОплатаПоставщику</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВыплатаЗаработнойПлатыРаботнику --&gt; ВыплатаЗарплат</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВыплатаЗаработнойПлатыРаботнику</Источник>
						<Приемник>ВыплатаЗарплатыРаботнику</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ВыплатаЗаработнойПлатыПоВедомостям --&gt; ВыплатаЗарп</Наименование>
						<Порядок>200</Порядок>
						<Источник>ВыплатаЗаработнойПлатыПоВедомостям</Источник>
						<Приемник>ВыплатаЗарплатыЧерезКассу</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ВозвратДенежныхСредствПокупателю --&gt; ВозвратОплаты</Наименование>
						<Порядок>250</Порядок>
						<Источник>ВозвратДенежныхСредствПокупателю</Источник>
						<Приемник>ВозвратОплатыКлиенту</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>РасчетыПоКредитамИЗаймамСКонтрагентами --&gt; ВыдачаЗ</Наименование>
						<Порядок>300</Порядок>
						<Источник>РасчетыПоКредитамИЗаймамСКонтрагентами</Источник>
						<Приемник>ВыдачаЗаймов</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ПрочиеРасчетыСКонтрагентами --&gt; ПрочаяВыдачаДенежн</Наименование>
						<Порядок>350</Порядок>
						<Источник>ПрочиеРасчетыСКонтрагентами</Источник>
						<Приемник>ПрочаяВыдачаДенежныхСредств</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>РасчетыПоКредитамИЗаймамСРаботниками --&gt; ВыдачаЗай</Наименование>
						<Порядок>400</Порядок>
						<Источник>РасчетыПоКредитамИЗаймамСРаботниками</Источник>
						<Приемник>ВыдачаЗаймаСотруднику</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ВыплатаДепонентов --&gt; ВыплатаЗарплатыРаботнику</Наименование>
						<Порядок>450</Порядок>
						<Источник>ВыплатаДепонентов</Источник>
						<Приемник>ВыплатаЗарплатыРаботнику</Приемник>
					</Значение>
					<Значение>
						<Код>10</Код>
						<Наименование>ВыдачаДенежныхСредствКассеККМ --&gt; ВыдачаДенежныхСр</Наименование>
						<Порядок>500</Порядок>
						<Источник>ВыдачаДенежныхСредствКассеККМ</Источник>
						<Приемник>ВыдачаДенежныхСредствВКассуККМ</Приемник>
					</Значение>
					<Значение>
						<Код>11</Код>
						<Наименование>ВзносНаличнымиВБанк --&gt; СдачаДенежныхСредствВБанк</Наименование>
						<Порядок>550</Порядок>
						<Источник>ВзносНаличнымиВБанк</Источник>
						<Приемник>СдачаДенежныхСредствВБанк</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийПКО_ХозяйственныеОперации</Код>
				<Наименование>Перечисление: Виды операций документа "ПКО"</Наименование>
				<Порядок>1050</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийПКО</Источник>
				<Приемник>ПеречислениеСсылка.ХозяйственныеОперации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ОплатаПокупателя --&gt; ПоступлениеОплатыОтКлиента</Наименование>
						<Порядок>50</Порядок>
						<Источник>ОплатаПокупателя</Источник>
						<Приемник>ПоступлениеОплатыОтКлиента</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ВозвратДенежныхСредствПоставщиком --&gt; ВозвратДенеж</Наименование>
						<Порядок>100</Порядок>
						<Источник>ВозвратДенежныхСредствПоставщиком</Источник>
						<Приемник>ВозвратДенежныхСредствОтПоставщика</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВозвратДенежныхСредствПодотчетником --&gt; ВозвратДен</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВозвратДенежныхСредствПодотчетником</Источник>
						<Приемник>ВозвратДенежныхСредствОтПодотчетника</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ПолучениеНаличныхДенежныхСредствВБанке --&gt; Поступл</Наименование>
						<Порядок>200</Порядок>
						<Источник>ПолучениеНаличныхДенежныхСредствВБанке</Источник>
						<Приемник>ПоступлениеДенежныхСредствИзБанка</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ПриходДенежныхСредствПрочее --&gt; ПрочееПоступлениеД</Наименование>
						<Порядок>250</Порядок>
						<Источник>ПриходДенежныхСредствПрочее</Источник>
						<Приемник>ПрочееПоступлениеДенежныхСредств</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ПрочиеРасчетыСКонтрагентами --&gt; ПрочееПоступлениеД</Наименование>
						<Порядок>300</Порядок>
						<Источник>ПрочиеРасчетыСКонтрагентами</Источник>
						<Приемник>ПрочееПоступлениеДенежныхСредств</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ПриходДенежныхСредствРозничнаяВыручка --&gt; Поступле</Наименование>
						<Порядок>350</Порядок>
						<Источник>ПриходДенежныхСредствРозничнаяВыручка</Источник>
						<Приемник>ПоступлениеДенежныхСредствИзКассыККМ</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>РасчетыПоКредитамИЗаймамСКонтрагентами --&gt; Поступл</Наименование>
						<Порядок>400</Порядок>
						<Источник>РасчетыПоКредитамИЗаймамСКонтрагентами</Источник>
						<Приемник>ПоступлениеДенежныхСредствПоЗаймамВыданным</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ВозвратДенежныхСредствРаботником --&gt; ПогашениеЗайм</Наименование>
						<Порядок>450</Порядок>
						<Источник>ВозвратДенежныхСредствРаботником</Источник>
						<Приемник>ПогашениеЗаймаСотрудником</Приемник>
					</Значение>
					<Значение>
						<Код>10</Код>
						<Наименование>РасчетыПоКредитамИЗаймамСРаботниками --&gt; Погашение</Наименование>
						<Порядок>500</Порядок>
						<Источник>РасчетыПоКредитамИЗаймамСРаботниками</Источник>
						<Приемник>ПогашениеЗаймаСотрудником</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ПоступлениеБезналичныхДС_ХозяйственныеОперации</Код>
				<Наименование>Перечисление: Виды операций поступления безналичных денежных средств</Наименование>
				<Порядок>1100</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийПоступлениеБезналичныхДенежныхСредств</Источник>
				<Приемник>ПеречислениеСсылка.ХозяйственныеОперации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ВозвратДенежныхСредствПоставщиком --&gt; ВозвратДенеж</Наименование>
						<Порядок>50</Порядок>
						<Источник>ВозвратДенежныхСредствПоставщиком</Источник>
						<Приемник>ВозвратДенежныхСредствОтПоставщика</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ОплатаПокупателя --&gt; ПоступлениеОплатыОтКлиента</Наименование>
						<Порядок>100</Порядок>
						<Источник>ОплатаПокупателя</Источник>
						<Приемник>ПоступлениеОплатыОтКлиента</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПрочееПоступлениеБезналичныхДенежныхСредств --&gt; Пр</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПрочееПоступлениеБезналичныхДенежныхСредств</Источник>
						<Приемник>ПрочееПоступлениеДенежныхСредств</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ПриобретениеИностраннойВалюты --&gt; ПрочееПоступлени</Наименование>
						<Порядок>200</Порядок>
						<Источник>ПриобретениеИностраннойВалюты</Источник>
						<Приемник>КонвертацияВалюты</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>РасчетыПоКредитамИЗаймам --&gt; ПоступлениеДенежныхСр</Наименование>
						<Порядок>250</Порядок>
						<Источник>РасчетыПоКредитамИЗаймам</Источник>
						<Приемник>ПоступлениеДенежныхСредствПоЗаймамВыданным</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ПрочиеРасчетыСКонтрагентами --&gt; ПрочееПоступлениеД</Наименование>
						<Порядок>300</Порядок>
						<Источник>ПрочиеРасчетыСКонтрагентами</Источник>
						<Приемник>ПрочееПоступлениеДенежныхСредств</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ПоступлениеОплатыПоПлатежнымКартам --&gt; Поступление</Наименование>
						<Порядок>350</Порядок>
						<Источник>ПоступлениеОплатыПоПлатежнымКартам</Источник>
						<Приемник>ПоступлениеОплатыПоПлатежнойКарте</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ПоступленияОтПродажиИностраннойВалюты --&gt; Конверта</Наименование>
						<Порядок>400</Порядок>
						<Источник>ПоступленияОтПродажиИностраннойВалюты</Источник>
						<Приемник>КонвертацияВалюты</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ПоступлениеОплатыПоБанковскимКредитам --&gt; Поступле</Наименование>
						<Порядок>450</Порядок>
						<Источник>ПоступлениеОплатыПоБанковскимКредитам</Источник>
						<Приемник>ПоступлениеДенежныхСредствПоЗаймамВыданным</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СписаниеБезналичныхДС_ХозяйственныеОперации</Код>
				<Наименование>Перечисление: Виды операций списания безналичных денежных средств</Наименование>
				<Порядок>1150</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийСписаниеБезналичныхДенежныхСредств</Источник>
				<Приемник>ПеречислениеСсылка.ХозяйственныеОперации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ОплатаПоставщику --&gt; ОплатаПоставщику</Наименование>
						<Порядок>50</Порядок>
						<Источник>ОплатаПоставщику</Источник>
						<Приемник>ОплатаПоставщику</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ВозвратДенежныхСредствПокупателю --&gt; ВозвратОплаты</Наименование>
						<Порядок>100</Порядок>
						<Источник>ВозвратДенежныхСредствПокупателю</Источник>
						<Приемник>ВозвратОплатыКлиенту</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПрочееСписаниеБезналичныхДенежныхСредств --&gt; Проча</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПрочееСписаниеБезналичныхДенежныхСредств</Источник>
						<Приемник>ПрочаяВыдачаДенежныхСредств</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ПеречислениеЗП --&gt; ВыплатаЗарплаты</Наименование>
						<Порядок>200</Порядок>
						<Источник>ПеречислениеЗП</Источник>
						<Приемник>ВыплатаЗарплатыПоЗарплатномуПроекту</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>РасчетыПоКредитамИЗаймам --&gt; ОплатаПоКредитам</Наименование>
						<Порядок>250</Порядок>
						<Источник>РасчетыПоКредитамИЗаймам</Источник>
						<Приемник>ОплатаПоКредитам</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ПрочиеРасчетыСКонтрагентами --&gt; ПрочаяВыдачаДенежн</Наименование>
						<Порядок>300</Порядок>
						<Источник>ПрочиеРасчетыСКонтрагентами</Источник>
						<Приемник>ПрочаяВыдачаДенежныхСредств</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ПеречислениеНалога --&gt; ПеречислениеВБюджет</Наименование>
						<Порядок>350</Порядок>
						<Источник>ПеречислениеНалога</Источник>
						<Приемник>ПеречислениеВБюджет</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ПереводНаДругойСчет --&gt; ПеречислениеДенежныхСредст</Наименование>
						<Порядок>400</Порядок>
						<Источник>ПереводНаДругойСчет</Источник>
						<Приемник>ПеречислениеДенежныхСредствНаДругойСчет</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийППИсходящее_ХозяйственныеОперации</Код>
				<Наименование>Перечисление: Виды операций исходящего платежного поручения</Наименование>
				<Порядок>1200</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийППИсходящее</Источник>
				<Приемник>ПеречислениеСсылка.ХозяйственныеОперации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ОплатаПоставщику --&gt; ОплатаПоставщику</Наименование>
						<Порядок>50</Порядок>
						<Источник>ОплатаПоставщику</Источник>
						<Приемник>ОплатаПоставщику</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ВозвратДенежныхСредствПокупателю --&gt; ВозвратОплаты</Наименование>
						<Порядок>100</Порядок>
						<Источник>ВозвратДенежныхСредствПокупателю</Источник>
						<Приемник>ВозвратОплатыКлиенту</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПеречислениеДенежныхСредствПодотчетнику --&gt; Выдача</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПеречислениеДенежныхСредствПодотчетнику</Источник>
						<Приемник>ВыдачаДенежныхСредствПодотчетнику</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ПеречислениеЗП --&gt; НачислениеЗаработнойПлаты</Наименование>
						<Порядок>200</Порядок>
						<Источник>ПеречислениеЗП</Источник>
						<Приемник>ВыплатаЗарплатыПоЗарплатномуПроекту</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ПереводНаДругойСчет --&gt; ПеречислениеДенежныхСредст</Наименование>
						<Порядок>250</Порядок>
						<Источник>ПереводНаДругойСчет</Источник>
						<Приемник>ПеречислениеДенежныхСредствНаДругойСчет</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ПеречислениеНалога --&gt; ПеречислениеВБюджет</Наименование>
						<Порядок>300</Порядок>
						<Источник>ПеречислениеНалога</Источник>
						<Приемник>ПеречислениеВБюджет</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>РасчетыПоКредитамИЗаймамСКонтрагентами --&gt; ОплатаП</Наименование>
						<Порядок>350</Порядок>
						<Источник>РасчетыПоКредитамИЗаймамСКонтрагентами</Источник>
						<Приемник>ВыдачаЗаймов</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>РасчетыПоКредитамИЗаймамСРаботниками --&gt; ВыдачаЗай</Наименование>
						<Порядок>400</Порядок>
						<Источник>РасчетыПоКредитамИЗаймамСРаботниками</Источник>
						<Приемник>ВыдачаЗаймаСотруднику</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ПрочиеРасчетыСКонтрагентами --&gt; ПрочаяВыдачаДенежн</Наименование>
						<Порядок>450</Порядок>
						<Источник>ПрочиеРасчетыСКонтрагентами</Источник>
						<Приемник>ПрочаяВыдачаДенежныхСредств</Приемник>
					</Значение>
					<Значение>
						<Код>10</Код>
						<Наименование>ПрочееСписаниеБезналичныхДенежныхСредств --&gt; Проча</Наименование>
						<Порядок>500</Порядок>
						<Источник>ПрочееСписаниеБезналичныхДенежныхСредств</Источник>
						<Приемник>ПрочаяВыдачаДенежныхСредств</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийВзаимозачетаЗадолженности</Код>
				<Наименование>Перечисление: Виды операций документа "Корректировка долга"</Наименование>
				<Порядок>1250</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийКорректировкаДолга</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийВзаимозачетаЗадолженности</Приемник>
				<Свойства/>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Планы видов характеристик</Код>
			<Наименование>Планы видов характеристик</Наименование>
			<Порядок>150</Порядок>
			<Правило>
				<Код>СтатьиРасходов</Код>
				<Наименование>Статьи расходов</Наименование>
				<Порядок>150</Порядок>
				<ПриЗагрузке>Объект.ТипЗначения = Новый ОписаниеТипов("СправочникСсылка.НаправленияДеятельности");</ПриЗагрузке>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.СтатьиЗатрат</Источник>
				<Приемник>ПланВидовХарактеристикСсылка.СтатьиРасходов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиЗатрат"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.СтатьиРасходов"/>
						<КодПравилаКонвертации>СтатьиРасходов                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>5</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>200</Порядок>
			<Группа>
				<Код>БазовыеКлассификаторы</Код>
				<Наименование>Базовые классификаторы</Наименование>
				<Порядок>50</Порядок>
				<Правило>
					<Код>Валюты</Код>
					<Наименование>Валюты</Наименование>
					<Порядок>50</Порядок>
					<ПослеЗагрузки>Параметры.ЗагруженыВалюты = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.Валюты</Источник>
					<Приемник>СправочникСсылка.Валюты</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПараметрыПрописиНаРусском --&gt; ПараметрыПрописи</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПараметрыПрописиНаРусском" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ПараметрыПрописи" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; ЗагружаетсяИзИнтернета</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЗагружаетсяИзИнтернета" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КлассификаторЕдиницИзмерения_ЕдиницыИзмерения</Код>
					<Наименование>Классификатор единиц измерения -&gt; Единицы измерения</Наименование>
					<Порядок>100</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
					<Источник>СправочникСсылка.КлассификаторЕдиницИзмерения</Источник>
					<Приемник>СправочникСсылка.УпаковкиЕдиницыИзмерения</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>МеждународноеСокращение --&gt; МеждународноеСокращение</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="МеждународноеСокращение" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="МеждународноеСокращение" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КлассификаторСтранМираСтраныМира</Код>
					<Наименование>Страны мира</Наименование>
					<Порядок>150</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.КлассификаторСтранМира</Источник>
					<Приемник>СправочникСсылка.СтраныМира</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>КодАльфа2 --&gt; КодАльфа2</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения>
						<Значение>
							<Код>1</Код>
							<Наименование>Россия --&gt; Россия</Наименование>
							<Порядок>50</Порядок>
							<Источник>Россия</Источник>
							<Приемник>Россия</Приемник>
						</Значение>
					</Значения>
				</Правило>
				<Правило>
					<Код>Банки</Код>
					<Наименование>Банки</Наименование>
					<Порядок>200</Порядок>
					<Источник>СправочникСсылка.Банки</Источник>
					<Приемник>СправочникСсылка.КлассификаторБанков</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>Адрес --&gt; Адрес</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Банки"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.КлассификаторБанков"/>
							<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Телефоны --&gt; Телефоны</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>9</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>СправочникСтавкиНДС</Код>
					<Наименование>Перечисление: Ставки НДС</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник;</ПередВыгрузкой>
					<Источник>ПеречислениеСсылка.СтавкиНДС</Источник>
					<Приемник>СправочникСсылка.СтавкиНДС</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; ПеречислениеСтавкаНДС</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПеречислениеСтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Ставка</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Ставка" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = УчетНДС.ПолучитьСтавкуНДС(Источник);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = Строка(Источник);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>СтруктураПредприятия</Код>
				<Наименование>СтруктураПредприятия</Наименование>
				<Порядок>100</Порядок>
				<Правило>
					<Код>Организации</Код>
					<Наименование>Организации</Наименование>
					<Порядок>50</Порядок>
					<ПриВыгрузке>
Если Источник &lt;&gt; Параметры.Организация Тогда
	Отказ = Истина;
КонецЕсли;</ПриВыгрузке>
					<ПослеВыгрузки>Параметры.ВыгруженыОрганизации = Истина;</ПослеВыгрузки>
					<ПослеЗагрузки>Параметры.ЗагруженыОрганизации = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Организации</Источник>
					<Приемник>СправочникСсылка.Организации</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ИНН --&gt; ИНН</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>КодПоОКАТО --&gt; КодПоОКАТО</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="КодПоОКАТО" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодПоОКАТО" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>КПП --&gt; КПП</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеСокращенное</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеСокращенное" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = СтрЗаменить(Источник.НаименованиеПолное, Символы.ПС, " ");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ОГРН --&gt; ОГРН</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ОГРН" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ОГРН" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Префикс --&gt; Префикс</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>ЮрФизЛицо --&gt; ЮрФизЛицо</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
							<Приемник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
							<КодПравилаКонвертации>ЮрФизЛицо                                         </КодПравилаКонвертации>
							<ПередВыгрузкой>Если Источник.ЮрФизЛицо = Перечисления.ЮрФизЛицо.ФизЛицо Тогда
	Значение = "ИндивидуальныйПредприниматель";	
	ИмяПКО = "";	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>СвидетельствоДатаВыдачи --&gt; СвидетельствоДатаВыдачи</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="СвидетельствоДатаВыдачи" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="СвидетельствоДатаВыдачи" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>СвидетельствоСерияНомер --&gt; СвидетельствоСерияНомер</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="СвидетельствоСерияНомер" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="СвидетельствоСерияНомер" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>ЮрФизЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
							<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
							<КодПравилаКонвертации>ЮрФизЛицо_ЮридическоеФизическоеЛицо               </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Подразделения_СтруктураПредприятия</Код>
					<Наименование>Подразделения -&gt; Структура предприятия</Наименование>
					<Порядок>100</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Подразделения</Источник>
					<Приемник>СправочникСсылка.СтруктураПредприятия</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтруктураПредприятия"/>
							<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Склады</Код>
					<Наименование>Склады</Наименование>
					<Порядок>150</Порядок>
					<ПослеЗагрузки>Параметры.ЗагруженыСклады = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Склады</Источник>
					<Приемник>СправочникСсылка.Склады</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>4</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ИспользоватьОрдернуюСхемуПриОтгрузке</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьОрдернуюСхемуПриОтгрузке" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>
	Запрос = Новый Запрос("
		|ВЫБРАТЬ ПЕРВЫЕ 1
		|	1
		|ИЗ
		|	Документ.РасходныйОрдерНаТовары КАК РасходныйОрдерНаТовары
		|ГДЕ
		|	РасходныйОрдерНаТовары.Склад = &amp;Склад
		|	И РасходныйОрдерНаТовары.Проведен
		|");

	Запрос.УстановитьПараметр("Склад", Источник.Ссылка);

	Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ИспользоватьОрдернуюСхемуПриПоступлении</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьОрдернуюСхемуПриПоступлении" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>
Запрос = Новый Запрос("
		|ВЫБРАТЬ ПЕРВЫЕ 1
		|	1
		|ИЗ
		|	Документ.ПриходныйОрдерНаТовары КАК ПриходныйОрдерНаТовары
		|ГДЕ
		|	ПриходныйОрдерНаТовары.Склад = &amp;Склад
		|	И ПриходныйОрдерНаТовары.Проведен
		|");

	Запрос.УстановитьПараметр("Склад", Источник.Ссылка);

	Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ВидСклада --&gt; ТипСклада</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ВидСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСкладов"/>
							<Приемник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
							<КодПравилаКонвертации>ТипыСкладов                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ТипЦенРозничнойТорговли --&gt; РозничныйВидЦены</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ТипЦенРозничнойТорговли" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<Приемник Имя="РозничныйВидЦены" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
							<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ИспользоватьАдресноеХранение</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьАдресноеХранение" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; ИспользоватьАдресноеХранениеСправочно</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьАдресноеХранениеСправочно" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; НастройкаАдресногоХранения</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НастройкаАдресногоХранения" Вид="Реквизит" Тип="ПеречислениеСсылка.НастройкиАдресногоХранения"/>
							<ПередВыгрузкой>Значение = "НеИспользовать";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; УровеньОбслуживания</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УровеньОбслуживания" Вид="Реквизит" Тип="ПеречислениеСсылка.УровниОбслуживания"/>
							<ПередВыгрузкой>Значение = "УровеньОбслуживания84_0";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<НеЗамещать>true</НеЗамещать>
							<Код>17</Код>
							<Наименование>--&gt; ВыборГруппы</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВыборГруппы" Вид="Реквизит" Тип="ПеречислениеСсылка.ВыборГруппыСкладов"/>
							<ПередВыгрузкой>Значение = "Запретить";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; ИсточникИнформацииОЦенахДляПечати</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИсточникИнформацииОЦенахДляПечати" Вид="Реквизит" Тип="ПеречислениеСсылка.ИсточникиИнформацииОЦенахДляПечати"/>
							<ПередВыгрузкой>Значение = "ПоСебестоимости";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Кассы</Код>
					<Наименование>Кассы</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Параметры.ЗагруженыКассы = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Кассы</Источник>
					<Приемник>СправочникСсылка.Кассы</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ВалютаДенежныхСредств --&gt; ВалютаДенежныхСредств</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Владелец --&gt; Владелец</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>БанковскиеСчетаОрганизаций</Код>
					<Наименование>Банковские счета организаций</Наименование>
					<Порядок>300</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;</ПередВыгрузкой>
					<ПослеЗагрузки>Параметры.ЗагруженыРасчетныеСчета = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Приемник>СправочникСсылка.БанковскиеСчетаОрганизаций</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; Банк</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
							<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; БанкДляРасчетов</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
							<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование> --&gt; ВалютаДенежныхСредств</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование> --&gt; НомерСчета</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; ТекстКорреспондента</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТекстКорреспондента" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; ТекстНазначения</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТекстНазначения" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование> --&gt; Владелец</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>8</Код>
							<Наименование> --&gt; Наименование</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование> --&gt; ПометкаУдаления</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование> --&gt; ВариантВыводаМесяца</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантВыводаМесяца" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыВыводаМесяцаВДатеДокумента"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование> --&gt; ВыводитьСуммуБезКопеек</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВыводитьСуммуБезКопеек" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование> --&gt; ИспользоватьОбменСБанком</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьОбменСБанком" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Запрос = Новый Запрос(
"ВЫБРАТЬ ПЕРВЫЕ 1
|	НастройкиОбменаСКлиентомБанка.Программа,
|	НастройкиОбменаСКлиентомБанка.Кодировка,
|	НастройкиОбменаСКлиентомБанка.ВидыВыгружаемыхПлатДокументов,
|	НастройкиОбменаСКлиентомБанка.ФайлЗагрузки,
|	НастройкиОбменаСКлиентомБанка.ФайлВыгрузки
|ИЗ
|	РегистрСведений.НастройкиОбменаСКлиентомБанка КАК НастройкиОбменаСКлиентомБанка
|ГДЕ
|	НастройкиОбменаСКлиентомБанка.БанковскийСчет = &amp;БанковскийСчет
|");
Запрос.УстановитьПараметр("БанковскийСчет", Источник.Ссылка);

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование> --&gt; Кодировка</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Кодировка" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Запрос = Новый Запрос(
"ВЫБРАТЬ ПЕРВЫЕ 1
|	НастройкиОбменаСКлиентомБанка.Программа,
|	НастройкиОбменаСКлиентомБанка.Кодировка,
|	НастройкиОбменаСКлиентомБанка.ВидыВыгружаемыхПлатДокументов,
|	НастройкиОбменаСКлиентомБанка.ФайлЗагрузки,
|	НастройкиОбменаСКлиентомБанка.ФайлВыгрузки
|ИЗ
|	РегистрСведений.НастройкиОбменаСКлиентомБанка КАК НастройкиОбменаСКлиентомБанка
|ГДЕ
|	НастройкиОбменаСКлиентомБанка.БанковскийСчет = &amp;БанковскийСчет
|");
Запрос.УстановитьПараметр("БанковскийСчет", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Если Выборка.Следующий() Тогда
	Значение = Выборка.Кодировка;	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование> --&gt; Программа</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Программа" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Запрос = Новый Запрос(
"ВЫБРАТЬ ПЕРВЫЕ 1
|	НастройкиОбменаСКлиентомБанка.Программа,
|	НастройкиОбменаСКлиентомБанка.Кодировка,
|	НастройкиОбменаСКлиентомБанка.ВидыВыгружаемыхПлатДокументов,
|	НастройкиОбменаСКлиентомБанка.ФайлЗагрузки,
|	НастройкиОбменаСКлиентомБанка.ФайлВыгрузки
|ИЗ
|	РегистрСведений.НастройкиОбменаСКлиентомБанка КАК НастройкиОбменаСКлиентомБанка
|ГДЕ
|	НастройкиОбменаСКлиентомБанка.БанковскийСчет = &amp;БанковскийСчет
|");
Запрос.УстановитьПараметр("БанковскийСчет", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Если Выборка.Следующий() Тогда
	Значение = Выборка.Программа;	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование> --&gt; ФайлВыгрузки</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ФайлВыгрузки" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Запрос = Новый Запрос(
"ВЫБРАТЬ ПЕРВЫЕ 1
|	НастройкиОбменаСКлиентомБанка.Программа,
|	НастройкиОбменаСКлиентомБанка.Кодировка,
|	НастройкиОбменаСКлиентомБанка.ВидыВыгружаемыхПлатДокументов,
|	НастройкиОбменаСКлиентомБанка.ФайлЗагрузки,
|	НастройкиОбменаСКлиентомБанка.ФайлВыгрузки
|ИЗ
|	РегистрСведений.НастройкиОбменаСКлиентомБанка КАК НастройкиОбменаСКлиентомБанка
|ГДЕ
|	НастройкиОбменаСКлиентомБанка.БанковскийСчет = &amp;БанковскийСчет
|");
Запрос.УстановитьПараметр("БанковскийСчет", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Если Выборка.Следующий() Тогда
	Значение = Выборка.ФайлВыгрузки;	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование> --&gt; ФайлЗагрузки</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ФайлЗагрузки" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Запрос = Новый Запрос(
"ВЫБРАТЬ ПЕРВЫЕ 1
|	НастройкиОбменаСКлиентомБанка.Программа,
|	НастройкиОбменаСКлиентомБанка.Кодировка,
|	НастройкиОбменаСКлиентомБанка.ВидыВыгружаемыхПлатДокументов,
|	НастройкиОбменаСКлиентомБанка.ФайлЗагрузки,
|	НастройкиОбменаСКлиентомБанка.ФайлВыгрузки
|ИЗ
|	РегистрСведений.НастройкиОбменаСКлиентомБанка КАК НастройкиОбменаСКлиентомБанка
|ГДЕ
|	НастройкиОбменаСКлиентомБанка.БанковскийСчет = &amp;БанковскийСчет
|");
Запрос.УстановитьПараметр("БанковскийСчет", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Если Выборка.Следующий() Тогда
	Значение = Выборка.ФайлЗагрузки;	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>ГруппаНоменклатура</Код>
				<Наименование>ГруппаНоменклатура</Наименование>
				<Порядок>150</Порядок>
				<Группа>
					<Код>Серии</Код>
					<Наименование>Серии</Наименование>
					<Порядок>50</Порядок>
					<Правило>
						<Код>ПолитикиУчетаСерий_УчетОстатков</Код>
						<Наименование>:</Наименование>
						<Порядок>50</Порядок>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>СправочникСсылка.ПолитикиУчетаСерий</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>25</Код>
								<Наименование>--&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<ПередВыгрузкой>Если Параметры.РежимВыгрузкиСерий = 1 Тогда
	Значение = "Учет остатков по сериям";
ИначеЕсли Параметры.РежимВыгрузкиСерий = 2 Тогда
	Значение = "Учет себестоимости по сериям";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>--&gt; ТипПолитики</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТипПолитики" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыПолитикУказанияСерий"/>
								<ПередВыгрузкой>Если Параметры.РежимВыгрузкиСерий = 1 Тогда
	Значение = "УправлениеОстаткамиСерий";
ИначеЕсли Параметры.РежимВыгрузкиСерий = 2 Тогда
	Значение = "УчетСебестоимостиПоСериям";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>--&gt; Описание</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Описание" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "Создана автоматически, при загрузке из УТ 10.3"</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>--&gt; УказыватьПриОтгрузке</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузке" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеКлиенту</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеКлиенту" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеКомплектовДляРазборки</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеКомплектовДляРазборки" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеКомплектующихДляСборки</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеКомплектующихДляСборки" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеНаВнутренниеНужды</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеНаВнутренниеНужды" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеПоВозвратуПоставщику</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеПоВозвратуПоставщику" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеПоПеремещению</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеПоПеремещению" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; УказыватьПриПеремещенииМеждуПомещениями</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПеремещенииМеждуПомещениями" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; УказыватьПриПланированииОтгрузки</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПланированииОтгрузки" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Параметры.РежимВыгрузкиСерий &gt; 0;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; УказыватьПриПриемке</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемке" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; УказыватьПриПриемкеКомплектующихПослеРазборки</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемкеКомплектующихПослеРазборки" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; УказыватьПриПриемкеОтПоставщика</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемкеОтПоставщика" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; УказыватьПриПриемкеПоВозвратуОтКлиента</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемкеПоВозвратуОтКлиента" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; УказыватьПриПриемкеПоПеремещению</Наименование>
								<Порядок>1000</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемкеПоПеремещению" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>--&gt; УказыватьПриПриемкеПоПрочемуОприходованию</Наименование>
								<Порядок>1050</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемкеПоПрочемуОприходованию" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; УказыватьПриПриемкеСобранныхКомплектов</Наименование>
								<Порядок>1100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемкеСобранныхКомплектов" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; УчитыватьОстаткиСерий</Наименование>
								<Порядок>1150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УчитыватьОстаткиСерий" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеВРозницу</Наименование>
								<Порядок>1200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеВРозницу" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>--&gt; УчитыватьСебестоимостьПоСериям</Наименование>
								<Порядок>1250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УчитыватьСебестоимостьПоСериям" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Параметры.РежимВыгрузкиСерий &gt; 1;</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>СерииНоменклатуры</Код>
						<Наименование>Справочник: Серии номенклатуры</Наименование>
						<Порядок>100</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Наименование;</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.СерииНоменклатуры_ЗаполнитьНаименованиеПоШаблону);</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.СерииНоменклатуры</Источник>
						<Приемник>СправочникСсылка.СерииНоменклатуры</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование> --&gt; ВидНоменклатуры</Наименование>
								<Порядок>50</Порядок>
								<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
								<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>Наименование --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>СрокГодности --&gt; ГоденДо</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="СрокГодности" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="ГоденДо" Вид="Реквизит" Тип="Дата"/>
								<ПриВыгрузке>Значение = ?(ЗначениеЗаполнено(Значение), Значение, Дата('19800101'));</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа>
					<Код>СправочникХарактеристики</Код>
					<Наименование>СправочникНоменклатура</Наименование>
					<Порядок>100</Порядок>
					<Правило>
						<Код>ХарактеристикиНоменклатуры</Код>
						<Наименование>Характеристики номенклатуры</Наименование>
						<Порядок>1100</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Строка(Источник.Ссылка.УникальныйИдентификатор());
Если ВходящиеДанные.Свойство("Качество") Тогда
	// Переопределяем стандартый ключ выгружаемых данных, т.к. идет выгрузка один ко многим
	КлючВыгружаемыхДанных = КлючВыгружаемыхДанных + Строка(ВходящиеДанные.Качество.УникальныйИдентификатор());
КонецЕсли;</ПередВыгрузкой>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.ХарактеристикиНоменклатуры</Источник>
						<Приемник>СправочникСсылка.ХарактеристикиНоменклатуры</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Владелец --&gt; Владелец</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Владелец" Вид="Свойство"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Если Параметры.СворачиватьХарактеристики Тогда
	
	ИмяПКО = "ВидыНоменклатуры";
	СоздатьВидНоменклатуры_Номенклатура                 = Источник.Владелец.Ссылка;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = Источник.Владелец.ВидНоменклатуры.Наименование;
	СоздатьВидНоменклатуры_ТипНоменклатуры              = Источник.Владелец.ВидНоменклатуры.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИспользоватьСерии			= Источник.Владелец.ВестиУчетПоСериям;
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);
	
Иначе
	
	// Владельцем характеристики будет являться номенклатура, которая возможно является некачественной
	Если ВходящиеДанные.Свойство("Качество") Тогда
		ИсходящиеДанные.Вставить("Качество", ВходящиеДанные.Качество);
		ИмяПКО = "НекачественнаяНоменклатура";
	КонецЕсли;
	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<НеЗамещать>true</НеЗамещать>
								<Код>7</Код>
								<Наименование>Наименование --&gt; НаименованиеПолное</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Правило>
					<Код>Номенклатура</Код>
					<Наименование>Номенклатура</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Выполнить(Алгоритмы.ВходящиеДанныеНоменклатуры);</ПередВыгрузкой>
					<ПослеЗагрузки>Если Не Объект.ЭтоГруппа Тогда
	//Занесем данные об объекте в таблицу отложенной обработки 
	НоваяСтрока = Параметры.ЗагруженныеОбъектыПереноса.Добавить();
	НоваяСтрока.ИмяПКО = "Номенклатура";
	НоваяСтрока.Объект = Объект;
	НоваяСтрока.Параметры = ПараметрыОбъекта;
КонецЕсли;

Справочники.Номенклатура.ЗаполнитьРеквизитыПоВидуНоменклатуры(Объект,
																	Ложь,
																	Ложь,
																	Неопределено,
																	Ложь);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Номенклатура</Источник>
					<Приемник>СправочникСсылка.Номенклатура</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Артикул --&gt; Артикул</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ВидНоменклатуры --&gt; ВидНоменклатуры</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
							<Приемник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
							<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
							<ПередВыгрузкой>// Если номенклатура имеет характеристики, используем расширенные правила конвертации вида номенклатуры
// Наименование вида номенклатуры - наименование из Объекта назначения.
// Тип номенклатуры - из вида номенклатуры источника.
// Использование характеристик = Истина;
// Набор свойств номенклатуры - Создаем новый набор свойств через список свойств
// Набор свойств характеристик - Создаем новый набор свойств через список свойств

// Если номенклатура не имеет характеристик - то конвертируем стандартным способом

Если Не Источник.ЭтоГруппа Тогда
	
	СоздатьВидНоменклатуры_Номенклатура					= Источник.Ссылка;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Источник.ВидНоменклатуры, "Наименование");
	СоздатьВидНоменклатуры_ИспользоватьСерии			= Источник.ВестиУчетПоСериям И Параметры.РежимВыгрузкиСерий &gt; 0;
	СоздатьВидНоменклатуры_ТипНоменклатуры              = ВходящиеДанные.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция = Ложь; //ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;
	СоздатьВидНоменклатуры_АлкогольнаяПродукция          = Ложь; //ВходящиеДанные.АлкогольнаяПродукция;
	СоздатьВидНоменклатуры_ВидАлкогольнойПродукции       = Ложь;//ВходящиеДанные.ВидАлкогольнойПродукции;
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);
	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>8</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>ЕдиницаХраненияОстатков --&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ЕдиницаХраненияОстатков" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>ЕдиницыИзмерения_ЕдиницыИзмерения                 </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>ЕдиницаДляОтчетов --&gt; ЕдиницаДляОтчетов</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ЕдиницаДляОтчетов" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="ЕдиницаДляОтчетов" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>ЕдиницыИзмерения_ЕдиницыИзмерения                 </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>ЕдиницаДляОтчетов --&gt; КоэффициентЕдиницыДляОтчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ЕдиницаДляОтчетов" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="КоэффициентЕдиницыДляОтчетов" Вид="Реквизит" Тип="Число"/>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	Если ЗначениеЗаполнено(Источник.ЕдиницаХраненияОстатков) И Источник.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 Тогда
		Значение = Значение.Коэффициент / Источник.ЕдиницаХраненияОстатков.Коэффициент;
	Иначе
		Значение = Значение.Коэффициент;
	КонецЕсли;	
Иначе
	Значение = 1;
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВестиУчетПоГТД</Наименование>
							<Порядок>700</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВестиУчетПоГТД" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ЦеноваяГруппа --&gt; ЦеноваяГруппа</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="ЦеноваяГруппа" Вид="Реквизит" Тип="СправочникСсылка.ЦеновыеГруппы"/>
							<Приемник Имя="ЦеноваяГруппа" Вид="Реквизит" Тип="СправочникСсылка.ЦеновыеГруппы"/>
							<КодПравилаКонвертации>ЦеновыеГруппыЦеновыеГруппы                        </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; ТипНоменклатуры</Наименование>
							<Порядок>800</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
							<КодПравилаКонвертации>ТипыНоменклатуры                                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СправочникСтавкиНДС                               </КодПравилаКонвертации>
							<ПередВыгрузкой>Если Не ЗначениеЗаполнено(Источник.СтавкаНДС) Тогда
	Значение = Перечисления.СтавкиНДС.НДС18;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; НаборУпаковок</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НаборУпаковок" Вид="Реквизит" Тип="СправочникСсылка.НаборыУпаковок"/>
							<ПередВыгрузкой>Если Параметры.ИспользоватьУпаковкиНоменклатуры
	И Источник.ВидНоменклатуры.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар Тогда
	Значение = "ИндивидуальныйДляНоменклатуры";
Иначе
	Значение = Неопределено;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; Качество</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Качество" Вид="Реквизит" Тип="ПеречислениеСсылка.ГрадацииКачества"/>
							<ПередВыгрузкой>Значение = "Новый";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; ИспользоватьУпаковки</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьУпаковки" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Источник.ВидНоменклатуры.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>ДополнительноеОписаниеНоменклатуры --&gt; Описание</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="ДополнительноеОписаниеНоменклатуры" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Описание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<НеЗамещать>true</НеЗамещать>
							<Код>24</Код>
							<Наименование>--&gt; ВариантОформленияПродажи</Наименование>
							<Порядок>1150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантОформленияПродажи" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыОформленияПродажи"/>
							<ПередВыгрузкой>Значение = "РеализацияТоваровУслуг";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ЕдиницыИзмерения_Упаковки</Код>
					<Наименование>Единицы измерения -&gt; Упаковки номенклатуры</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Если Источник.Ссылка.Владелец.ВидНоменклатуры.ТипНоменклатуры &lt;&gt; Перечисления.ТипыНоменклатуры.Товар
   И Источник.Ссылка.Владелец.ВидНоменклатуры.ТипНоменклатуры &lt;&gt; Перечисления.ТипыНоменклатуры.Услуга Тогда
	Отказ = Истина;
КонецЕсли;

Если Источник.Ссылка.Владелец.ЕдиницаХраненияОстатков = Источник.Ссылка И Источник.Ссылка.Владелец.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 1 Тогда
	Отказ = Истина;
КонецЕсли;

КлючВыгружаемыхДанных = Источник.Ссылка;</ПередВыгрузкой>
					<ПослеЗагрузки>
Объект.ТипИзмеряемойВеличины = Перечисления.ТипыИзмеряемыхВеличин.Упаковка;
Объект.ТипУпаковки = Перечисления.ТипыУпаковокНоменклатуры.Конечная;
Объект.Наименование = Справочники.УпаковкиЕдиницыИзмерения.СформироватьНаименование(Объект.ТипУпаковки, Объект.ЕдиницаИзмерения, Объект.Числитель, Объект.Знаменатель, Объект.Владелец.ЕдиницаИзмерения)</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Приемник>СправочникСсылка.УпаковкиЕдиницыИзмерения</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Владелец</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Владелец;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>9</Код>
							<Наименование>--&gt; Знаменатель</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Знаменатель" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>
Если Источник.Коэффициент &gt;= 1 Тогда
	Значение = 1;
ИначеЕсли Источник.Коэффициент &lt; 0.01 Тогда
	Значение = 1000;
ИначеЕсли Источник.Коэффициент &lt; 0.1 Тогда
	Значение = 100;
ИначеЕсли Источник.Коэффициент &lt; 1 Тогда
	Значение = 10;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>--&gt; Числитель</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Числитель" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если Источник.Коэффициент &gt;= 1 Тогда
	Значение = Источник.Коэффициент;
ИначеЕсли Источник.Коэффициент &lt; 0.01 Тогда
	Значение = 1000 * Источник.Коэффициент;
ИначеЕсли Источник.Коэффициент &lt; 0.1 Тогда
	Значение = 100 * Источник.Коэффициент;
ИначеЕсли Источник.Коэффициент &lt; 1 Тогда
	Значение = 10 * Источник.Коэффициент;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>КлассификаторЕдиницИзмерения_ЕдиницыИзмерения     </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ЕдиницаПоКлассификатору;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>8</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = Источник.Наименование;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ЕдиницыИзмерения_ЕдиницыИзмерения</Код>
					<Наименование>Справочник: Единицы измерения</Наименование>
					<Порядок>300</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>СправочникСсылка.ЕдиницыИзмерения</Источник>
					<Приемник>СправочникСсылка.УпаковкиЕдиницыИзмерения</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ЕдиницаПоКлассификатору --&gt; МеждународноеСокращение</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ЕдиницаПоКлассификатору" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<Приемник Имя="МеждународноеСокращение" Вид="Реквизит" Тип="Строка"/>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	Значение = Значение.МеждународноеСокращение;
Иначе
	Отказ = Истина;
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ЕдиницаПоКлассификатору --&gt; НаименованиеПолное</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ЕдиницаПоКлассификатору" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	Значение = Значение.НаименованиеПолное;
Иначе
	Отказ = Истина;
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование> --&gt; Владелец</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство"/>
							<КодПравилаКонвертации>НаборыУпаковок                                    </КодПравилаКонвертации>
							<ПередВыгрузкой>ИсходящиеДанные = Новый Структура("Наименование", "Базовые единицы измерения");</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВидыНоменклатуры</Код>
					<Наименование>Виды номенклатуры</Наименование>
					<Порядок>400</Порядок>
					<ПередВыгрузкой>//Если ТипЗнч(Источник) = Тип("Структура") Тогда
//	Если Не Источник.Свойство("АлкогольнаяПродукция") Тогда
//		Источник.Вставить("АлкогольнаяПродукция", Ложь);
//	КонецЕсли;
//	Если Не Источник.Свойство("ИмпортнаяАлкогольнаяПродукция") Тогда
//		Источник.Вставить("ИмпортнаяАлкогольнаяПродукция", Ложь);
//	КонецЕсли;
//	Если Не Источник.Свойство("ВидАлкогольнойПродукции") Тогда
//		Источник.Вставить("ВидАлкогольнойПродукции", Справочники.ВидыАлкогольнойПродукции.ПустаяСсылка());
//	КонецЕсли;
//КонецЕсли;

//ВходящиеДанные.Вставить("АлкогольнаяПродукция");
//ВходящиеДанные.Вставить("ВидАлкогольнойПродукции");
//ВходящиеДанные.Вставить("ИмпортнаяАлкогольнаяПродукция");
//Попытка
//	ВходящиеДанные.АлкогольнаяПродукция = Источник.АлкогольнаяПродукция;
//Исключение
//	ВходящиеДанные.АлкогольнаяПродукция = Ложь;
//КонецПопытки;
//Попытка
//	ВходящиеДанные.ИмпортнаяАлкогольнаяПродукция = Источник.ИмпортнаяАлкогольнаяПродукция;
//Исключение
//	ВходящиеДанные.ИмпортнаяАлкогольнаяПродукция = Ложь;
//КонецПопытки;
//Попытка
//	ВходящиеДанные.ВидАлкогольнойПродукции = Источник.ВидАлкогольнойПродукции;
//Исключение
//	ВходящиеДанные.ВидАлкогольнойПродукции = Неопределено;
//КонецПопытки;

Если ТипЗнч(Источник) = Тип("Структура") Тогда
	
	ВходящиеДанные.Вставить("Наименование",					Лев(СокрЛП(Источник.Наименование), 50));
	ВходящиеДанные.Вставить("ИспользованиеХарактеристик",	Источник.ИспользованиеХарактеристик);
	ВходящиеДанные.Вставить("ИспользоватьСерии",			Источник.ИспользоватьСерии);
	
Иначе
	
	// Если передали объект, то на данный вид номенклатуры нет ссылок, выгружаем все по-минимуму
	ВходящиеДанные.Вставить("ИспользованиеХарактеристик", "НеИспользовать");
	
	//Если ВходящиеДанные.АлкогольнаяПродукция Тогда
	//	Постфикс = "(б/х, алко)";
	//Иначе	
		Постфикс = "(б/х)";
	//КонецЕсли;	
	
	ВходящиеДанные.Вставить("Наименование", Лев(СокрЛП(Источник.Наименование), 49-СтрДлина(Постфикс)) + " " + Постфикс);
	ВходящиеДанные.Вставить("ИспользоватьСерии", Ложь);
	
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Если Объект.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Услуга
	И (Не ЗначениеЗаполнено(Объект.ВариантОформленияПродажи)
	Или Объект.ВариантОформленияПродажи = Перечисления.ВариантыОформленияПродажи.ПустаяСсылка()) Тогда
	Объект.ВариантОформленияПродажи = Перечисления.ВариантыОформленияПродажи.РеализацияТоваровУслуг;
КонецЕсли;</ПослеЗагрузки>
					<Источник>СправочникСсылка.ВидыНоменклатуры</Источник>
					<Приемник>СправочникСсылка.ВидыНоменклатуры</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>--&gt; ИспользованиеХарактеристик</Наименование>
							<Порядок>100</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользованиеХарактеристик" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыИспользованияХарактеристикНоменклатуры"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>9</Код>
							<Наименование>--&gt; ИспользоватьСерии</Наименование>
							<Порядок>150</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьСерии" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ИспользоватьХарактеристики</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьХарактеристики" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Если ВходящиеДанные.ИспользованиеХарактеристик = "НеИспользовать" Тогда
	Значение = Ложь;
Иначе
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ТипНоменклатуры --&gt; ТипНоменклатуры</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
							<Приемник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
							<ПриВыгрузке>Если ТипЗнч(Значение) &lt;&gt; Тип("Строка") Тогда
	
	ИмяПКО = "ТипыНоменклатуры";
	
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<НеЗамещать>true</НеЗамещать>
							<Код>12</Код>
							<Наименование>--&gt; ВариантОформленияПродажи</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантОформленияПродажи" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыОформленияПродажи"/>
							<ПередВыгрузкой>Значение = "РеализацияТоваровУслуг";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ИспользоватьСерии</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьСерии" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ИспользоватьСерии;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; ИспользоватьСрокГодностиСерии</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьСрокГодностиСерии" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ИспользоватьСерии;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; ИспользоватьНомерСерии</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьНомерСерии" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ИспользоватьСерии;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; ИспользоватьКоличествоСерии</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьКоличествоСерии" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ИспользоватьСерии;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; НастройкаИспользованияСерий</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НастройкаИспользованияСерий" Вид="Реквизит" Тип="ПеречислениеСсылка.НастройкиИспользованияСерийНоменклатуры"/>
							<ПередВыгрузкой>Если ВходящиеДанные.ИспользоватьСерии Тогда
	Значение = "ПартияТоваровПоНомеруИСрокуГодности";
Иначе
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; ТочностьУказанияСрокаГодностиСерии</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТочностьУказанияСрокаГодностиСерии" Вид="Реквизит" Тип="ПеречислениеСсылка.ТочностиУказанияСрокаГодности"/>
							<ПередВыгрузкой>Значение = "СТочностьюДоДней";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; ШаблонНаименованияДляПечатиНоменклатуры</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ШаблонНаименованияДляПечатиНоменклатуры" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "[Наименование]";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; ШаблонНаименованияДляПечатиХарактеристики</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ШаблонНаименованияДляПечатиХарактеристики" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "[Наименование]";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>21</Код>
							<Наименование>--&gt; ПолитикиУчетаСерий</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПолитикиУчетаСерий" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("ПолитикаУчетаСерий");
Если ВходящиеДанные.ИспользоватьСерии Тогда
	НоваяСтрока = КоллекцияОбъектов.Добавить();
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>22</Код>
								<Наименование> --&gt; ПолитикаУчетаСерий</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПолитикаУчетаСерий" Вид="Реквизит" Тип="СправочникСсылка.ПолитикиУчетаСерий"/>
								<КодПравилаКонвертации>ПолитикиУчетаСерий_УчетОстатков                   </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>НомераГТД</Код>
					<Наименование>Номера ГТД</Наименование>
					<Порядок>450</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = Строка(Источник.Владелец.УникальныйИдентификатор()) + Источник.Код;</ПередВыгрузкой>
					<Приемник>СправочникСсылка.НомераГТД</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<ПриВыгрузке>Значение = Лев(Значение, 30);</ПриВыгрузке>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>--&gt; СтранаПроисхождения</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
							<КодПравилаКонвертации>КлассификаторСтранМираСтраныМира                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>НаборыУпаковок</Код>
					<Наименование>:</Наименование>
					<Порядок>500</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = ВходящиеДанные.Наименование;</ПередВыгрузкой>
					<НеЗамещать>true</НеЗамещать>
					<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
					<Приемник>СправочникСсылка.НаборыУпаковок</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.Наименование;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>ГруппаКонтрагенты</Код>
				<Наименование>ГруппаКонтрагенты</Наименование>
				<Порядок>200</Порядок>
				<Группа>
					<Код>Контрагенты</Код>
					<Наименование>Контрагенты</Наименование>
					<Порядок>50</Порядок>
					<Правило>
						<Код>Контрагенты_Партнеры</Код>
						<Наименование>Контрагенты -&gt; Партнеры</Наименование>
						<Порядок>50</Порядок>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;

КлючВыгружаемыхДанных = Источник.Ссылка;</ПередВыгрузкой>
						<ПослеЗагрузки>Параметры.МассивЗагруженныхПартнеров.Добавить(Объект);</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.Контрагенты</Источник>
						<Приемник>СправочникСсылка.Партнеры</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Код --&gt; Код</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>Поставщик --&gt; Поставщик</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Поставщик" Вид="Реквизит" Тип="Булево"/>
								<Приемник Имя="Поставщик" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>ГоловнойКонтрагент --&gt; Родитель</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="ГоловнойКонтрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
								<ПриВыгрузке>Если Значение = Источник.Ссылка Тогда
	Отказ = Истина;	
КонецЕсли;</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Покупатель --&gt; Клиент</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Покупатель" Вид="Реквизит" Тип="Булево"/>
								<Приемник Имя="Клиент" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование> --&gt; ПрочиеОтношения</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПрочиеОтношения" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Если Не (Источник.Ссылка.Поставщик Или Источник.Ссылка.Покупатель) Тогда
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование> --&gt; ДатаРегистрации</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаРегистрации" Вид="Реквизит" Тип="Дата"/>
								<ПередВыгрузкой>Значение = ТекущаяДата();</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>ЮрФизЛицо --&gt; ЮрФизЛицо</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
								<Приемник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.КомпанияЧастноеЛицо"/>
								<КодПравилаКонвертации>ЮрФизЛицо_КомпанияЧастноеЛицо                     </КодПравилаКонвертации>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>Контрагенты_Контрагенты</Код>
						<Наименование>Контрагенты -&gt; Контрагенты</Наименование>
						<Порядок>100</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;;</ПередВыгрузкой>
						<ПослеЗагрузки>Если Не ЗначениеЗаполнено(Объект.Ссылка) Тогда
	Объект.Записать();
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.ГоловнойКонтрагент) Тогда
	Объект.ГоловнойКонтрагент = Объект.Ссылка;
ИначеЕсли Объект.ГоловнойКонтрагент &lt;&gt; Объект.Ссылка Тогда
	Объект.ОбособленноеПодразделение = Истина;
КонецЕсли;


Если Метаданные.Справочники.Контрагенты.Реквизиты.Найти("KZ_БИН_ИИН") &lt;&gt; Неопределено Тогда
	Объект.KZ_БИН_ИИН = ПараметрыОбъекта["KZ_БИН_ИИН"];
КонецЕсли;

Если Метаданные.Справочники.Контрагенты.Реквизиты.Найти("KZ_ДатаДокументовПоНДС") &lt;&gt; Неопределено Тогда
	Объект.KZ_ДатаДокументовПоНДС = ПараметрыОбъекта["KZ_ДатаДокументовПоНДС"];
КонецЕсли;

Если Метаданные.Справочники.Контрагенты.Реквизиты.Найти("KZ_Документ") &lt;&gt; Неопределено Тогда
	Объект.KZ_Документ = ПараметрыОбъекта["KZ_Документ"];
КонецЕсли;

Если Метаданные.Справочники.Контрагенты.Реквизиты.Найти("KZ_НомерДокументовПоНДС") &lt;&gt; Неопределено Тогда
	Объект.KZ_НомерДокументовПоНДС = ПараметрыОбъекта["KZ_НомерДокументовПоНДС"];
КонецЕсли;
	
Если Метаданные.Справочники.Контрагенты.Реквизиты.Найти("KZ_РНН") &lt;&gt; Неопределено Тогда
	Объект.KZ_РНН = ПараметрыОбъекта["KZ_РНН"];
КонецЕсли;
	
Если Метаданные.Справочники.Контрагенты.Реквизиты.Найти("KZ_СерияДокументовПоНДС") &lt;&gt; Неопределено Тогда
	Объект.KZ_СерияДокументовПоНДС = ПараметрыОбъекта["KZ_СерияДокументовПоНДС"];
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.Контрагенты</Источник>
						<Приемник>СправочникСсылка.Контрагенты</Приемник>
						<Свойства>
							<Свойство>
								<Код>1</Код>
								<Наименование>ИНН --&gt; ИНН</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>КПП --&gt; КПП</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>ЮрФизЛицо --&gt; ЮрФизЛицо</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
								<Приемник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
								<КодПравилаКонвертации>ЮрФизЛицо                                         </КодПравилаКонвертации>
								<ПередВыгрузкой>Если Источник.НеЯвляетсяРезидентом
	И Источник.ЮрФизЛицо = Перечисления.ЮрФизЛицо.ЮрЛицо Тогда
	
	Значение = "ЮрЛицоНеРезидент"; 
	ИмяПКО = "";
	
ИначеЕсли Источник.ЮрФизЛицо = Перечисления.ЮрФизЛицо.ФизЛицо
	И Найти(Источник.ОКОПФ.Наименование, "ИП") &gt; 0  Тогда
	
	Значение = "ИндивидуальныйПредприниматель";
	ИмяПКО = "";
	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>ЮрФизЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
								<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
								<КодПравилаКонвертации>ЮрФизЛицо_ЮридическоеФизическоеЛицо               </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>--&gt; Партнер</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Источник.Ссылка;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>ГоловнойКонтрагент --&gt; ГоловнойКонтрагент</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="ГоловнойКонтрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="ГоловнойКонтрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>ОбособленноеПодразделение --&gt; ОбособленноеПодразделение</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ОбособленноеПодразделение" Вид="Реквизит" Тип="Булево"/>
								<Приемник Имя="ОбособленноеПодразделение" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>KZ_БИН_ИИН --&gt; KZ_БИН_ИИН</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="KZ_БИН_ИИН" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>KZ_БИН_ИИН</ИмяПараметраДляПередачи>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>KZ_ДатаДокументовПоНДС --&gt; KZ_ДатаДокументовПоНДС</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="KZ_ДатаДокументовПоНДС" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>KZ_ДатаДокументовПоНДС</ИмяПараметраДляПередачи>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>KZ_Документ --&gt; KZ_Документ</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="KZ_Документ" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>KZ_Документ</ИмяПараметраДляПередачи>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>KZ_НомерДокументовПоНДС --&gt; KZ_НомерДокументовПоНДС</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="KZ_НомерДокументовПоНДС" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>KZ_НомерДокументовПоНДС</ИмяПараметраДляПередачи>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>KZ_РНН --&gt; KZ_РНН</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="KZ_РНН" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>KZ_РНН</ИмяПараметраДляПередачи>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование>KZ_СерияДокументовПоНДС --&gt; KZ_СерияДокументовПоНДС</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="KZ_СерияДокументовПоНДС" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>KZ_СерияДокументовПоНДС</ИмяПараметраДляПередачи>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа>
					<Код>Договоры</Код>
					<Наименование>Договоры</Наименование>
					<Порядок>100</Порядок>
					<Правило>
						<Код>ДоговорыКонтрагентов</Код>
						<Наименование>Справочник: Договоры контрагентов</Наименование>
						<Порядок>50</Порядок>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа 
	ИЛИ Источник.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.Прочее    Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьМенеджераВДокумент);

Если Объект.ПорядокРасчетов = Перечисления.ПорядокРасчетов.ПоДоговорамКонтрагентов и ЗначениеЗаполнено(Объект.Дата) и ЗначениеЗаполнено(Объект.Номер) Тогда
	Объект.ИдентификаторПлатежа = ОбщегоНазначенияУТ.ПолучитьУникальныйИдентификаторПлатежа(Объект);
Иначе
	Объект.ИдентификаторПлатежа = Неопределено;
КонецЕсли;

Объект.ВариантПриемкиТоваров = Перечисления.ВариантыПриемкиТоваров.РазделенаТолькоПоНакладным;
Объект.НалогообложениеНДС = Перечисления.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС;

// для записи объектов расчета
Объект.ОбменДанными.Загрузка = Ложь;
Объект.Записать();
ВзаиморасчетыСервер.ПередЗаписью(Объект, Ложь);
Объект.Записать();</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.ДоговорыКонтрагентов</Источник>
						<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>6</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>11</Код>
								<Наименование>Владелец --&gt; Контрагент</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>18</Код>
								<Наименование>ВидДоговора --&gt; ТипДоговора</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
								<Приемник Имя="ТипДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыДоговоров"/>
								<КодПравилаКонвертации>ТипыДоговоров                                     </КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>ВалютаВзаиморасчетов --&gt; ВалютаВзаиморасчетов</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>Наименование --&gt; НаименованиеДляПечати</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="НаименованиеДляПечати" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>ВидДоговора --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<КодПравилаКонвертации>ВидыДоговоровКонтрагентов_ХозяйственныеОперации   </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Владелец --&gt; Партнер</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
								<ПриВыгрузке>Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Значение = Параметры.ДатаОстатков;
КонецЕсли;</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; ДатаНачалаДействия</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаНачалаДействия" Вид="Реквизит" Тип="Дата"/>
								<ПередВыгрузкой>Дата = Дата('19800101');</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>СрокДействия --&gt; ДатаОкончанияДействия</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="СрокДействия" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="ДатаОкончанияДействия" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
								<ПриВыгрузке>Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Значение = Источник.Код;
КонецЕсли;</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>ВедениеВзаиморасчетов --&gt; ПорядокРасчетов</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="ВедениеВзаиморасчетов" Вид="Реквизит" Тип="ПеречислениеСсылка.ВедениеВзаиморасчетовПоДоговорам"/>
								<Приемник Имя="ПорядокРасчетов" Вид="Реквизит" Тип="ПеречислениеСсылка.ПорядокРасчетов"/>
								<КодПравилаКонвертации>ВедениеВзаиморасчетовПоДоговорам_ПорядокРасчетов  </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Согласован</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Согласован" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>ДопустимаяСуммаЗадолженности --&gt; ДопустимаяСуммаЗадолженности</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="ДопустимаяСуммаЗадолженности" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="ДопустимаяСуммаЗадолженности" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Статус</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Статус" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыДоговоровКонтрагентов"/>
								<ПередВыгрузкой>Значение = "Действует";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Правило>
					<Код>БанковскиеСчетаПолучателей</Код>
					<Наименование>Банковские счета получателей</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;</ПередВыгрузкой>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Приемник>СправочникСсылка.БанковскиеСчетаКонтрагентов</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; Банк</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
							<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; БанкДляРасчетов</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
							<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>--&gt; Владелец</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство"/>
							<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование> --&gt; Наименование</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; НомерСчета</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование> --&gt; ТекстКорреспондента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТекстКорреспондента" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование> --&gt; ТекстНазначения</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТекстНазначения" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование> --&gt; ВалютаДенежныхСредств</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>ГруппаФизическиеЛица</Код>
				<Наименование>ГруппаФизическиеЛица</Наименование>
				<Порядок>250</Порядок>
				<Правило>
					<Код>ФизическиеЛица</Код>
					<Наименование>Физические лица</Наименование>
					<Порядок>50</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ФизическиеЛица</Источник>
					<Приемник>СправочникСсылка.ФизическиеЛица</Приемник>
					<Свойства>
						<Свойство Поиск="true" Обязательное="true">
							<Код>22</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаРождения --&gt; ДатаРождения</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
							<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>ГруппаЦенообразование</Код>
				<Наименование>ГруппаЦенообразование</Наименование>
				<Порядок>300</Порядок>
				<Правило>
					<Код>ТипыЦенНоменклатуры_ВидыЦен</Код>
					<Наименование>Типы цен номенклатуры -&gt; Виды цен</Наименование>
					<Порядок>100</Порядок>
					<ПослеЗагрузки>
Параметры.ЗагруженыВидыЦен = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ТипыЦенНоменклатуры</Источник>
					<Приемник>СправочникСсылка.ВидыЦен</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ВалютаЦены --&gt; ВалютаЦены</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВалютаЦены" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаЦены" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ОкруглятьВБольшуюСторону --&gt; ОкруглятьВБольшуюСторону</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ОкруглятьВБольшуюСторону" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ОкруглятьВБольшуюСторону" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>ЦенаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; ИспользоватьПриПродаже</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьПриПродаже" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; СпособЗаданияЦены</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособЗаданияЦены" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыЗаданияЦен"/>
							<ПередВыгрузкой>Значение = "Вручную";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; Идентификатор</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Идентификатор" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>СтрНаименование = Источник.Наименование;

Разделители	=  " .,+,-,/,*,?,=,&lt;,&gt;,(,)%!@#$%&amp;*""№:;{}[]?()\|/`~'^_";

Идентификатор = "";
БылСпецСимвол = Ложь;

Для НомСимвола = 1 По СтрДлина(СтрНаименование) Цикл
	
	Символ = Сред(СтрНаименование, НомСимвола, 1);
	
	Если Найти(Разделители, Символ) &lt;&gt; 0 Тогда
		БылСпецСимвол = Истина;
	ИначеЕсли БылСпецСимвол Тогда
		БылСпецСимвол = Ложь;
		Идентификатор = Идентификатор + ВРег(Символ);
	Иначе
		Идентификатор = Идентификатор + Символ;
	КонецЕсли;
	
КонецЦикла;

Значение = Идентификатор;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ЦеновыеГруппыЦеновыеГруппы</Код>
					<Наименование>Ценовые группы</Наименование>
					<Порядок>150</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ЦеновыеГруппы</Источник>
					<Приемник>СправочникСсылка.ЦеновыеГруппы</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Прочее</Код>
				<Наименование>Прочее</Наименование>
				<Порядок>350</Порядок>
				<Группа>
					<Код>Группа пользователи</Код>
					<Наименование>Пользователи</Наименование>
					<Порядок>150</Порядок>
					<Правило>
						<Код>Пользователи</Код>
						<Наименование>Пользователи -&gt; Пользователи</Наименование>
						<Порядок>50</Порядок>
						<ПослеЗагрузки>Если Объект.ЭтоНовый() Тогда
	Параметры.ЗагруженыНовыеПользователи = Истина;
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.Пользователи</Источник>
						<Приемник>СправочникСсылка.Пользователи</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<Приемник Имя="ФизическоеЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ГруппыПользователей</Код>
						<Наименование>Пользователи -&gt; Группы пользователей</Наименование>
						<Порядок>100</Порядок>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.Пользователи</Источник>
						<Приемник>СправочникСсылка.ГруппыПользователей</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>Родитель --&gt; Родитель</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ГруппыПользователей"/>
								<КодПравилаКонвертации>ГруппыПользователей                               </КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование> --&gt; Состав</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Состав" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	Пользователи.Ссылка КАК Пользователь
|ИЗ
|	Справочник.Пользователи КАК Пользователи
|ГДЕ 
|	Пользователи.Родитель В ИЕРАРХИИ(&amp;Группа)
|	И Не Пользователи.ЭтоГруппа
|";
Запрос.УстановитьПараметр("Группа", Источник.Ссылка);

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();

Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	&amp;Группа КАК ГруппаПользователей,
|	Пользователи.Ссылка КАК Пользователь
|ИЗ
|	Справочник.Пользователи КАК Пользователи
|ГДЕ 
|	Пользователи.Родитель В ИЕРАРХИИ(&amp;Группа)
|	И Не Пользователи.ЭтоГруппа
|";
Запрос.УстановитьПараметр("Группа", Источник.Ссылка);

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();

Для Каждого ОбъектВыгрузки ИЗ КоллекцияОбъектов Цикл
	ВыгрузитьПоПравилу(ОбъектВыгрузки,,,,"СоставГруппПользователей");	
КонецЦикла;</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; Пользователь</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Пользователь" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
									<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
			</Группа>
			<Правило>
				<Код>СтатьиДвиженияДенежныхСредств</Код>
				<Наименование>Справочник: Статьи движения денежных средств</Наименование>
				<Порядок>400</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Источник>
				<Приемник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>250</Порядок>
			<Правило>
				<Код>ПоступлениеТоваровУслуг</Код>
				<Наименование>Документ: Поступление товаров и услуг (Товары)</Наименование>
				<Порядок>50</Порядок>
				<ПослеЗагрузки>
Объект.ВариантПриемкиТоваров = ЗакупкиСервер.ПолучитьВариантПриемкиТоваров(,Объект.Договор);

//////////////////////
	
КурсИКратность = ДенежныеСредстваСервер.КурсЧислительИКурсЗнаменательВзаиморасчетов(
Объект.Дата, Объект.ВалютаВзаиморасчетов, Объект.Дата, Объект.Дата);
Объект.КурсЧислитель = КурсИКратность.КурсЧислитель;
Объект.КурсЗнаменатель = КурсИКратность.КурсЗнаменатель;
	
//////////////////////


Попытка
	Если Параметрыобъекта["Проведен"] Тогда
		Объект.Записать(РежимЗаписиДокумента.Проведение);
		Параметры.ДокументыДляПроведения.Добавить(Объект);
	Иначе
		Объект.Записать(РежимЗаписиДокумента.ОтменаПроведения);
	КонецЕсли;
Исключение
КонецПопытки;

Если Объект.ЭтоНовый() Тогда
	СсылкаНаДокумент = Объект.ПолучитьСсылкуНового();
Иначе
	СсылкаНаДокумент = Объект.Ссылка;
КонецЕсли;

Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(СсылкаНаДокумент);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ПоступлениеТоваровУслуг</Источник>
				<Приемник>ДокументСсылка.ПриобретениеТоваровУслуг</Приемник>
				<Свойства>
					<Свойство>
						<Код>72</Код>
						<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<ПередВыгрузкой>Значение = "ЗакупкаУПоставщика";</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>БанковскийСчетКонтрагента --&gt; БанковскийСчетКонтрагента</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="БанковскийСчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="БанковскийСчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаКонтрагентов"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Грузоотправитель --&gt; Грузоотправитель</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Грузоотправитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Грузоотправитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ДатаВходящегоДокумента --&gt; ДатаВходящегоДокумента</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>Контрагент --&gt; Партнер</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
						<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>80</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>70</Код>
						<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>НомерВходящегоДокумента --&gt; НомерВходящегоДокумента</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Проведен</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>РегистрироватьЦеныПоставщика --&gt; РегистрироватьЦеныПоставщика</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="РегистрироватьЦеныПоставщика" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="РегистрироватьЦеныПоставщика" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>73</Код>
						<Наименование>ВалютаДокумента --&gt; ВалютаВзаиморасчетов</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>71</Код>
						<Наименование>СкладОрдер --&gt; Склад</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="СкладОрдер" Вид="Реквизит"/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>74</Код>
						<Наименование>--&gt; НалогообложениеНДС</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="НалогообложениеНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНалогообложенияНДС"/>
						<ПередВыгрузкой>
Если Источник.УчитыватьНДС Тогда
	Значение = "ПродажаОблагаетсяНДС";
Иначе
	Значение = "ПродажаНеОблагаетсяНДС";
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>77</Код>
						<Наименование>--&gt; ЗакупкаПодДеятельность</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЗакупкаПодДеятельность" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНалогообложенияНДС"/>
						<ПередВыгрузкой>Значение = "ПродажаОблагаетсяНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>76</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>1100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "УПП 1.2 -&gt; УТ11";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>79</Код>
						<Наименование>СуммаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
						<Порядок>1150</Порядок>
						<Источник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Группа>
						<Код>16</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>1200</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>
ТЗ = Источник.Товары.Выгрузить();
Для Каждого ТекСтрока Из Источник.Услуги Цикл
	ЗаполнитьЗначенияСвойств(ТЗ.Добавить(), ТекСтрока);
КонецЦикла;

КоллекцияОбъектов = ТЗ;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>18</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>
Если ОбъектКоллекции.ЕдиницаИзмерения &lt;&gt; ОбъектКоллекции.Номенклатура.ЕдиницаХраненияОстатков Тогда
	Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.ЕдиницаИзмерения.Коэффициент;
Иначе 
	Значение = ОбъектКоллекции.Количество;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>Количество --&gt; КоличествоУпаковок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>78</Код>
							<Наименование>ХарактеристикаНоменклатуры --&gt; Характеристика</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ХарактеристикаНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<КодПравилаКонвертации>ХарактеристикиНоменклатуры                        </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>75</Код>
							<Наименование>ЕдиницаИзмерения --&gt; Упаковка</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="Упаковка" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки                         </КодПравилаКонвертации>
							<ПередВыгрузкой>
Если Не ЗначениеЗаполнено(ОбъектКоллекции.ЕдиницаИзмерения) ИЛИ ОбъектКоллекции.ЕдиницаИзмерения = ОбъектКоллекции.Номенклатура.ЕдиницаХраненияОстатков Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СправочникСтавкиНДС                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>
Если Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма - ОбъектКоллекции.СуммаНДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>--&gt; СуммаСНДС</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаСНДС" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>
Если Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма;
Иначе
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>Склад --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>81</Код>
						<Наименование>Ответственный --&gt; Менеджер</Наименование>
						<Порядок>1250</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Менеджер" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>РеализацияТоваровУслуг</Код>
				<Наименование>Документ: Реализация товаров и услуг</Наименование>
				<Порядок>100</Порядок>
				<ПослеЗагрузки>

//////////////////////
СтруктураПересчетаСуммы = ОбработкаТабличнойЧастиКлиентСервер.ПараметрыПересчетаСуммыНДСВСтрокеТЧ(Объект);

СтруктураДействий = Новый Структура;
СтруктураДействий.Вставить("ПересчитатьСуммуНДС", СтруктураПересчетаСуммы);
СтруктураДействий.Вставить("ПересчитатьСуммуСНДС", СтруктураПересчетаСуммы);
СтруктураДействий.Вставить("ПересчитатьСумму");
СтруктураДействий.Вставить("ПересчитатьСуммуСУчетомРучнойСкидки", Новый Структура("Очищать", Ложь));
СтруктураДействий.Вставить("ПересчитатьСуммуСУчетомАвтоматическойСкидки", Новый Структура("Очищать", Истина));
Для Каждого ТекущаяСтрока Из Объект.Товары Цикл
	ОбработкаТабличнойЧастиСервер.ОбработатьСтрокуТЧ(ТекущаяСтрока, СтруктураДействий, Неопределено);
КонецЦикла;

Объект.СуммаДокумента = Объект.ПолучитьСуммуДокумента();

Если Объект.Валюта &lt;&gt; Параметры["мВалютаРегламентированногоУчета"] Тогда
	Объект.IT_ТребуетсяПересчетКурса = Истина;
КонецЕсли;
//////////////////////

Попытка
	Если Параметрыобъекта["Проведен"] Тогда
		Объект.Записать(РежимЗаписиДокумента.Проведение);
		Параметры.ДокументыДляПроведения.Добавить(Объект);
	Иначе
		Объект.Записать(РежимЗаписиДокумента.ОтменаПроведения);
	КонецЕсли;
Исключение
КонецПопытки;

Если Объект.ЭтоНовый() Тогда
	СсылкаНаДокумент = Объект.ПолучитьСсылкуНового();
Иначе
	СсылкаНаДокумент = Объект.Ссылка;
КонецЕсли;

Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(СсылкаНаДокумент);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.РеализацияТоваровУслуг</Источник>
				<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>АдресДоставки --&gt; АдресДоставки</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>Грузоотправитель --&gt; Грузоотправитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Грузоотправитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Грузоотправитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>Грузополучатель --&gt; Грузополучатель</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Грузополучатель" Вид="Реквизит"/>
						<Приемник Имя="Грузополучатель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>ДоверенностьВыдана --&gt; ДоверенностьВыдана</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ДоверенностьВыдана" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ДоверенностьВыдана" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>ДоверенностьДата --&gt; ДоверенностьДата</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ДоверенностьДата" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДоверенностьДата" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>ДоверенностьНомер --&gt; ДоверенностьНомер</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ДоверенностьНомер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ДоверенностьНомер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>Контрагент --&gt; Партнер</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
						<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>43</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>Склад --&gt; Склад</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Если Источник.ВалютаДокумента &lt;&gt; Справочники.Валюты.НайтиПоНаименованию("KZT") Тогда
	Значение = 0;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>27</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>28</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Проведен</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>31</Код>
						<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>32</Код>
						<Наименование>ВалютаДокумента --&gt; ВалютаВзаиморасчетов</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						<ПередВыгрузкой>
Значение = Источник.ДоговорКонтрагента.ВалютаВзаиморасчетов;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>33</Код>
						<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>35</Код>
						<Наименование>СуммаДокумента --&gt; СуммаВзаиморасчетов</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>

//Если Источник.ВалютаДокумента &lt;&gt; Параметры["ВалютаKZT"] Тогда
//	КурсКратность = ОбщегоНазначения.ПолучитьКурсВалюты(Параметры["ВалютаUSD"],Источник.Дата);
//	Значение = ОбщегоНазначения.ПересчитатьИзВалютыВВалюту(Источник.СуммаДокумента,
//		Источник.ВалютаДокумента, Источник.ДоговорКонтрагента.ВалютаВзаиморасчетов,
//		УправлениеВзаиморасчетами.КурсДокумента(Источник, Источник.ВалютаДокумента), КурсКратность.Курс,
//		УправлениеВзаиморасчетами.КратностьДокумента(Источник, Источник.ВалютаДокумента), КурсКратность.Кратность);
//КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>36</Код>
						<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
						<Порядок>1100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<ПередВыгрузкой>Значение = "РеализацияКлиенту";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>40</Код>
						<Наименование>БанковскийСчетОрганизации --&gt; БанковскийСчетОрганизации</Наименование>
						<Порядок>1150</Порядок>
						<Источник Имя="БанковскийСчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="БанковскийСчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаОрганизаций"/>
						<КодПравилаКонвертации>БанковскиеСчетаОрганизаций                        </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>41</Код>
						<Наименование>--&gt; НалогообложениеНДС</Наименование>
						<Порядок>1200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="НалогообложениеНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНалогообложенияНДС"/>
						<ПередВыгрузкой>
Если Источник.УчитыватьНДС Тогда
	Значение = "ПродажаОблагаетсяНДС";
Иначе
	Значение = "ПродажаНеОблагаетсяНДС";
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>42</Код>
						<Наименование>СуммаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
						<Порядок>1250</Порядок>
						<Источник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>45</Код>
						<Наименование>КратностьВзаиморасчетов --&gt; КурсЗнаменатель</Наименование>
						<Порядок>1300</Порядок>
						<Источник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="КурсЗнаменатель" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>46</Код>
						<Наименование>КурсВзаиморасчетов --&gt; КурсЧислитель</Наименование>
						<Порядок>1350</Порядок>
						<Источник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="КурсЧислитель" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Группа>
						<Код>3</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>1400</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>
ТЗ = Источник.Товары.Выгрузить();
Для Каждого ТекСтрока Из Источник.Услуги Цикл
	ЗаполнитьЗначенияСвойств(ТЗ.Добавить(), ТекСтрока);
КонецЦикла;

КоллекцияОбъектов = ТЗ;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>4</Код>
							<Наименование>КлючСвязи --&gt; КлючСвязи</Наименование>
							<Порядок>20</Порядок>
							<Источник Имя="КлючСвязи" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КлючСвязи" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если ОбъектКоллекции.ЕдиницаИзмерения &lt;&gt; ОбъектКоллекции.Номенклатура.ЕдиницаХраненияОстатков Тогда
	Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.ЕдиницаИзмерения.Коэффициент;
Иначе 
	Значение = ОбъектКоллекции.Количество;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>Количество --&gt; КоличествоУпаковок</Наименование>
							<Порядок>110</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>
//Если Источник.ВалютаДокумента &lt;&gt; Параметры["ВалютаKZT"] Тогда
//	КурсКратность = ОбщегоНазначения.ПолучитьКурсВалюты(Параметры["ВалютаUSD"],Источник.Дата);
//	Значение = ОбщегоНазначения.ПересчитатьИзВалютыВВалюту(ОбъектКоллекции.Цена,
//		Источник.ВалютаДокумента, Параметры["ВалютаUSD"],
//		УправлениеВзаиморасчетами.КурсДокумента(Источник, Источник.ВалютаДокумента), КурсКратность.Курс,
//		УправлениеВзаиморасчетами.КратностьДокумента(Источник, Источник.ВалютаДокумента), КурсКратность.Кратность);
//КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СправочникСтавкиНДС                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>9</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма - ОбъектКоллекции.СуммаНДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>
Если Источник.ВалютаДокумента &lt;&gt; Справочники.Валюты.НайтиПоНаименованию("KZT") Тогда
	КурсКратность = ОбщегоНазначения.ПолучитьКурсВалюты(Справочники.Валюты.НайтиПоНаименованию("USD"),Источник.Дата);
	Значение = ОбщегоНазначения.ПересчитатьИзВалютыВВалюту(ОбъектКоллекции.СуммаНДС,
		Источник.ВалютаДокумента, Источник.ДоговорКонтрагента.ВалютаВзаиморасчетов,
		УправлениеВзаиморасчетами.КурсДокумента(Источник, Параметры["мВалютаРегламентированногоУчета"]), КурсКратность.Курс,
		УправлениеВзаиморасчетами.КратностьДокумента(Источник, Параметры["мВалютаРегламентированногоУчета"]), КурсКратность.Кратность);
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>30</Код>
							<Наименование>--&gt; СуммаСНДС</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаСНДС" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>
Если Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма;
Иначе
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Склад --&gt; Склад</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>37</Код>
							<Наименование>ЕдиницаИзмерения --&gt; Упаковка</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="Упаковка" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки                         </КодПравилаКонвертации>
							<ПередВыгрузкой>
Если Не ЗначениеЗаполнено(ОбъектКоллекции.ЕдиницаИзмерения) ИЛИ ОбъектКоллекции.ЕдиницаИзмерения = ОбъектКоллекции.Номенклатура.ЕдиницаХраненияОстатков Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>39</Код>
							<Наименование>ХарактеристикаНоменклатуры --&gt; Характеристика</Наименование>
							<Порядок>1150</Порядок>
							<Источник Имя="ХарактеристикаНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<КодПравилаКонвертации>ХарактеристикиНоменклатуры                        </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>44</Код>
							<Наименование>Сумма --&gt; СуммаВзаиморасчетов</Наименование>
							<Порядок>1200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>
//Если Источник.ВалютаДокумента &lt;&gt; Параметры["ВалютаKZT"] Тогда
//	КурсКратность = ОбщегоНазначения.ПолучитьКурсВалюты(Параметры["ВалютаUSD"],Источник.Дата);
//	Значение = ОбщегоНазначения.ПересчитатьИзВалютыВВалюту(ОбъектКоллекции.Сумма,
//		Источник.ВалютаДокумента, Параметры["ВалютаUSD"],
//		УправлениеВзаиморасчетами.КурсДокумента(Источник, Источник.ВалютаДокумента), КурсКратность.Курс,
//		УправлениеВзаиморасчетами.КратностьДокумента(Источник, Источник.ВалютаДокумента), КурсКратность.Кратность);
//КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>47</Код>
						<Наименование>Ответственный --&gt; Менеджер</Наименование>
						<Порядок>1450</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Менеджер" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВозвратТоваровОтКлиента</Код>
				<Наименование>Документ: Возврат товаров от покупателя</Наименование>
				<Порядок>150</Порядок>
				<ПослеЗагрузки>

//////////////////////
СтруктураПересчетаСуммы = ОбработкаТабличнойЧастиКлиентСервер.ПараметрыПересчетаСуммыНДСВСтрокеТЧ(Объект);

СтруктураДействий = Новый Структура;
СтруктураДействий.Вставить("ПересчитатьСуммуНДС", СтруктураПересчетаСуммы);
СтруктураДействий.Вставить("ПересчитатьСуммуСНДС", СтруктураПересчетаСуммы);
СтруктураДействий.Вставить("ПересчитатьСумму");
Для Каждого ТекущаяСтрока Из Объект.Товары Цикл
	ОбработкаТабличнойЧастиСервер.ОбработатьСтрокуТЧ(ТекущаяСтрока, СтруктураДействий, Неопределено);
КонецЦикла;

Объект.СуммаДокумента = Объект.ПолучитьСуммуДокумента();
//////////////////////

Объект.ВариантПриемкиТоваров = ЗакупкиСервер.ПолучитьВариантПриемкиТоваров(,Объект.Договор);

Попытка
	Если Объект.ВалютаДокумента = Константы.ВалютаРегламентированногоУчета.Получить() И Параметрыобъекта["Проведен"] Тогда
		Объект.Записать(РежимЗаписиДокумента.Проведение);
		Параметры.ДокументыДляПроведения.Добавить(Объект);
	Иначе
		Объект.Записать(РежимЗаписиДокумента.ОтменаПроведения);
	КонецЕсли;
Исключение
КонецПопытки;

Если Объект.ЭтоНовый() Тогда
	СсылкаНаДокумент = Объект.ПолучитьСсылкуНового();
Иначе
	СсылкаНаДокумент = Объект.Ссылка;
КонецЕсли;

Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(СсылкаНаДокумент);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ВозвратТоваровОтПокупателя</Источник>
				<Приемник>ДокументСсылка.ВозвратТоваровОтКлиента</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>22</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>21</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>ДатаРасходногоКассовогоОрдера --&gt; ДатаРасходногоКассовогоОрдера</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ДатаРасходногоКассовогоОрдера" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаРасходногоКассовогоОрдера" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>НомерРасходногоКассовогоОрдера --&gt; НомерРасходногоКассовогоОрдера</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="НомерРасходногоКассовогоОрдера" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерРасходногоКассовогоОрдера" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>Склад --&gt; Склад</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>
//Если Источник.ВалютаДокумента &lt;&gt; Параметры["ВалютаKZT"] Тогда
//	КурсКратность = ОбщегоНазначения.ПолучитьКурсВалюты(Параметры["ВалютаUSD"],Источник.Дата);
//	Значение = ОбщегоНазначения.ПересчитатьИзВалютыВВалюту(Источник.СуммаДокумента,
//		Источник.ВалютаДокумента, Источник.ДоговорКонтрагента.ВалютаВзаиморасчетов,
//		УправлениеВзаиморасчетами.КурсДокумента(Источник, Источник.ВалютаДокумента), КурсКратность.Курс,
//		УправлениеВзаиморасчетами.КратностьДокумента(Источник, Источник.ВалютаДокумента), КурсКратность.Кратность);
//КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Проведен</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство Отключить="true">
						<Код>25</Код>
						<Наименование>ВидОперации --&gt;</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя"/>
						<Приемник Имя="" Вид=""/>
						<ПередВыгрузкой>Значение = "ВозвратОтРозничногоПокупателя";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>27</Код>
						<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						<ПередВыгрузкой>

//Если Источник.ВалютаДокумента &lt;&gt; Параметры["ВалютаKZT"] Тогда
//	Значение = Параметры["ВалютаUSD"];
//КонецЕсли;

Значение = Источник.ДоговорКонтрагента.ВалютаВзаиморасчетов;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>28</Код>
						<Наименование>Ответственный --&gt; Менеджер</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Менеджер" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>29</Код>
						<Наименование>Контрагент --&gt; Партнер</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
						<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>30</Код>
						<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<ПередВыгрузкой>Значение = "ВозвратТоваровОтКлиента";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>33</Код>
						<Наименование>--&gt; НалогообложениеНДС</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="НалогообложениеНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНалогообложенияНДС"/>
						<ПередВыгрузкой>
Если Источник.УчитыватьНДС Тогда
	Значение = "ПродажаОблагаетсяНДС";
Иначе
	Значение = "ПродажаНеОблагаетсяНДС";
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>34</Код>
						<Наименование>СуммаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>35</Код>
						<Наименование>--&gt; СпособКомпенсации</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособКомпенсации" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыКомпенсацииВозвратовТоваров"/>
						<ПередВыгрузкой>Значение = "ВернутьДенежныеСредства";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>36</Код>
						<Наименование>ДокументПродажи --&gt; ДокументРеализации</Наименование>
						<Порядок>1100</Порядок>
						<Источник Имя="ДокументПродажи" Вид="Реквизит" Тип="ДокументСсылка.РеализацияТоваровУслуг"/>
						<Приемник Имя="ДокументРеализации" Вид="Реквизит"/>
						<КодПравилаКонвертации>РеализацияТоваровУслугТолькоСсылка                </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.Товары.Количество() Тогда
	Значение = Источник.Товары[0].ДокументПартии;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>1</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>1150</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>2</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если ОбъектКоллекции.ЕдиницаИзмерения &lt;&gt; ОбъектКоллекции.Номенклатура.ЕдиницаХраненияОстатков Тогда
	Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.ЕдиницаИзмерения.Коэффициент;
Иначе 
	Значение = ОбъектКоллекции.Количество;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Количество --&gt; КоличествоУпаковок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СправочникСтавкиНДС                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>

//Если Источник.ВалютаДокумента &lt;&gt; Параметры["ВалютаKZT"] Тогда
//	КурсКратность = ОбщегоНазначения.ПолучитьКурсВалюты(Параметры["ВалютаUSD"],Источник.Дата);
//	Значение = ОбщегоНазначения.ПересчитатьИзВалютыВВалюту(ОбъектКоллекции.Цена,
//		Источник.ВалютаДокумента, Параметры["ВалютаUSD"],
//		УправлениеВзаиморасчетами.КурсДокумента(Источник, Источник.ВалютаДокумента), КурсКратность.Курс,
//		УправлениеВзаиморасчетами.КратностьДокумента(Источник, Источник.ВалютаДокумента), КурсКратность.Кратность);
//КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>ЕдиницаИзмерения --&gt; Упаковка</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="Упаковка" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки                         </КодПравилаКонвертации>
							<ПередВыгрузкой>
Если Не ЗначениеЗаполнено(ОбъектКоллекции.ЕдиницаИзмерения) ИЛИ ОбъектКоллекции.ЕдиницаИзмерения = ОбъектКоллекции.Номенклатура.ЕдиницаХраненияОстатков Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ХарактеристикаНоменклатуры --&gt; Характеристика</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ХарактеристикаНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<КодПравилаКонвертации>ХарактеристикиНоменклатуры                        </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>--&gt; СуммаСНДС</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаСНДС" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>
Если Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма;
Иначе
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>СерияНоменклатуры --&gt; Серия</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="СерияНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.СерииНоменклатуры"/>
							<Приемник Имя="Серия" Вид="Реквизит" Тип="СправочникСсылка.СерииНоменклатуры"/>
							<КодПравилаКонвертации>СерииНоменклатуры                                 </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>37</Код>
							<Наименование>ДокументПартии --&gt; ДокументРеализации</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="ДокументПартии" Вид="Реквизит"/>
							<Приемник Имя="ДокументРеализации" Вид="Реквизит"/>
							<КодПравилаКонвертации>РеализацияТоваровУслугТолькоСсылка                </КодПравилаКонвертации>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>38</Код>
						<Наименование>Ответственный --&gt; Менеджер</Наименование>
						<Порядок>1200</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Менеджер" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПеремещениеТоваров</Код>
				<Наименование>Документ: Перемещение товаров</Наименование>
				<Порядок>200</Порядок>
				<ПослеЗагрузки>
Попытка
	Если Параметрыобъекта["Проведен"] Тогда
		Объект.Записать(РежимЗаписиДокумента.Проведение);
		Параметры.ДокументыДляПроведения.Добавить(Объект);
	Иначе
		Объект.Записать(РежимЗаписиДокумента.ОтменаПроведения);
	КонецЕсли;
Исключение
КонецПопытки;

Если Объект.ЭтоНовый() Тогда
	СсылкаНаДокумент = Объект.ПолучитьСсылкуНового();
Иначе
	СсылкаНаДокумент = Объект.Ссылка;
КонецЕсли;

Объект.ВариантПриемкиТоваров = Константы.ВариантПриемкиТоваров.Получить();

Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(СсылкаНаДокумент);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ПеремещениеТоваров</Источник>
				<Приемник>ДокументСсылка.ПеремещениеТоваров</Приемник>
				<Свойства>
					<Свойство>
						<Код>6</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>СкладОтправитель --&gt; СкладОтправитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="СкладОтправитель" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<Приемник Имя="СкладОтправитель" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>СкладПолучатель --&gt; СкладПолучатель</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="СкладПолучатель" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<Приемник Имя="СкладПолучатель" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>13</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>14</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Проведен</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<ПередВыгрузкой>Значение = "ПеремещениеТоваров";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>1</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>2</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если ОбъектКоллекции.ЕдиницаИзмерения &lt;&gt; ОбъектКоллекции.Номенклатура.ЕдиницаХраненияОстатков Тогда
	Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.ЕдиницаИзмерения.Коэффициент;
Иначе 
	Значение = ОбъектКоллекции.Количество;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Количество --&gt; КоличествоУпаковок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ЕдиницаИзмерения --&gt; Упаковка</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="Упаковка" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки                         </КодПравилаКонвертации>
							<ПередВыгрузкой>
Если Не ЗначениеЗаполнено(ОбъектКоллекции.ЕдиницаИзмерения) ИЛИ ОбъектКоллекции.ЕдиницаИзмерения = ОбъектКоллекции.Номенклатура.ЕдиницаХраненияОстатков Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ХарактеристикаНоменклатуры --&gt; Характеристика</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ХарактеристикаНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<КодПравилаКонвертации>ХарактеристикиНоменклатуры                        </КодПравилаКонвертации>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>19</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>РеализацияТоваровУслугТолькоСсылка</Код>
				<Наименование>Документ: Реализация товаров и услуг</Наименование>
				<Порядок>300</Порядок>
				<НеЗамещать>true</НеЗамещать>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ПриПереносеОбъектаПоСсылкеУстанавливатьТолькоGIUD>true</ПриПереносеОбъектаПоСсылкеУстанавливатьТолькоGIUD>
				<Источник>ДокументСсылка.РеализацияТоваровУслуг</Источник>
				<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>РасходныйКассовыйОрдер</Код>
				<Наименование>Документ: Расходный кассовый ордер</Наименование>
				<Порядок>350</Порядок>
				<ПослеЗагрузки>
Объект.ДатаАвансовогоОтчета = Объект.Дата + 7 * 24 * 3600;

Для каждого СтрокаТЧ Из Объект.РасшифровкаПлатежа Цикл
	КурсИКратность = ДенежныеСредстваСервер.КурсЧислительИКурсЗнаменательВзаиморасчетов(
	Объект.Валюта, СтрокаТЧ.ВалютаВзаиморасчетов, Параметры["мВалютаРегламентированногоУчета"], Объект.Дата);
	СтрокаТЧ.КурсЧислительВзаиморасчетов = КурсИКратность.КурсЧислитель;
	СтрокаТЧ.КурсЗнаменательВзаиморасчетов = КурсИКратность.КурсЗнаменатель;
КонецЦикла;

Если Не ЗначениеЗаполнено(Объект.СтатьяДвиженияДенежныхСредств) И Объект.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
	Объект.СтатьяДвиженияДенежныхСредств = Объект.РасшифровкаПлатежа[0].СтатьяДвиженияДенежныхСредств;
КонецЕсли;

Попытка
	Если Параметрыобъекта["Проведен"] Тогда
		Объект.Записать(РежимЗаписиДокумента.Проведение);
		Параметры.ДокументыДляПроведения.Добавить(Объект);
	Иначе
		Объект.Записать(РежимЗаписиДокумента.ОтменаПроведения);
	КонецЕсли;
Исключение
КонецПопытки;

Объект.ОбменДанными.Загрузка = Ложь;
Объект.Записать();

Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(Объект.Ссылка);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
				<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Выдать --&gt; Выдать</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Касса --&gt; Касса</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
						<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
						<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ТипЗНЧ(Источник.Контрагент) &lt;&gt; Тип("СправочникСсылка.Контрагенты") Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>8</Код>
						<Наименование>НомерЧекаККМ --&gt; НомерЧекаККМ</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="НомерЧекаККМ" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="НомерЧекаККМ" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Основание --&gt; Основание</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ПоДокументу --&gt; ПоДокументу</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>Приложение --&gt; Приложение</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Проведен</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>ВидОперации --&gt; ХозяйственнаяОперация</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
						<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<КодПравилаКонвертации>ВидыОперацийРКО_ХозяйственныеОперации             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>Контрагент --&gt; ПодотчетноеЛицо</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит"/>
						<Приемник Имя="ПодотчетноеЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ТипЗНЧ(Источник.Контрагент) &lt;&gt; Тип("СправочникСсылка.ФизическиеЛица") Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>СчетОрганизации --&gt; БанковскийСчет</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="СчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаОрганизаций"/>
						<КодПравилаКонвертации>БанковскиеСчетаОрганизаций                        </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>27</Код>
						<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Договор" Вид="Реквизит"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>28</Код>
						<Наименование>Контрагент --&gt; Партнер</Наименование>
						<Порядок>1100</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит"/>
						<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
						<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ТипЗНЧ(Источник.Контрагент) &lt;&gt; Тип("СправочникСсылка.Контрагенты") Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>18</Код>
						<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
						<Порядок>1150</Порядок>
						<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>19</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СправочникСтавкиНДС                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>СуммаВзаиморасчетов --&gt; СуммаВзаиморасчетов</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ВалютаДокумента;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>СуммаПлатежа --&gt; Сумма</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>--&gt; Партнер</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
							<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
							<ПередВыгрузкой>
Если ТипЗнч(Источник.Контрагент) = Тип("СправочникСсылка.Контрагенты") Тогда
	ИмяПКО = "Контрагенты_Партнеры";
Иначе //тут неопределенно 
	Отказ = Истина;
КонецЕсли;
Значение = Источник.Контрагент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>КурсВзаиморасчетов --&gt; КурсЗнаменательВзаиморасчетов</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсЗнаменательВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>КратностьВзаиморасчетов --&gt; КурсЗнаменательВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсЗнаменательВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>34</Код>
						<Наименование>Ответственный --&gt; Автор</Наименование>
						<Порядок>1200</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПриходныйКассовыйОрдер</Код>
				<Наименование>Документ: Приходный кассовый ордер</Наименование>
				<Порядок>400</Порядок>
				<ПослеЗагрузки>
Для каждого СтрокаТЧ Из Объект.РасшифровкаПлатежа Цикл
	
	КурсИКратность = ДенежныеСредстваСервер.КурсЧислительИКурсЗнаменательВзаиморасчетов(
	Объект.Валюта, СтрокаТЧ.ВалютаВзаиморасчетов, Параметры["мВалютаРегламентированногоУчета"], Объект.Дата);
	СтрокаТЧ.КурсЧислительВзаиморасчетов = КурсИКратность.КурсЧислитель;
	СтрокаТЧ.КурсЗнаменательВзаиморасчетов = КурсИКратность.КурсЗнаменатель;
	
	Если Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПогашениеЗаймаСотрудником Тогда
		СтрокаТЧ.ТипСуммыКредитаДепозита = Перечисления.ТипыСуммГрафикаКредитовИДепозитов.ОсновнойДолг;
	КонецЕсли;
	
КонецЦикла;

Если Не ЗначениеЗаполнено(Объект.СтатьяДвиженияДенежныхСредств) И Объект.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
	Объект.СтатьяДвиженияДенежныхСредств = Объект.РасшифровкаПлатежа[0].СтатьяДвиженияДенежныхСредств;
КонецЕсли;

Попытка
	Если Параметрыобъекта["Проведен"] Тогда
		Объект.Записать(РежимЗаписиДокумента.Проведение);
		Параметры.ДокументыДляПроведения.Добавить(Объект);
	Иначе
		Объект.Записать(РежимЗаписиДокумента.ОтменаПроведения);
	КонецЕсли;
Исключение
КонецПопытки;

Объект.ОбменДанными.Загрузка = Ложь;
Объект.Записать();

Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(Объект.Ссылка);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ПриходныйКассовыйОрдер</Источник>
				<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Касса --&gt; Касса</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
						<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
						<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ТипЗНЧ(Источник.Контрагент) &lt;&gt; Тип("СправочникСсылка.Контрагенты") Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>6</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>7</Код>
						<Наименование>НомерЧекаККМ --&gt; НомерЧекаККМ</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="НомерЧекаККМ" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="НомерЧекаККМ" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Основание --&gt; Основание</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Приложение --&gt; Приложение</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>ПринятоОт --&gt; ПринятоОт</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Проведен</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>ВидОперации --&gt; ХозяйственнаяОперация</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
						<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<КодПравилаКонвертации>ВидыОперацийПКО_ХозяйственныеОперации             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>Контрагент --&gt; ПодотчетноеЛицо</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит"/>
						<Приемник Имя="ПодотчетноеЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ТипЗНЧ(Источник.Контрагент) &lt;&gt; Тип("СправочникСсылка.ФизическиеЛица") Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>29</Код>
						<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Договор" Вид="Реквизит"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>30</Код>
						<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>31</Код>
						<Наименование>Контрагент --&gt; Партнер</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит"/>
						<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
						<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ТипЗНЧ(Источник.Контрагент) &lt;&gt; Тип("СправочникСсылка.Контрагенты") Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>34</Код>
						<Наименование>СчетОрганизации --&gt; БанковскийСчет</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="СчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаОрганизаций"/>
						<КодПравилаКонвертации>БанковскиеСчетаОрганизаций                        </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>17</Код>
						<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
						<Порядок>1100</Порядок>
						<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>18</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СправочникСтавкиНДС                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>СуммаВзаиморасчетов --&gt; СуммаВзаиморасчетов</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ВалютаДокумента;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>--&gt; Партнер</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
							<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ТипЗНЧ(Источник.Контрагент) &lt;&gt; Тип("СправочникСсылка.Контрагенты") Тогда
	Отказ = Истина;
КонецЕсли;
Значение = Источник.Контрагент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
							<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>СуммаПлатежа --&gt; Сумма</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>ДоговорКонтрагента --&gt; ОснованиеПлатежа</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="ОснованиеПлатежа" Вид="Реквизит"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>35</Код>
						<Наименование>Ответственный --&gt; Автор</Наименование>
						<Порядок>1150</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПоступлениеБезналичныхДенежныхСредств</Код>
				<Наименование>Документ: Платежное поручение входящее</Наименование>
				<Порядок>450</Порядок>
				<ПослеЗагрузки>
Если ЗначениеЗаполнено(Объект.Договор) Тогда
	Объект.ОбъектРасчетов = ОбъектыРасчетовСервер.ПолучитьОбъектРасчетовПоСсылке(Объект.Договор);
КонецЕсли;

Для каждого СтрокаТЧ Из Объект.РасшифровкаПлатежа Цикл
	КурсИКратность = ДенежныеСредстваСервер.КурсЧислительИКурсЗнаменательВзаиморасчетов(
	Объект.Валюта, СтрокаТЧ.ВалютаВзаиморасчетов, Параметры["мВалютаРегламентированногоУчета"], Объект.Дата);
	СтрокаТЧ.КурсЧислительВзаиморасчетов = КурсИКратность.КурсЧислитель;
	СтрокаТЧ.КурсЗнаменательВзаиморасчетов = КурсИКратность.КурсЗнаменатель;
	СтрокаТЧ.ОбъектРасчетов = ?(ЗначениеЗаполнено(Объект.ОбъектРасчетов), Объект.ОбъектРасчетов, Неопределено);
КонецЦикла;

Если Не ЗначениеЗаполнено(Объект.СтатьяДвиженияДенежныхСредств) И Объект.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
	Объект.СтатьяДвиженияДенежныхСредств = Объект.РасшифровкаПлатежа[0].СтатьяДвиженияДенежныхСредств;
КонецЕсли;

Попытка
	Если Параметрыобъекта["Проведен"] Тогда
		Объект.Записать(РежимЗаписиДокумента.Проведение);
		Параметры.ДокументыДляПроведения.Добавить(Объект);
	Иначе
		Объект.Записать(РежимЗаписиДокумента.ОтменаПроведения);
	КонецЕсли;
Исключение
КонецПопытки;

Объект.ОбменДанными.Загрузка = Ложь;
Объект.Записать();

Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(Объект.Ссылка);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ПлатежноеПоручениеВходящее</Источник>
				<Приемник>ДокументСсылка.ПоступлениеБезналичныхДенежныхСредств</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ДатаВходящегоДокумента --&gt; ДатаВходящегоДокумента</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>НазначениеПлатежа --&gt; НазначениеПлатежа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="НазначениеПлатежа" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НазначениеПлатежа" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>НомерВходящегоДокумента --&gt; НомерВходящегоДокумента</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Проведен</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>--&gt; ТипПлатежногоДокумента</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТипПлатежногоДокумента" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыПлатежныхДокументов"/>
						<ПередВыгрузкой>
Значение = "ПлатежноеПоручение";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>ВидОперации --&gt; ХозяйственнаяОперация</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеБезналичныхДенежныхСредств"/>
						<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<КодПравилаКонвертации>ПоступлениеБезналичныхДС_ХозяйственныеОперации    </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>Контрагент --&gt; Партнер</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
						<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Договор" Вид="Реквизит"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>СчетОрганизации --&gt; БанковскийСчет</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="СчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаОрганизаций"/>
						<КодПравилаКонвертации>БанковскиеСчетаОрганизаций                        </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>33</Код>
						<Наименование>ДатаОплаты --&gt; ДатаПроведенияБанком</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="ДатаОплаты" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаПроведенияБанком" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>34</Код>
						<Наименование>Оплачено --&gt; ПроведеноБанком</Наименование>
						<Порядок>1100</Порядок>
						<Источник Имя="Оплачено" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ПроведеноБанком" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>35</Код>
						<Наименование>СчетКонтрагента --&gt; БанковскийСчетКонтрагента</Наименование>
						<Порядок>1150</Порядок>
						<Источник Имя="СчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="БанковскийСчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаКонтрагентов"/>
						<КодПравилаКонвертации>БанковскиеСчетаПолучателей                        </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>16</Код>
						<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
						<Порядок>1200</Порядок>
						<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>17</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СправочникСтавкиНДС                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>СуммаВзаиморасчетов --&gt; СуммаВзаиморасчетов</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ВалютаДокумента;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>--&gt; Партнер</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
							<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Контрагент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
							<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>СуммаПлатежа --&gt; Сумма</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>ДоговорКонтрагента --&gt; ОснованиеПлатежа</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="ОснованиеПлатежа" Вид="Реквизит"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СписаниеБезналичныхДенежныхСредств</Код>
				<Наименование>Документ: Платежное поручение исходящее</Наименование>
				<Порядок>500</Порядок>
				<ПослеЗагрузки>
Для Каждого СтрокаТЧ Из Объект.РасшифровкаПлатежа Цикл
	КурсИКратность = ДенежныеСредстваСервер.КурсЧислительИКурсЗнаменательВзаиморасчетов(
	Объект.Валюта, СтрокаТЧ.ВалютаВзаиморасчетов, Параметры["мВалютаРегламентированногоУчета"], Объект.Дата);
	СтрокаТЧ.КурсЧислительВзаиморасчетов = КурсИКратность.КурсЧислитель;
	СтрокаТЧ.КурсЗнаменательВзаиморасчетов = КурсИКратность.КурсЗнаменатель;
КонецЦикла;

Если Не ЗначениеЗаполнено(Объект.СтатьяДвиженияДенежныхСредств) И Объект.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
	Объект.СтатьяДвиженияДенежныхСредств = Объект.РасшифровкаПлатежа[0].СтатьяДвиженияДенежныхСредств;
КонецЕсли;

Попытка
	Если Параметрыобъекта["Проведен"] Тогда
		Объект.Записать(РежимЗаписиДокумента.Проведение);
		Параметры.ДокументыДляПроведения.Добавить(Объект);
	Иначе
		Объект.Записать(РежимЗаписиДокумента.ОтменаПроведения);
	КонецЕсли;
Исключение
КонецПопытки;

Объект.ОбменДанными.Загрузка = Ложь;
Объект.Записать();

Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(Объект.Ссылка);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ПлатежноеПоручениеИсходящее</Источник>
				<Приемник>ДокументСсылка.СписаниеБезналичныхДенежныхСредств</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ВидПеречисленияВБюджет --&gt; ВидПеречисленияВБюджет</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ВидПеречисленияВБюджет" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыПеречисленийВБюджет"/>
						<Приемник Имя="ВидПеречисленияВБюджет" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыПеречисленийВБюджет"/>
						<КодПравилаКонвертации>ВидыПеречисленийВБюджет                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ВидПлатежа --&gt; ВидПлатежа</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ВидПлатежа" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ВидПлатежа" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ИдентификаторПлатежа --&gt; ИдентификаторПлатежа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ИдентификаторПлатежа" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИдентификаторПлатежа" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ИННПлательщика --&gt; ИННПлательщика</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ИННПлательщика" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИННПлательщика" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>КодБК --&gt; КодБК</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="КодБК" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодБК" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>КодВидаДохода --&gt; КодВидаДохода</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="КодВидаДохода" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодВидаДохода" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>КодОКАТО --&gt; КодОКАТО</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="КодОКАТО" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодОКАТО" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>КПППлательщика --&gt; КПППлательщика</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="КПППлательщика" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КПППлательщика" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>НазначениеПлатежа --&gt; НазначениеПлатежа</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="НазначениеПлатежа" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НазначениеПлатежа" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>14</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>ОчередностьПлатежа --&gt; ОчередностьПлатежа</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ОчередностьПлатежа" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="ОчередностьПлатежа" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>ПеречислениеВБюджет --&gt; ПеречислениеВБюджет</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="ПеречислениеВБюджет" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ПеречислениеВБюджет" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>ПоказательДаты --&gt; ПоказательДаты</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="ПоказательДаты" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ПоказательДаты" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>ПоказательНомера --&gt; ПоказательНомера</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="ПоказательНомера" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПоказательНомера" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>ПоказательОснования --&gt; ПоказательОснования</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="ПоказательОснования" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПоказательОснования" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>ПоказательПериода --&gt; ПоказательПериода</Наименование>
						<Порядок>1100</Порядок>
						<Источник Имя="ПоказательПериода" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПоказательПериода" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>ПоказательТипа --&gt; ПоказательТипа</Наименование>
						<Порядок>1150</Порядок>
						<Источник Имя="ПоказательТипа" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПоказательТипа" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>1200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>1250</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Проведен</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>27</Код>
						<Наименование>СтатусСоставителя --&gt; СтатусСоставителя</Наименование>
						<Порядок>1300</Порядок>
						<Источник Имя="СтатусСоставителя" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="СтатусСоставителя" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>28</Код>
						<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>1350</Порядок>
						<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>29</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>1400</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>30</Код>
						<Наименование>ТекстПлательщика --&gt; ТекстПлательщика</Наименование>
						<Порядок>1450</Порядок>
						<Источник Имя="ТекстПлательщика" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ТекстПлательщика" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>36</Код>
						<Наименование>--&gt; ТипПлатежногоДокумента</Наименование>
						<Порядок>1500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТипПлатежногоДокумента" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыПлатежныхДокументов"/>
						<ПередВыгрузкой>
Значение = "ПлатежноеПоручение";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>37</Код>
						<Наименование>ВидОперации --&gt; ХозяйственнаяОперация</Наименование>
						<Порядок>1550</Порядок>
						<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийППИсходящее"/>
						<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<КодПравилаКонвертации>ВидыОперацийППИсходящее_ХозяйственныеОперации     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>38</Код>
						<Наименование>СчетОрганизации --&gt; БанковскийСчет</Наименование>
						<Порядок>1600</Порядок>
						<Источник Имя="СчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаОрганизаций"/>
						<КодПравилаКонвертации>БанковскиеСчетаОрганизаций                        </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>39</Код>
						<Наименование>СчетКонтрагента --&gt; БанковскийСчетКонтрагента</Наименование>
						<Порядок>1650</Порядок>
						<Источник Имя="СчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="БанковскийСчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаКонтрагентов"/>
						<КодПравилаКонвертации>БанковскиеСчетаПолучателей                        </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>40</Код>
						<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
						<Порядок>1700</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>41</Код>
						<Наименование>ДатаОплаты --&gt; ДатаПроведенияБанком</Наименование>
						<Порядок>1750</Порядок>
						<Источник Имя="ДатаОплаты" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаПроведенияБанком" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>42</Код>
						<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
						<Порядок>1800</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Договор" Вид="Реквизит"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>43</Код>
						<Наименование>Контрагент --&gt; Партнер</Наименование>
						<Порядок>1850</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
						<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>49</Код>
						<Наименование>Оплачено --&gt; ПроведеноБанком</Наименование>
						<Порядок>1900</Порядок>
						<Источник Имя="Оплачено" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ПроведеноБанком" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Группа>
						<Код>31</Код>
						<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
						<Порядок>1950</Порядок>
						<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>32</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СправочникСтавкиНДС                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>34</Код>
							<Наименование>СуммаВзаиморасчетов --&gt; СуммаВзаиморасчетов</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>35</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>44</Код>
							<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ВалютаДокумента;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>45</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>46</Код>
							<Наименование>--&gt; Партнер</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
							<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Контрагент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>47</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
							<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>48</Код>
							<Наименование>СуммаПлатежа --&gt; Сумма</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПоступлениеБезналичныхДенежныхСредствИзОрдера</Код>
				<Наименование>Документ: Платежный ордер на поступление денежных средств</Наименование>
				<Порядок>550</Порядок>
				<ПослеЗагрузки>
Для каждого СтрокаТЧ Из Объект.РасшифровкаПлатежа Цикл
	КурсИКратность = ДенежныеСредстваСервер.КурсЧислительИКурсЗнаменательВзаиморасчетов(
	Объект.Валюта, СтрокаТЧ.ВалютаВзаиморасчетов, Параметры["мВалютаРегламентированногоУчета"], Объект.Дата);
	СтрокаТЧ.КурсЧислительВзаиморасчетов = КурсИКратность.КурсЧислитель;
	СтрокаТЧ.КурсЗнаменательВзаиморасчетов = КурсИКратность.КурсЗнаменатель;
КонецЦикла;

Если Не ЗначениеЗаполнено(Объект.СтатьяДвиженияДенежныхСредств) И Объект.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
	Объект.СтатьяДвиженияДенежныхСредств = Объект.РасшифровкаПлатежа[0].СтатьяДвиженияДенежныхСредств;
КонецЕсли;

Если Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.КонвертацияВалюты Тогда
	Объект.КурсКонвертации = 1;
	Объект.КратностьКурсаКонвертации = 1;
	Объект.ВалютаКонвертации = Объект.Валюта;
	Объект.СуммаКонвертации = Объект.СуммаДокумента;
КонецЕсли;

Попытка
	Если Параметрыобъекта["Проведен"] Тогда
		Объект.Записать(РежимЗаписиДокумента.Проведение);
		Параметры.ДокументыДляПроведения.Добавить(Объект);
	Иначе
		Объект.Записать(РежимЗаписиДокумента.ОтменаПроведения);
	КонецЕсли;
Исключение
КонецПопытки;

Объект.ОбменДанными.Загрузка = Ложь;
Объект.Записать();

Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(Объект.Ссылка);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ПлатежныйОрдерПоступлениеДенежныхСредств</Источник>
				<Приемник>ДокументСсылка.ПоступлениеБезналичныхДенежныхСредств</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ДатаВходящегоДокумента --&gt; ДатаВходящегоДокумента</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>НазначениеПлатежа --&gt; НазначениеПлатежа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="НазначениеПлатежа" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НазначениеПлатежа" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>НомерВходящегоДокумента --&gt; НомерВходящегоДокумента</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Проведен</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>--&gt; ТипПлатежногоДокумента</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТипПлатежногоДокумента" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыПлатежныхДокументов"/>
						<ПередВыгрузкой>
Значение = "ПлатежныйОрдер";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>ВидОперации --&gt; ХозяйственнаяОперация</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеБезналичныхДенежныхСредств"/>
						<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<КодПравилаКонвертации>ПоступлениеБезналичныхДС_ХозяйственныеОперации    </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>СчетОрганизации --&gt; БанковскийСчет</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="СчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаОрганизаций"/>
						<КодПравилаКонвертации>БанковскиеСчетаОрганизаций                        </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>СчетКонтрагента --&gt; БанковскийСчетКонтрагента</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="СчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="БанковскийСчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаКонтрагентов"/>
						<КодПравилаКонвертации>БанковскиеСчетаПолучателей                        </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>ДатаОплаты --&gt; ДатаПроведенияБанком</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="ДатаОплаты" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаПроведенияБанком" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>27</Код>
						<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Договор" Вид="Реквизит"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>16</Код>
						<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
						<Порядок>1300</Порядок>
						<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>17</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СправочникСтавкиНДС                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>СуммаВзаиморасчетов --&gt; СуммаВзаиморасчетов</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ВалютаДокумента;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>--&gt; Партнер</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
							<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Контрагент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
							<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>СуммаПлатежа --&gt; Сумма</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СписаниеБезналичныхДенежныхСредствИзОрдера</Код>
				<Наименование>Документ: Платежный ордер на списание денежных средств</Наименование>
				<Порядок>600</Порядок>
				<ПослеЗагрузки>
Для каждого СтрокаТЧ Из Объект.РасшифровкаПлатежа Цикл
	КурсИКратность = ДенежныеСредстваСервер.КурсЧислительИКурсЗнаменательВзаиморасчетов(
	Объект.Валюта, СтрокаТЧ.ВалютаВзаиморасчетов, Параметры["мВалютаРегламентированногоУчета"], Объект.Дата);
	СтрокаТЧ.КурсЧислительВзаиморасчетов = КурсИКратность.КурсЧислитель;
	СтрокаТЧ.КурсЗнаменательВзаиморасчетов = КурсИКратность.КурсЗнаменатель;
КонецЦикла;

Если Не ЗначениеЗаполнено(Объект.СтатьяДвиженияДенежныхСредств) И Объект.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
	Объект.СтатьяДвиженияДенежныхСредств = Объект.РасшифровкаПлатежа[0].СтатьяДвиженияДенежныхСредств;
КонецЕсли;

Попытка
	Если Параметрыобъекта["Проведен"] Тогда
		Объект.Записать(РежимЗаписиДокумента.Проведение);
		Параметры.ДокументыДляПроведения.Добавить(Объект);
	Иначе
		Объект.Записать(РежимЗаписиДокумента.ОтменаПроведения);
	КонецЕсли;
Исключение
КонецПопытки;

Объект.ОбменДанными.Загрузка = Ложь;
Объект.Записать();

Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(Объект.Ссылка);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ПлатежныйОрдерСписаниеДенежныхСредств</Источник>
				<Приемник>ДокументСсылка.СписаниеБезналичныхДенежныхСредств</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ДатаВходящегоДокумента --&gt; ДатаВходящегоДокумента</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>6</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>НомерВходящегоДокумента --&gt; НомерВходящегоДокумента</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Проведен</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>--&gt; ТипПлатежногоДокумента</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТипПлатежногоДокумента" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыПлатежныхДокументов"/>
						<ПередВыгрузкой>Значение = "ПлатежныйОрдер";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>ВидОперации --&gt; ХозяйственнаяОперация</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийСписаниеБезналичныхДенежныхСредств"/>
						<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<КодПравилаКонвертации>СписаниеБезналичныхДС_ХозяйственныеОперации       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>СчетОрганизации --&gt; БанковскийСчет</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="СчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаОрганизаций"/>
						<КодПравилаКонвертации>БанковскиеСчетаОрганизаций                        </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>СчетКонтрагента --&gt; БанковскийСчетКонтрагента</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="СчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
						<Приемник Имя="БанковскийСчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаКонтрагентов"/>
						<КодПравилаКонвертации>БанковскиеСчетаПолучателей                        </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>ДатаОплаты --&gt; ДатаПроведенияБанком</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="ДатаОплаты" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаПроведенияБанком" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Договор" Вид="Реквизит"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>27</Код>
						<Наименование>Контрагент --&gt; Партнер</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
						<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>28</Код>
						<Наименование>Оплачено --&gt; ПроведеноБанком</Наименование>
						<Порядок>1100</Порядок>
						<Источник Имя="Оплачено" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ПроведеноБанком" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Группа>
						<Код>15</Код>
						<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
						<Порядок>1150</Порядок>
						<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>16</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СправочникСтавкиНДС                               </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>СуммаВзаиморасчетов --&gt; СуммаВзаиморасчетов</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ВалютаДокумента;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Организация;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>--&gt; Партнер</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
							<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Контрагент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
							<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>СуммаПлатежа --&gt; Сумма</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВзаимозачетЗадолженности</Код>
				<Наименование>Документ: Корректировка долга</Наименование>
				<Порядок>650</Порядок>
				<ПослеЗагрузки>
ТаблицаПараметровДЗ = ПараметрыОбъекта["ДебиторскаяЗадолженностьТабличнаяЧасть"];
ТаблицаПараметровКЗ = ПараметрыОбъекта["КредиторскаяЗадолженностьТабличнаяЧасть"];
ТаблицаПараметровДЗ.Свернуть("ДоговорКонтрагента");
ТаблицаПараметровКЗ.Свернуть("ДоговорКонтрагента");
	
Для Каждого ТекСтрока Из Объект.ДебиторскаяЗадолженность Цикл
	
	Если ТаблицаПараметровДЗ.Количество() Тогда
		ТекСтрока.ОбъектРасчетов = ОбъектыРасчетовСервер.ПолучитьОбъектРасчетовПоСсылке(ТаблицаПараметровДЗ[0].ДоговорКонтрагента);
		ТекСтрока.ТипРасчетов = ТекСтрока.ОбъектРасчетов.ТипРасчетов; 
	КонецЕсли;
	ТекСтрока.Организация = Объект.Организация;
	ТекСтрока.ВалютаВзаиморасчетов = Объект.Валюта;
	ТекСтрока.Партнер = ТекСтрока.ОбъектРасчетов.Партнер;
	
	ТекСтрока.СуммаРегл = РаботаСКурсамиВалютУТ.ПересчитатьВВалюту(ТекСтрока.Сумма,
				Параметры["мВалютаРегламентированногоУчета"],
				ТекСтрока.ВалютаВзаиморасчетов,
				Параметры["мВалютаРегламентированногоУчета"],
				Объект.Дата);
				
	ТекСтрока.СуммаУпр = РаботаСКурсамиВалютУТ.ПересчитатьВВалюту(ТекСтрока.Сумма,
				Параметры["мВалютаРегламентированногоУчета"],
				ТекСтрока.ВалютаВзаиморасчетов,
				Параметры["мВалютаУправленческогоУчета"],
				Объект.Дата);
	
КонецЦикла;

Для Каждого ТекСтрока Из Объект.КредиторскаяЗадолженность Цикл
	
	Если ТаблицаПараметровКЗ.Количество() Тогда
		ТекСтрока.ОбъектРасчетов = ОбъектыРасчетовСервер.ПолучитьОбъектРасчетовПоСсылке(ТаблицаПараметровКЗ[0].ДоговорКонтрагента);
		ТекСтрока.ТипРасчетов = ТекСтрока.ОбъектРасчетов.ТипРасчетов; 
	КонецЕсли;
	ТекСтрока.Организация = Объект.Организация;
	ТекСтрока.ВалютаВзаиморасчетов = Объект.Валюта;
	ТекСтрока.Партнер = ТекСтрока.ОбъектРасчетов.Партнер;
	
	ТекСтрока.СуммаРегл = РаботаСКурсамиВалютУТ.ПересчитатьВВалюту(ТекСтрока.Сумма,
				Параметры["мВалютаРегламентированногоУчета"],
				ТекСтрока.ВалютаВзаиморасчетов,
				Параметры["мВалютаРегламентированногоУчета"],
				Объект.Дата);
				
	ТекСтрока.СуммаУпр = РаботаСКурсамиВалютУТ.ПересчитатьВВалюту(ТекСтрока.Сумма,
				Параметры["мВалютаРегламентированногоУчета"],
				ТекСтрока.ВалютаВзаиморасчетов,
				Параметры["мВалютаУправленческогоУчета"],
				Объект.Дата);
				
КонецЦикла;


Если Объект.ДебиторскаяЗадолженность.Количество() &gt; 0  Тогда
	
	Если Объект.ДебиторскаяЗадолженность[0].ОбъектРасчетов.ТипРасчетов = Перечисления.ТипыРасчетовСПартнерами.РасчетыСКлиентом Тогда
		Объект.ТипДебитора = Перечисления.ТипыУчастниковВзаимозачета.Клиент;
	ИначеЕсли Объект.ДебиторскаяЗадолженность[0].ОбъектРасчетов.ТипРасчетов = Перечисления.ТипыРасчетовСПартнерами.РасчетыСПоставщиком Тогда
		Объект.ТипДебитора = Перечисления.ТипыУчастниковВзаимозачета.Поставщик;		
	КонецЕсли;
	
КонецЕсли;

Если Объект.КредиторскаяЗадолженность.Количество() &gt; 0  Тогда

	Если Объект.КредиторскаяЗадолженность[0].ОбъектРасчетов.ТипРасчетов = Перечисления.ТипыРасчетовСПартнерами.РасчетыСКлиентом Тогда
		Объект.ТипКредитора = Перечисления.ТипыУчастниковВзаимозачета.Клиент;
	ИначеЕсли Объект.КредиторскаяЗадолженность[0].ОбъектРасчетов.ТипРасчетов = Перечисления.ТипыРасчетовСПартнерами.РасчетыСПоставщиком Тогда
		Объект.ТипКредитора = Перечисления.ТипыУчастниковВзаимозачета.Поставщик;		
	КонецЕсли;

КонецЕсли;

Объект.Записать();
Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(Объект.Ссылка);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.КорректировкаДолга</Источник>
				<Приемник>ДокументСсылка.ВзаимозачетЗадолженности</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ВидОперации --&gt; ВидОперации</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийКорректировкаДолга"/>
						<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВзаимозачетаЗадолженности"/>
						<ПередВыгрузкой>Если Источник.ВидОперации = Перечисления.ВидыОперацийКорректировкаДолга.ПроведениеВзаимозачета Тогда
	Значение = "Произвольный";
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>КонтрагентДебитор --&gt; КонтрагентДебитор</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="КонтрагентДебитор" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="КонтрагентДебитор" Вид="Реквизит"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>КонтрагентКредитор --&gt; КонтрагентКредитор</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="КонтрагентКредитор" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="КонтрагентКредитор" Вид="Реквизит"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>6</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Проведен</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>12</Код>
						<Наименование>СуммыДолга --&gt; ДебиторскаяЗадолженность</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СуммыДолга" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ДебиторскаяЗадолженность" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>
КоллекцияОбъектов = Источник.СуммыДолга.Выгрузить(Новый Структура("ВидЗадолженности", Перечисления.ВидыЗадолженности.Дебиторская));</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>22</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>Сумма --&gt; СуммаВзаиморасчетов</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>ДоговорКонтрагента --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="" Вид=""/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ИмяПараметраДляПередачи>ДоговорКонтрагента</ИмяПараметраДляПередачи>
						</Свойство>
					</Группа>
					<Группа>
						<Код>13</Код>
						<Наименование>СуммыДолга --&gt; КредиторскаяЗадолженность</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="СуммыДолга" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КредиторскаяЗадолженность" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>

КоллекцияОбъектов = Источник.СуммыДолга.Выгрузить(Новый Структура("ВидЗадолженности", Перечисления.ВидыЗадолженности.Кредиторская));</ПередОбработкойВыгрузки>
						<Свойство Отключить="true">
							<Код>14</Код>
							<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>15</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>Сумма --&gt; СуммаВзаиморасчетов</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>ДоговорКонтрагента --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="" Вид=""/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ИмяПараметраДляПередачи>ДоговорКонтрагента</ИмяПараметраДляПередачи>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Группа>
				<Код>ВводОстатков</Код>
				<Наименование>Ввод остатков</Наименование>
				<Порядок>700</Порядок>
				<Группа>
					<Код>ВзаиморасчетыСКлиентами</Код>
					<Наименование>ВзаиморасчетыСКлиентами</Наименование>
					<Порядок>50</Порядок>
					<Правило>
						<Код>ВводОстатковАвансыПоДоговорамПолученныеОтКлие</Код>
						<Наименование>Авансы по договорам, полученные от клиентов</Наименование>
						<Порядок>50</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);

Объект.Записать();
СсылкаНаДокумент = Объект.Ссылка;
Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(СсылкаНаДокумент);

ВалютаРегламентированногоУчета           = ЗначениеНастроекПовтИсп.ВалютаРегламентированногоУчетаОрганизации(Объект.Организация);
ВалютаУправленческогоУчета               = Константы.ВалютаУправленческогоУчета.Получить();
											
Для Каждого ТекСтрока Из Объект.РасчетыСПартнерами Цикл
	
	Если ТекСтрока.ВалютаВзаиморасчетов = ВалютаРегламентированногоУчета Тогда
		ТекСтрока.СуммаРегл          = ТекСтрока.Сумма;
	Иначе
		КоэффициентПересчета = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(ТекСтрока.ВалютаВзаиморасчетов, ВалютаРегламентированногоУчета, Объект.Дата);
		ТекСтрока.СуммаРегл          = Окр(ТекСтрока.Сумма * КоэффициентПересчета, 2, 1);
	КонецЕсли;
	
	Если ТекСтрока.ВалютаВзаиморасчетов = ВалютаУправленческогоУчета Тогда
		ТекСтрока.СуммаУпр          = ТекСтрока.Сумма;
	Иначе
		КоэффициентПересчета = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(ТекСтрока.ВалютаВзаиморасчетов, ВалютаРегламентированногоУчета, Объект.Дата);
		ТекСтрока.СуммаУпр          = Окр(ТекСтрока.Сумма * КоэффициентПересчета, 2, 1);
	КонецЕсли;
	
КонецЦикла;

Выполнить(Алгоритмы.ЗаполнитьДокументыРасчета);</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Организация</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковАвансовКлиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>15</Код>
								<Наименование>--&gt; Дата</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>--&gt; ПометкаУдаления</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>16</Код>
								<Наименование>--&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УПП 1.2 -&gt; УТ11: Авансы по договорам, полученные от клиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ОбъектКоллекции.РасчетныйДокумент;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование>--&gt; Партнер</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование>--&gt; Контрагент</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>--&gt; НомерРасчетногоДокумента</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ОбъектКоллекции.РасчетныйДокумент;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование>--&gt; Договор</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ОбъектКоллекции.РасчетныйДокумент;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование>--&gt; ДатаРасчетногоДокумента</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковДолгиКлиентовПоДоговорам</Код>
						<Наименование>Долги клиентов по договорам</Наименование>
						<Порядок>100</Порядок>
						<ПослеЗагрузки>
Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);

Объект.Записать();
СсылкаНаДокумент = Объект.Ссылка;
	
Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(СсылкаНаДокумент);


ВалютаРегламентированногоУчета           = ЗначениеНастроекПовтИсп.ВалютаРегламентированногоУчетаОрганизации(Объект.Организация);
ВалютаУправленческогоУчета               = Константы.ВалютаУправленческогоУчета.Получить();
											
Для Каждого ТекСтрока Из Объект.РасчетыСПартнерами Цикл
	
	Если ТекСтрока.ВалютаВзаиморасчетов = ВалютаРегламентированногоУчета Тогда
		ТекСтрока.СуммаРегл          = ТекСтрока.Сумма;
	Иначе
		КоэффициентПересчета = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(ТекСтрока.ВалютаВзаиморасчетов, ВалютаРегламентированногоУчета, Объект.Дата);
		ТекСтрока.СуммаРегл          = Окр(ТекСтрока.Сумма * КоэффициентПересчета, 2, 1);
	КонецЕсли;
	
	Если ТекСтрока.ВалютаВзаиморасчетов = ВалютаУправленческогоУчета Тогда
		ТекСтрока.СуммаУпр          = ТекСтрока.Сумма;
	Иначе
		КоэффициентПересчета = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(ТекСтрока.ВалютаВзаиморасчетов, ВалютаРегламентированногоУчета, Объект.Дата);
		ТекСтрока.СуммаУпр          = Окр(ТекСтрока.Сумма * КоэффициентПересчета, 2, 1);
	КонецЕсли;
	
КонецЦикла;

Выполнить(Алгоритмы.ЗаполнитьДокументыРасчета);</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Организация</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиКлиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>--&gt; Дата</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>--&gt; ПометкаУдаления</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>18</Код>
								<Наименование>--&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УПП 1.2 -&gt; УТ11: Долги клиентов по договорам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>10</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ОбъектКоллекции.РасчетныйДокумент;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>--&gt; НомерРасчетногоДокумента</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; ДатаПлатежа</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
									<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; ДатаПлатежа</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование>--&gt; Партнер</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование>--&gt; Контрагент</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; Договор</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ОбъектКоллекции.РасчетныйДокумент;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование>--&gt; ДатаРасчетногоДокумента</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа>
					<Код>ВзаиморасчетыСПоставщиками</Код>
					<Наименование>ВзаиморасчетыСПоставщиками</Наименование>
					<Порядок>100</Порядок>
					<Правило>
						<Код>ВводОстатковАвансыПоДоговорамУплаченныеПостав</Код>
						<Наименование>Авансы по договорам, уплаченные поставщикам</Наименование>
						<Порядок>50</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);

Объект.Записать();
СсылкаНаДокумент = Объект.Ссылка;

Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(СсылкаНаДокумент);

ВалютаРегламентированногоУчета           = ЗначениеНастроекПовтИсп.ВалютаРегламентированногоУчетаОрганизации(Объект.Организация);
ВалютаУправленческогоУчета               = Константы.ВалютаУправленческогоУчета.Получить();
											
Для Каждого ТекСтрока Из Объект.РасчетыСПартнерами Цикл
	
	Если ТекСтрока.ВалютаВзаиморасчетов = ВалютаРегламентированногоУчета Тогда
		ТекСтрока.СуммаРегл          = ТекСтрока.Сумма;
	Иначе
		КоэффициентПересчета = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(ТекСтрока.ВалютаВзаиморасчетов, ВалютаРегламентированногоУчета, Объект.Дата);
		ТекСтрока.СуммаРегл          = Окр(ТекСтрока.Сумма * КоэффициентПересчета, 2, 1);
	КонецЕсли;
	
	Если ТекСтрока.ВалютаВзаиморасчетов = ВалютаУправленческогоУчета Тогда
		ТекСтрока.СуммаУпр          = ТекСтрока.Сумма;
	Иначе
		КоэффициентПересчета = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(ТекСтрока.ВалютаВзаиморасчетов, ВалютаРегламентированногоУчета, Объект.Дата);
		ТекСтрока.СуммаУпр          = Окр(ТекСтрока.Сумма * КоэффициентПересчета, 2, 1);
	КонецЕсли;
	
КонецЦикла;

Выполнить(Алгоритмы.ЗаполнитьДокументыРасчета);</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Организация</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковАвансовПоставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>--&gt; Дата</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>--&gt; ПометкаУдаления</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>16</Код>
								<Наименование>--&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УПП 1.3 -&gt; УТ11: Авансы по договорам, уплаченные поставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>6</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ОбъектКоллекции.РасчетныйДокумент;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование>--&gt; Партнер</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; Контрагент</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование>--&gt; НомерРасчетногоДокумента</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ОбъектКоллекции.РасчетныйДокумент;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование>--&gt; Договор</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ОбъектКоллекции.РасчетныйДокумент;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; ДатаРасчетногоДокумента</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковДолгиПоставщикамПоДоговорам</Код>
						<Наименование>Долги поставщикам по договорам</Наименование>
						<Порядок>100</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);

Объект.Записать();
СсылкаНаДокумент = Объект.Ссылка;
Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(СсылкаНаДокумент);

ВалютаРегламентированногоУчета           = ЗначениеНастроекПовтИсп.ВалютаРегламентированногоУчетаОрганизации(Объект.Организация);
ВалютаУправленческогоУчета               = Константы.ВалютаУправленческогоУчета.Получить();
											
Для Каждого ТекСтрока Из Объект.РасчетыСПартнерами Цикл
	
	Если ТекСтрока.ВалютаВзаиморасчетов = ВалютаРегламентированногоУчета Тогда
		ТекСтрока.СуммаРегл          = ТекСтрока.Сумма;
	Иначе
		КоэффициентПересчета = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(ТекСтрока.ВалютаВзаиморасчетов, ВалютаРегламентированногоУчета, Объект.Дата);
		ТекСтрока.СуммаРегл          = Окр(ТекСтрока.Сумма * КоэффициентПересчета, 2, 1);
	КонецЕсли;
	
	Если ТекСтрока.ВалютаВзаиморасчетов = ВалютаУправленческогоУчета Тогда
		ТекСтрока.СуммаУпр          = ТекСтрока.Сумма;
	Иначе
		КоэффициентПересчета = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(ТекСтрока.ВалютаВзаиморасчетов, ВалютаРегламентированногоУчета, Объект.Дата);
		ТекСтрока.СуммаУпр          = Окр(ТекСтрока.Сумма * КоэффициентПересчета, 2, 1);
	КонецЕсли;
	
КонецЦикла;

Выполнить(Алгоритмы.ЗаполнитьДокументыРасчета);</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Организация</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиПоставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>--&gt; Дата</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>--&gt; ПометкаУдаления</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>17</Код>
								<Наименование>--&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УПП 1.3 -&gt; УТ11: Долги поставщикам по договорам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ОбъектКоллекции.РасчетныйДокумент;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование>--&gt; НомерРасчетногоДокумента</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>--&gt; ДатаПлатежа</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
									<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ОбъектКоллекции.РасчетныйДокумент;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование>--&gt; Партнер</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры                              </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование>--&gt; Контрагент</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты                           </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; Договор</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = ОбъектКоллекции.РасчетныйДокумент;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование>--&gt; ДатаРасчетногоДокумента</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа>
					<Код>ОстаткиДенежныхСредств</Код>
					<Наименование>ОстаткиДенежныхСредств</Наименование>
					<Порядок>150</Порядок>
					<Правило>
						<Код>ВводОстатковДенежныеСредстваВКассах</Код>
						<Наименование>Денежные средства в кассах</Наименование>
						<Порядок>50</Порядок>
						<ПослеЗагрузки>
Выполнить(Алгоритмы.ЗаполнитьСуммыРеглВДокументахВводаОстатковДС);
Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);

Если Объект.ЭтоНовый() Тогда
	СсылкаНаДокумент = Объект.ПолучитьСсылкуНового();
Иначе
	СсылкаНаДокумент = Объект.Ссылка;
КонецЕсли;
	
Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(СсылкаНаДокумент); 
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковДенежныхСредств</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>--&gt; Организация</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>--&gt; Проведен</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; ОтражатьВОперативномУчете</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>--&gt; ПометкаУдаления</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковВКассах";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Комментарий</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УПП 1.2 -&gt; УТ11: Денежные средства в кассах";</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; Кассы</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Кассы" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>7</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование>--&gt; Касса</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
									<КодПравилаКонвертации>Кассы                                             </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование>--&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковДенежныхСредствНаБанковскихСчетах</Код>
						<Наименование>Денежные средства на банковских счетах</Наименование>
						<Порядок>100</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Выполнить(Алгоритмы.ЗаполнитьСуммыРеглВДокументахВводаОстатковДС);

Если Объект.ЭтоНовый() Тогда
	СсылкаНаДокумент = Объект.ПолучитьСсылкуНового();
Иначе
	СсылкаНаДокумент = Объект.Ссылка;
КонецЕсли;

Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(СсылкаНаДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковДенежныхСредств</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>--&gt; Организация</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>--&gt; Проведен</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; ОтражатьВОперативномУчете</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>--&gt; ПометкаУдаления</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковНаБанковскихСчетах";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Комментарий</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УПП 1.2 -&gt; УТ11: Денежные средства на банковских счетах";</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; БанковскиеСчета</Наименование>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="БанковскиеСчета" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>7</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование>--&gt; БанковскийСчет</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаОрганизаций"/>
									<КодПравилаКонвертации>БанковскиеСчетаОрганизаций                        </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование>--&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа>
					<Код>ОстаткиТоваров</Код>
					<Наименование>ОстаткиТоваров</Наименование>
					<Порядок>200</Порядок>
					<Правило>
						<Код>ВводОстатковСобственныеТоварыНаСкладах</Код>
						<Наименование>Собственные товары на складах</Наименование>
						<Порядок>50</Порядок>
						<ПослеЗагрузки>
ВалютаРегламентированногоУчета           = ЗначениеНастроекПовтИсп.ВалютаРегламентированногоУчетаОрганизации(Объект.Организация);
ВалютаУправленческогоУчета               = Константы.ВалютаУправленческогоУчета.Получить();
КоэффициентПересчетаИзВалютыУпрВРегл = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(
											ВалютаУправленческогоУчета,
											ВалютаРегламентированногоУчета,
											Объект.Дата);

Объект.ОтражатьСебестоимость = Истина;
Объект.ОтражатьвОперативномУчете = Истина;
Объект.ЦенаВключаетНДС       = Истина;

Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);

ПараметрыЗаполнения = Документы.ВводОстатковТоваров.ИнициализироватьПараметрыВидовДеятельностиНДС(Объект);
УчетНДСУП.ЗаполнитьВидДеятельностиНДС(Объект.ВидДеятельностиНДС, ПараметрыЗаполнения);

ПараметрыЗаполнения = Документы.ЗаявкаНаВозвратТоваровОтКлиента.ПараметрыЗаполненияНалогообложенияНДСПродажи(Объект);
УчетНДСУП.ЗаполнитьНалогообложениеНДСПродажи(Объект.НалогообложениеНДС, ПараметрыЗаполнения);

Параметры.ДокументыДляПроведения.Добавить(Объект);

//Если Объект.ЭтоНовый() Тогда
//	СсылкаНаДокумент = Объект.ПолучитьСсылкуНового();
//Иначе
//	СсылкаНаДокумент = Объект.Ссылка;
//КонецЕсли;
Объект.Записать();	
СсылкаНаДокумент = Объект.Ссылка;
Параметры.МассивДокументовДляОтраженияВРеестреДокументов.Добавить(СсылкаНаДокумент);

// пересчет сумм в табличной части документа
СтруктураПересчетаСуммы = ОбработкаТабличнойЧастиКлиентСервер.ПараметрыПересчетаСуммыНДСВСтрокеТЧ(Объект);
СтруктураПересчетаСуммы.НалогообложениеНДС = ПредопределенноеЗначение("Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС");

Для Каждого ТекущаяСтрока Из Объект.Товары Цикл
	
	 
	ТекущаяСтрока.СтавкаНДС = УчетНДСУП.СтавкаНДСПоНоменклатуреИНалогообложению(
							ТекущаяСтрока.Номенклатура,
							Объект.НалогообложениеНДС,
							Объект.Организация,
							Объект.Дата);
	
	СтруктураДействий = Новый Структура;
	СтруктураДействий.Вставить("ПересчитатьСумму");
	СтруктураДействий.Вставить("ПересчитатьСуммуНДС", СтруктураПересчетаСуммы);
	СтруктураДействий.Вставить("ПересчитатьСуммуСНДС", СтруктураПересчетаСуммы);
	ОбработкаТабличнойЧастиСервер.ОбработатьСтрокуТЧ(ТекущаяСтрока, СтруктураДействий, Неопределено);
	
	СтруктураДействий = Новый Структура;
	Если Не Объект.ЦенаВключаетНДС Тогда
		ТекущаяСтрока.СуммаБезНДС = ТекущаяСтрока.Сумма;
	Иначе
		СтруктураДействий.Вставить("ПересчитатьСуммуБезНДС", СтруктураПересчетаСуммы);
	КонецЕсли;
	
	СтруктураДействий.Вставить("ПересчитатьСуммуРегл", КоэффициентПересчетаИзВалютыУпрВРегл);
	СтруктураДействий.Вставить("ПересчитатьНДСРегл", СтруктураПересчетаСуммы);	
		
	ОбработкаТабличнойЧастиСервер.ОбработатьСтрокуТЧ(ТекущаяСтрока, СтруктураДействий, Неопределено);
	
КонецЦикла;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковТоваров</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Комментарий</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УПП 1.2 -&gt; УТ11: Остатки товаров на складах";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>--&gt; Организация</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Параметры.Организация;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>--&gt; Ответственный</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование>--&gt; Склад</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
								<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>21</Код>
								<Наименование>--&gt; Дата</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковСобственныхТоваров";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>--&gt; ПометкаУдаления</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; Проведен</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>--&gt; Валюта</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Справочники.Валюты.НайтиПоКоду("840");</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>24</Код>
								<Наименование>--&gt; Серии</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Серии" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>25</Код>
									<Наименование>--&gt; Номенклатура</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если ЗначениеЗаполнено(ОбъектКоллекции.Качество) И ОбъектКоллекции.Качество &lt;&gt; Справочники.Качество.Новый Тогда
	ИсходящиеДанные.Вставить("Качество", ОбъектКоллекции.Качество);
	ИмяПКО = "НекачественнаяНоменклатура";
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>28</Код>
									<Наименование>--&gt; Количество</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>26</Код>
									<Наименование>--&gt; Характеристика</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
									<КодПравилаКонвертации>ХарактеристикиНоменклатуры                        </КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>27</Код>
									<Наименование>--&gt; Серия</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Серия" Вид="Реквизит" Тип="СправочникСсылка.СерииНоменклатуры"/>
									<КодПравилаКонвертации>СерииНоменклатуры                                 </КодПравилаКонвертации>
									<ПередВыгрузкой>Если Параметры.РежимВыгрузкиСерий = 1 Тогда
	Номенклатура = ОбъектКоллекции.Номенклатура;
	
	ПараметрыПоиска = Новый Структура("Номенклатура", Номенклатура);
	НайденныеСтроки = Параметры.ТабАлкогольнаяПродукцияНоменклатуры.НайтиСтроки(ПараметрыПоиска);

	Если НайденныеСтроки.Количество() &gt; 0 Тогда
		ВходящиеДанные.Вставить("АлкогольнаяПродукция",    НайденныеСтроки[0].АлкогольнаяПродукция);
		ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", НайденныеСтроки[0].ВидАлкогольнойПродукции);
		ВходящиеДанные.Вставить("ВестиУчетПоГТД",          НайденныеСтроки[0].ВестиУчетПоГТД);
	Иначе

		// ВидАлкогольнойПродукции и АлкогольнаяПродукция
		Запрос = Новый Запрос;
		Запрос.Текст = "
			|ВЫБРАТЬ
			|	СведенияОбАлкогольнойПродукции.ВидПродукции,
			|	СведенияОбАлкогольнойПродукции.ВидЛицензии
			|ИЗ
			|	РегистрСведений.СведенияОбАлкогольнойПродукции КАК СведенияОбАлкогольнойПродукции
			|ГДЕ
			|	СведенияОбАлкогольнойПродукции.Номенклатура = &amp;Номенклатура";
			
		Запрос.УстановитьПараметр("Номенклатура", Номенклатура);

		Выборка = Запрос.Выполнить().Выбрать();
		Если Выборка.Следующий() Тогда
			ВходящиеДанные.Вставить("АлкогольнаяПродукция", Истина);
			ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", Выборка.ВидПродукции);
		Иначе
			ВходящиеДанные.Вставить("АлкогольнаяПродукция", Ложь);
			ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", Справочники.ВидыАлкогольнойПродукции.ПустаяСсылка());
		КонецЕсли;

		// Вести учет по ГТД
		Запрос = Новый Запрос("
		|ВЫБРАТЬ ПЕРВЫЕ 1
		|	1
		|ИЗ
		|	Справочник.СерииНоменклатуры КАК СерииНоменклатуры
		|ГДЕ
		|	СерииНоменклатуры.НомерГТД &lt;&gt; ЗНАЧЕНИЕ(Справочник.НомераГТД.ПустаяСсылка)
		|	И СерииНоменклатуры.Владелец = &amp;Номенклатура
		|");

		Запрос.УстановитьПараметр("Номенклатура", Номенклатура);

		ВходящиеДанные.Вставить("ВестиУчетПоГТД", Не Запрос.Выполнить().Пустой());
	КонецЕсли;	
		
	СоздатьВидНоменклатуры_Номенклатура					= Номенклатура;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = Номенклатура.ВидНоменклатуры.Наименование;
	СоздатьВидНоменклатуры_ТипНоменклатуры				= Номенклатура.ВидНоменклатуры.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИспользоватьСерии			= Истина;
	
	СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;
	СоздатьВидНоменклатуры_АлкогольнаяПродукция          = ВходящиеДанные.АлкогольнаяПродукция;
	СоздатьВидНоменклатуры_ВидАлкогольнойПродукции       = ВходящиеДанные.ВидАлкогольнойПродукции;
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);

	ИсходящиеДанные = Новый Структура("ВидНоменклатуры", Значение);

	Значение = ОбъектКоллекции.Серия;
	Если НЕ ЗначениеЗаполнено(ОбъектКоллекции.Серия) Тогда
		Значение = "1";
		ИмяПКО = "НеизвестнаяСерия";
	КонецЕсли;
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>29</Код>
									<Наименование>--&gt; КоличествоУпаковок</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
							<Группа>
								<Код>6</Код>
								<Наименование>--&gt; Товары</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>19</Код>
									<Наименование>--&gt; Серия</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Серия" Вид="Реквизит" Тип="СправочникСсылка.СерииНоменклатуры"/>
									<КодПравилаКонвертации>СерииНоменклатуры                                 </КодПравилаКонвертации>
									<ПередВыгрузкой>Если Параметры.РежимВыгрузкиСерий = 2 Тогда
	Номенклатура = ОбъектКоллекции.Номенклатура;
	
	ПараметрыПоиска = Новый Структура("Номенклатура", Номенклатура);
	НайденныеСтроки = Параметры.ТабАлкогольнаяПродукцияНоменклатуры.НайтиСтроки(ПараметрыПоиска);

	Если НайденныеСтроки.Количество() &gt; 0 Тогда
		ВходящиеДанные.Вставить("АлкогольнаяПродукция",    НайденныеСтроки[0].АлкогольнаяПродукция);
		ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", НайденныеСтроки[0].ВидАлкогольнойПродукции);
		ВходящиеДанные.Вставить("ВестиУчетПоГТД",          НайденныеСтроки[0].ВестиУчетПоГТД);
	Иначе
	
		ВходящиеДанные.Вставить("АлкогольнаяПродукция", Ложь);
		ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", Справочники.ВидыАлкогольнойПродукции.ПустаяСсылка());

		// Вести учет по ГТД
		Запрос = Новый Запрос("
		|ВЫБРАТЬ ПЕРВЫЕ 1
		|	1
		|ИЗ
		|	Справочник.СерииНоменклатуры КАК СерииНоменклатуры
		|ГДЕ
		|	СерииНоменклатуры.НомерГТД &lt;&gt; ЗНАЧЕНИЕ(Справочник.НомераГТД.ПустаяСсылка)
		|	И СерииНоменклатуры.Владелец = &amp;Номенклатура
		|");

		Запрос.УстановитьПараметр("Номенклатура", Номенклатура);

		ВходящиеДанные.Вставить("ВестиУчетПоГТД", Не Запрос.Выполнить().Пустой());
	КонецЕсли;
	
	СоздатьВидНоменклатуры_Номенклатура					= Номенклатура;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = Номенклатура.ВидНоменклатуры.Наименование;
	СоздатьВидНоменклатуры_ТипНоменклатуры				= Номенклатура.ВидНоменклатуры.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИспользоватьСерии			= Истина;
	
	СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;
	СоздатьВидНоменклатуры_АлкогольнаяПродукция          = ВходящиеДанные.АлкогольнаяПродукция;
	СоздатьВидНоменклатуры_ВидАлкогольнойПродукции       = ВходящиеДанные.ВидАлкогольнойПродукции;
	
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);

	ИсходящиеДанные = Новый Структура("ВидНоменклатуры", Значение);

	Значение = ОбъектКоллекции.Серия;
	Если НЕ ЗначениеЗаполнено(ОбъектКоллекции.Серия) Тогда
		Значение = "1";
		ИмяПКО = "НеизвестнаяСерия";
	КонецЕсли;
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование>--&gt; НомерГТД</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
									<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>--&gt; КоличествоУпаковок</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; Характеристика</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
									<КодПравилаКонвертации>ХарактеристикиНоменклатуры                        </КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; Номенклатура</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; Количество</Наименование>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство Отключить="true">
									<Код>10</Код>
									<Наименование>--&gt; СтавкаНДС</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
									<КодПравилаКонвертации>СправочникСтавкиНДС                               </КодПравилаКонвертации>
									<ПередВыгрузкой>Значение = Перечисления.СтавкиНДС.НДС20;</ПередВыгрузкой>
								</Свойство>
								<Свойство Отключить="true">
									<Код>16</Код>
									<Наименование>--&gt; СуммаСНДС</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаСНДС" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство Отключить="true">
									<Код>15</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство Отключить="true">
									<Код>14</Код>
									<Наименование>--&gt; СуммаНДС</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство Отключить="true">
									<Код>11</Код>
									<Наименование>--&gt; СуммаБезНДС</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаБезНДС" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство Отключить="true">
									<Код>9</Код>
									<Наименование>--&gt; НДСРегл</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НДСРегл" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство Отключить="true">
									<Код>8</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство Отключить="true">
									<Код>20</Код>
									<Наименование>--&gt; Цена</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
			</Группа>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>200</Порядок>
			<Правило Отключить="false">
				<Код>ПоступлениеТоваровУслуг</Код>
				<Наименование>ПоступлениеТоваровУслуг</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>ПоступлениеТоваровУслуг                           </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПоступлениеТоваровУслуг</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Если Объект.Товары.Количество() = 0 И Объект.Услуги.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;

Если Объект.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>РеализацияТоваровУслуг</Код>
				<Наименование>РеализацияТоваровУслуг</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>РеализацияТоваровУслуг                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.РеализацияТоваровУслуг</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Если Объект.Товары.Количество() = 0 И Объект.Услуги.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;

Если Объект.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ПеремещениеТоваров</Код>
				<Наименование>Перемещение товаров</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>ПеремещениеТоваров                                </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПеремещениеТоваров</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Если Объект.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ВозвратТоваровОтПокупателя</Код>
				<Наименование>Возврат товаров от покупателя</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>ВозвратТоваровОтКлиента                           </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ВозвратТоваровОтПокупателя</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>
Если Объект.Товары.Количество() = 0 И Объект.Услуги.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;

Если Объект.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>РасходныйКассовыйОрдер</Код>
				<Наименование>Расходный кассовый ордер</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>РасходныйКассовыйОрдер                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.РасходныйКассовыйОрдер</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>
Если Объект.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ПриходныйКассовыйОрдер</Код>
				<Наименование>Приходный кассовый ордер</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>ПриходныйКассовыйОрдер                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПриходныйКассовыйОрдер</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>

Если Объект.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ПлатежноеПоручениеВходящее</Код>
				<Наименование>Платежное поручение входящее</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>ПоступлениеБезналичныхДенежныхСредств             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПлатежноеПоручениеВходящее</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>
Если Объект.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ПлатежноеПоручениеИсходящее</Код>
				<Наименование>Платежное поручение исходящее</Наименование>
				<Порядок>450</Порядок>
				<КодПравилаКонвертации>СписаниеБезналичныхДенежныхСредств                </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПлатежноеПоручениеИсходящее</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>
Если Объект.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ПлатежныйОрдерПоступлениеДенежныхСредств</Код>
				<Наименование>Платежный ордер на поступление денежных средств</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>ПоступлениеБезналичныхДенежныхСредствИзОрдера     </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПлатежныйОрдерПоступлениеДенежныхСредств</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>

Если Объект.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ПлатежныйОрдерСписаниеДенежныхСредств</Код>
				<Наименование>Платежный ордер на списание денежных средств</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>СписаниеБезналичныхДенежныхСредствИзОрдера        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПлатежныйОрдерСписаниеДенежныхСредств</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>
Если Объект.Организация &lt;&gt; Параметры["Организация"] Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>КорректировкаДолга</Код>
				<Наименование>Корректировка долга</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>ВзаимозачетЗадолженности                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.КорректировкаДолга</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>
Если Объект.Организация &lt;&gt; Параметры.Организация Тогда
	Отказ = Истина;
КонецЕсли;

Если ЗначениеЗаполнено(Объект.IT_ГУИДДокументаИсточника) Тогда 
	Отказ = Истина;
КонецЕсли;

Если Не Отказ Тогда
	СписокДоговоров = Объект.СуммыДолга.Выгрузить().ВыгрузитьКолонку("ДоговорКонтрагента");
	
	Для Каждого ТекДоговор Из СписокДоговоров Цикл 
		ВыгрузитьПоПравилу(ТекДоговор,,,,"ДоговорыКонтрагентов");
	КонецЦикла;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>ВводОстатков</Код>
			<Наименование>Ввод остатков</Наименование>
			<Порядок>250</Порядок>
			<Группа Отключить="false">
				<Код>ВводОстатковТоваров</Код>
				<Наименование>Остатки товаров</Наименование>
				<Порядок>50</Порядок>
				<Правило Отключить="false">
					<Код>ВводОстатковСобственныеТоварыНаСкладах</Код>
					<Наименование>Собственные товары на складах</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>ВводОстатковСобственныеТоварыНаСкладах            </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>//Запрос = Новый Запрос("ВЫБРАТЬ
//	|   &amp;Организация КАК Организация,
//	|  	ОстаткиТоваров.Склад КАК Склад,
//	|  	ОстаткиТоваров.Номенклатура КАК Номенклатура,
//	|   ОстаткиТоваров.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
//	|  	ОстаткиТоваров.ХарактеристикаНоменклатуры КАК Характеристика,
//	|  	ОстаткиТоваров.Качество КАК Качество,
//	|  	ОстаткиТоваров.СерияНоменклатуры КАК Серия,
//	|  	ОстаткиТоваров.СерияНоменклатуры.НомерГТД КАК НомерГТД,
//	|  	ОстаткиТоваров.СерияНоменклатуры.СтранаПроисхождения КАК СтранаПроисхождения,
//	|  	ОстаткиТоваров.СерияНоменклатуры.ПометкаУдаления КАК ПометкаУдаления,
//	|  	СУММА(ЕСТЬNULL(ОстаткиТоваров.КоличествоОстаток, 0) * ЕСТЬNULL(ОстаткиТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)) КАК Количество,
//	|  	СУММА(ЕСТЬNULL(ОстаткиТоваров.СтоимостьОстаток, 0) * ВЫБОР
//	|  			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
//	|  					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
//	|  				ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
//	|  			ИНАЧЕ 0
//	|  		КОНЕЦ) КАК СуммаИтогоУпр,
//	|  	СУММА(ЕСТЬNULL(ОстаткиТоваров.СтоимостьОстаток, 0) * ВЫБОР
//	|  			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
//	|  					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
//	|  				ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
//	|  			ИНАЧЕ 0
//	|  		КОНЕЦ) КАК Сумма,
//	|  	СУММА(ЕСТЬNULL(ОстаткиТоваров.СтоимостьОстаток, 0) * ВЫБОР
//	|  			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
//	|  					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
//	|  				ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
//	|  			ИНАЧЕ 0
//	|  		КОНЕЦ) КАК СуммаСНДСРегл,
//	|  	СУММА(ЕСТЬNULL(ОстаткиТоваров.СтоимостьОстаток, 0) * ВЫБОР
//	|  			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
//	|  					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
//	|  				ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
//	|  			ИНАЧЕ 0
//	|  	КОНЕЦ) КАК СуммаБезНДС,
//	|  	0 КАК СуммаНДС,
//	|  	0 КАК НДСРегл
//	|  ИЗ
//	|  	РегистрНакопления.ПартииТоваровНаСкладах.Остатки(
//	|  			&amp;ДатаОстатков,
//	|  			Склад = &amp;Склад
//	|  				И СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.НаКомиссию)
//	|  				И СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.ВозвратнаяТара)
//	|  				И Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)) КАК ОстаткиТоваров
//	|  		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, Валюта = &amp;ВалютаUSD) КАК КурсыВалютСрезПоследних
//	|  		ПО (ИСТИНА)
//	|  ГДЕ
//	|  	ОстаткиТоваров.КоличествоОстаток &gt; 0
//	|  
//	|  СГРУППИРОВАТЬ ПО
//	|  	ОстаткиТоваров.Номенклатура,
//	|  	ОстаткиТоваров.Склад,
//	|  	ОстаткиТоваров.ХарактеристикаНоменклатуры,
//	|  	ОстаткиТоваров.Качество,
//	|  	ЕСТЬNULL(ОстаткиТоваров.ДокументОприходования.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
//	|  	ОстаткиТоваров.СерияНоменклатуры,
//	|  	ОстаткиТоваров.СерияНоменклатуры.НомерГТД,
//	|  	ОстаткиТоваров.СерияНоменклатуры.СтранаПроисхождения,
//	|  	ОстаткиТоваров.СерияНоменклатуры.ПометкаУдаления,
//	|  	ОстаткиТоваров.Номенклатура.ВестиУчетПоСериям
//	|  ИТОГИ ПО
//	|  	Организация,
//	|  	Склад");

Запрос = Новый Запрос("ВЫБРАТЬ
	|  		&amp;Организация КАК Организация,
	|  		ОстаткиТоваров.Склад КАК Склад,
	|  		ОстаткиТоваров.Номенклатура КАК Номенклатура,
	|  		ОстаткиТоваров.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	|  		ОстаткиТоваров.ХарактеристикаНоменклатуры КАК Характеристика,
	|  		ОстаткиТоваров.Качество КАК Качество,
	|  		ОстаткиТоваров.СерияНоменклатуры КАК Серия,
	|  		ОстаткиТоваров.СерияНоменклатуры.НомерГТД КАК НомерГТД,
	|  		ОстаткиТоваров.СерияНоменклатуры.СтранаПроисхождения КАК СтранаПроисхождения,
	|  		ОстаткиТоваров.СерияНоменклатуры.ПометкаУдаления КАК ПометкаУдаления,
	|  		СУММА(ЕСТЬNULL(ОстаткиТоваров.КоличествоОстаток, 0) * ЕСТЬNULL(ОстаткиТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)) КАК Количество,
	|  		0 КАК СуммаИтогоУпр,
	|  		0 КАК Сумма,
	|  		0 КАК СуммаСНДСРегл,
	|  		0 КАК СуммаБезНДС,
	|  		0 КАК СуммаНДС,
	|  		0 КАК НДСРегл
	//|  	ПОМЕСТИТЬ ВТ_Остатки
	|  	ИЗ
	|  		РегистрНакопления.ТоварыНаСкладах.Остатки(
	|  				&amp;ДатаОстатков,
	|  				Склад = &amp;Склад
	|  					И Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)) КАК ОстаткиТоваров
	|  	ГДЕ
	|  		ОстаткиТоваров.КоличествоОстаток &gt; 0
	|  	
	|  	СГРУППИРОВАТЬ ПО
	|  		ОстаткиТоваров.Номенклатура,
	|  		ОстаткиТоваров.Склад,
	|  		ОстаткиТоваров.ХарактеристикаНоменклатуры,
	|  		ОстаткиТоваров.Качество,
	|  		ОстаткиТоваров.СерияНоменклатуры,
	|  		ОстаткиТоваров.СерияНоменклатуры.НомерГТД,
	|  		ОстаткиТоваров.СерияНоменклатуры.СтранаПроисхождения,
	|  		ОстаткиТоваров.СерияНоменклатуры.ПометкаУдаления,
	|  		ОстаткиТоваров.Номенклатура.ВестиУчетПоСериям
	|  	ИТОГИ ПО
	|  		Организация,
	|  		Склад");
	//|  	;
	//|  	
	//|  	////////////////////////////////////////////////////////////////////////////////
	//|  	ВЫБРАТЬ
	//|  		ТоварыВРезервеНаСкладахОстатки.Номенклатура,
	//|  		ТоварыВРезервеНаСкладахОстатки.ХарактеристикаНоменклатуры,
	//|  		ТоварыВРезервеНаСкладахОстатки.СерияНоменклатуры,
	//|  		СУММА(ТоварыВРезервеНаСкладахОстатки.КоличествоОстаток) КАК КоличествоВРезерве
	//|  	ПОМЕСТИТЬ ВТ_ВРезерве
	//|  	ИЗ
	//|  		РегистрНакопления.ТоварыВРезервеНаСкладах.Остатки(&amp;ДатаОстатков, Склад = &amp;Склад) КАК ТоварыВРезервеНаСкладахОстатки
	//|  	
	//|  	СГРУППИРОВАТЬ ПО
	//|  		ТоварыВРезервеНаСкладахОстатки.Номенклатура,
	//|  		ТоварыВРезервеНаСкладахОстатки.ХарактеристикаНоменклатуры,
	//|  		ТоварыВРезервеНаСкладахОстатки.СерияНоменклатуры
	//|  	;
	//|  	
	//|  	////////////////////////////////////////////////////////////////////////////////
	//|  	ВЫБРАТЬ
	//|  		ТоварыВРозницеОстатки.Номенклатура,
	//|  		ТоварыВРозницеОстатки.ХарактеристикаНоменклатуры,
	//|  		ТоварыВРозницеОстатки.СерияНоменклатуры,
	//|  		СУММА(ТоварыВРозницеОстатки.КоличествоОстаток) КАК КоличествоКПередаче
	//|  	ПОМЕСТИТЬ ВТ_КПередаче
	//|  	ИЗ
	//|  		РегистрНакопления.ТоварыВРознице.Остатки(&amp;ДатаОстатков, Склад = &amp;Склад) КАК ТоварыВРозницеОстатки
	//|  	
	//|  	СГРУППИРОВАТЬ ПО
	//|  		ТоварыВРозницеОстатки.Номенклатура,
	//|  		ТоварыВРозницеОстатки.ХарактеристикаНоменклатуры,
	//|  		ТоварыВРозницеОстатки.СерияНоменклатуры
	//|  	;
	//|  	
	//|  	////////////////////////////////////////////////////////////////////////////////
	//|  	ВЫБРАТЬ
	//|  		ВТ_Остатки.Организация КАК Организация,
	//|  		ВТ_Остатки.Склад КАК Склад,
	//|  		ВТ_Остатки.Номенклатура,
	//|  		ВТ_Остатки.ВестиУчетПоСериям,
	//|  		ВТ_Остатки.Характеристика,
	//|  		ВТ_Остатки.Качество,
	//|  		ВТ_Остатки.Серия,
	//|  		ВТ_Остатки.НомерГТД,
	//|  		ВТ_Остатки.СтранаПроисхождения,
	//|  		ВТ_Остатки.ПометкаУдаления,
	//|  		ВТ_Остатки.Количество КАК КоличествоОстаток,
	//|  		ВТ_Остатки.СуммаИтогоУпр,
	//|  		ВТ_Остатки.Сумма,
	//|  		ВТ_Остатки.СуммаСНДСРегл,
	//|  		ВТ_Остатки.СуммаБезНДС,
	//|  		ВТ_Остатки.СуммаНДС,
	//|  		ВТ_Остатки.НДСРегл,
	//|  		ВТ_Остатки.Количество - ЕСТЬNULL(ВТ_ВРезерве.КоличествоВРезерве, 0) - ЕСТЬNULL(ВТ_КПередаче.КоличествоКПередаче, 0) КАК Количество,
	//|  		ВТ_ВРезерве.КоличествоВРезерве,
	//|  		ВТ_КПередаче.КоличествоКПередаче
	//|  	ИЗ
	//|  		ВТ_Остатки КАК ВТ_Остатки
	//|  			ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ВРезерве КАК ВТ_ВРезерве
	//|  			ПО ВТ_Остатки.Номенклатура = ВТ_ВРезерве.Номенклатура
	//|  				И ВТ_Остатки.Характеристика = ВТ_ВРезерве.ХарактеристикаНоменклатуры
	//|  				И ВТ_Остатки.Серия = ВТ_ВРезерве.СерияНоменклатуры
	//|  			ЛЕВОЕ СОЕДИНЕНИЕ ВТ_КПередаче КАК ВТ_КПередаче
	//|  			ПО ВТ_Остатки.Номенклатура = ВТ_КПередаче.Номенклатура
	//|  				И ВТ_Остатки.Характеристика = ВТ_КПередаче.ХарактеристикаНоменклатуры
	//|  				И ВТ_Остатки.Серия = ВТ_КПередаче.СерияНоменклатуры
	//|   ГДЕ ВТ_Остатки.Количество - ЕСТЬNULL(ВТ_ВРезерве.КоличествоВРезерве, 0) - ЕСТЬNULL(ВТ_КПередаче.КоличествоКПередаче, 0) &gt; 0
	//|  	ИТОГИ ПО
	//|  		Организация,
	//|  		Склад");

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));
Запрос.УстановитьПараметр("Склад", Параметры.Склад);
Запрос.УстановитьПараметр("Организация", Параметры.Организация);
Запрос.УстановитьПараметр("ВалютаУпрУчета", Константы.ВалютаУправленческогоУчета.Получить());
//Запрос.УстановитьПараметр("ВалютаUSD", Параметры.ВалютаUSD);

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("Валюта");
ВыборкаДанных.Колонки.Добавить("Склад");
ВыборкаДанных.Колонки.Добавить("Партнер");
ВыборкаДанных.Колонки.Добавить("Контрагент");
ВыборкаДанных.Колонки.Добавить("Договор");
ВыборкаДанных.Колонки.Добавить("ПредъявленСчетФактура");
ВыборкаДанных.Колонки.Добавить("НомерСчетаФактуры");
ВыборкаДанных.Колонки.Добавить("ДатаСчетаФактуры");
ВыборкаДанных.Колонки.Добавить("Товары");
ВыборкаДанных.Колонки.Добавить("Серии");
ВыборкаДанных.Колонки.Добавить("Комментарий");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	ВыборкаПоСкладам = ВыборкаПоОрганизациям.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаПоСкладам.Следующий() Цикл
		
		НоваяСтрока = ВыборкаДанных.Добавить();
		НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
		НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация;
		НоваяСтрока.Склад       = ВыборкаПоСкладам.Склад;
		НоваяСтрока.Комментарий = НСтр("ru = 'УПП 1.2  -&gt; УТ 11: Собственные товары на складах'");
		
		ПредъявленСФ = Неопределено; ДополнениеККоментарию = "";
		
		НоваяСтрока.Комментарий = НоваяСтрока.Комментарий + ДополнениеККоментарию;
		
		НоваяСтрока.Товары = Новый ТаблицаЗначений;
		НоваяСтрока.Товары.Колонки.Добавить("Номенклатура");
		НоваяСтрока.Товары.Колонки.Добавить("Характеристика");
		НоваяСтрока.Товары.Колонки.Добавить("Качество");
		НоваяСтрока.Товары.Колонки.Добавить("Количество");
		НоваяСтрока.Товары.Колонки.Добавить("КоличествоУпаковок");
		НоваяСтрока.Товары.Колонки.Добавить("Цена");
		НоваяСтрока.Товары.Колонки.Добавить("Сумма");
		НоваяСтрока.Товары.Колонки.Добавить("СуммаРегл");
		НоваяСтрока.Товары.Колонки.Добавить("СуммаБезНДС");
		НоваяСтрока.Товары.Колонки.Добавить("СуммаНДС");
		НоваяСтрока.Товары.Колонки.Добавить("СуммаСНДС");
		НоваяСтрока.Товары.Колонки.Добавить("НДСРегл");
		НоваяСтрока.Товары.Колонки.Добавить("НомерГТД");
		НоваяСтрока.Товары.Колонки.Добавить("Серия");
		
		НоваяСтрока.Серии = Новый ТаблицаЗначений;
		НоваяСтрока.Серии.Колонки.Добавить("Номенклатура");
		НоваяСтрока.Серии.Колонки.Добавить("Характеристика");
		НоваяСтрока.Серии.Колонки.Добавить("Качество");
		НоваяСтрока.Серии.Колонки.Добавить("Серия");
		НоваяСтрока.Серии.Колонки.Добавить("Количество");
		НоваяСтрока.Серии.Колонки.Добавить("КоличествоУпаковок");
		
		ВыборкаДетальныеЗаписи = ВыборкаПоСкладам.Выбрать();
		Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			
			СтрокаСообщения = "";
			
			НоваяСтрокаТовары = НоваяСтрока.Товары.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрокаТовары, ВыборкаДетальныеЗаписи);
			НоваяСтрокаТовары.СуммаСНДС = ВыборкаДетальныеЗаписи.Сумма; 
			НоваяСтрокаТовары.Цена = ВыборкаДетальныеЗаписи.Сумма / ВыборкаДетальныеЗаписи.Количество;
			НоваяСтрокаТовары.КоличествоУпаковок = ВыборкаДетальныеЗаписи.Количество;
			
			Если НоваяСтрокаТовары.НДСРегл = 0 Тогда
				СтавкаНДСЧислом = 20;
				НоваяСтрокаТовары.СуммаНДС    = НоваяСтрокаТовары.Сумма / (СтавкаНДСЧислом + 1) * СтавкаНДСЧислом;
				НоваяСтрокаТовары.НДСРегл     = ВыборкаДетальныеЗаписи.СуммаСНДСРегл / (СтавкаНДСЧислом + 1) * СтавкаНДСЧислом;
				НоваяСтрокаТовары.СуммаБезНДС = НоваяСтрокаТовары.Сумма - НоваяСтрокаТовары.СуммаНДС;
			КонецЕсли;
			
			НоваяСтрокаТовары.СуммаРегл = ВыборкаДетальныеЗаписи.СуммаСНДСРегл - НоваяСтрокаТовары.НДСРегл;
			
			Если ЗначениеЗаполнено(ВыборкаДетальныеЗаписи.НомерГТД) Тогда
				НоваяСтрокаТовары.НомерГТД = Новый Структура;
				НоваяСтрокаТовары.НомерГТД.Вставить("Владелец", ВыборкаДетальныеЗаписи.Номенклатура);
				НоваяСтрокаТовары.НомерГТД.Вставить("СтранаПроисхождения", ВыборкаДетальныеЗаписи.СтранаПроисхождения);
				НоваяСтрокаТовары.НомерГТД.Вставить("ПометкаУдаления", ВыборкаДетальныеЗаписи.ПометкаУдаления);
				НоваяСтрокаТовары.НомерГТД.Вставить("Код", ВыборкаДетальныеЗаписи.НомерГТД);
			КонецЕсли;
			
			// Запоминаем серии номенклатуры, если для нее ведется учет серий
			Если ВыборкаДетальныеЗаписи.ВестиУчетПоСериям Тогда
				Если Параметры.РежимВыгрузкиСерий = 1 Тогда
					НоваяСтрокаСерии = НоваяСтрока.Серии.Добавить();
					НоваяСтрокаСерии.КоличествоУпаковок = ВыборкаДетальныеЗаписи.Количество;
					ЗаполнитьЗначенияСвойств(НоваяСтрокаСерии, ВыборкаДетальныеЗаписи);
				ИначеЕсли Параметры.РежимВыгрузкиСерий = 2 Тогда
					НоваяСтрокаТовары.Серия = ВыборкаДетальныеЗаписи.Серия;
				КонецЕсли;
			КонецЕсли;
			
		КонецЦикла;
		
		Если НоваяСтрока.Товары.Количество() = 0 Тогда
			ВыборкаДанных.Удалить(НоваяСтрока);
		Иначе
			Если Параметры.РежимВыгрузкиСерий = 1 Тогда
				НоваяСтрока.Серии.Свернуть("Номенклатура,Характеристика,Качество,Серия", "Количество,КоличествоУпаковок");
			Иначе
				НоваяСтрока.Серии.Очистить();
			КонецЕсли;
		КонецЕсли;
		
	КонецЦикла;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>ДенежныеСредства</Код>
				<Наименование>Денежные средства</Наименование>
				<Порядок>100</Порядок>
				<Правило Отключить="false">
					<Код>ВводОстатковДенежныеСредстваВКассах</Код>
					<Наименование>Денежные средства в кассах</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>ВводОстатковДенежныеСредстваВКассах               </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ОстаткиВКассах.Организация                                                         КАК Организация,
	|	ОстаткиВКассах.БанковскийСчетКасса                                                 КАК Касса,
	|	ОстаткиВКассах.СуммаОстаток                                                        КАК Сумма,
	|	ОстаткиВКассах.СуммаОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                              КАК СуммаРегл
	|	
	|ИЗ
	|	РегистрНакопления.ДенежныеСредства.Остатки(
	|		&amp;ДатаОстатков, Организация = &amp;Организация И 
	|		ВидДенежныхСредств = ЗНАЧЕНИЕ(Перечисление.ВидыДенежныхСредств.Наличные)) КАК ОстаткиВКассах
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ОстаткиВКассах.БанковскийСчетКасса.ВалютаДенежныхСредств = КурсыВалют.Валюта
	|	
	|УПОРЯДОЧИТЬ ПО
	|	ОстаткиВКассах.БанковскийСчетКасса
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));
Запрос.УстановитьПараметр("Организация", Параметры.Организация);

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("Кассы");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	НоваяСтрока.Кассы = Новый ТаблицаЗначений;
	НоваяСтрока.Кассы.Колонки.Добавить("Касса");
	НоваяСтрока.Кассы.Колонки.Добавить("Сумма");
	НоваяСтрока.Кассы.Колонки.Добавить("СуммаРегл");
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		
		Если ВыборкаДетальныеЗаписи.Сумма &lt; 0 Тогда
			СтрокаСообщения = НСтр("ru = 'Обнаружены отрицательные остатки по кассе ""%1"" при выгрузке по правилу: ""%2""'");
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", ВыборкаДетальныеЗаписи.Касса);
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", НСтр("ru = 'Денежные средства в кассах'"));
			Сообщение = Новый СообщениеПользователю();
			Сообщение.Текст = СтрокаСообщения;
			Сообщение.УстановитьДанные(ВыборкаДетальныеЗаписи.Касса);
			Сообщение.Сообщить();
			Продолжить;
		КонецЕсли;
		
		ВалютаДенежныхСредств = ОбщегоНазначения.ПолучитьЗначениеРеквизита(ВыборкаДетальныеЗаписи.Касса, "ВалютаДенежныхСредств");		
		
		НоваяСтрокаКассы = НоваяСтрока.Кассы.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаКассы, ВыборкаДетальныеЗаписи);
			
	КонецЦикла;
	
	Если НоваяСтрока.Кассы.Количество() = 0 Тогда
		ВыборкаДанных.Удалить(НоваяСтрока);
	КонецЕсли;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВводОстатковДенежныеСредстваНаБанковскихСчета</Код>
					<Наименование>Денежные cредства на банковских счетах</Наименование>
					<Порядок>100</Порядок>
					<КодПравилаКонвертации>ВводОстатковДенежныхСредствНаБанковскихСчетах     </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ОстаткиВКассах.Организация                                                         КАК Организация,
	|	ОстаткиВКассах.БанковскийСчетКасса                                                 КАК БанковскийСчет,
	|	ОстаткиВКассах.СуммаОстаток                                                        КАК Сумма,
	|	ОстаткиВКассах.СуммаОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                              КАК СуммаРегл
	|	
	|ИЗ
	|	РегистрНакопления.ДенежныеСредства.Остатки(
	|		&amp;ДатаОстатков, Организация = &amp;Организация И
	|		ВидДенежныхСредств = ЗНАЧЕНИЕ(Перечисление.ВидыДенежныхСредств.Безналичные)) КАК ОстаткиВКассах
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ОстаткиВКассах.БанковскийСчетКасса.ВалютаДенежныхСредств = КурсыВалют.Валюта
	|	
	|УПОРЯДОЧИТЬ ПО
	|	ОстаткиВКассах.БанковскийСчетКасса
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));
Запрос.УстановитьПараметр("Организация", Параметры.Организация);

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("БанковскиеСчета");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	НоваяСтрока.БанковскиеСчета = Новый ТаблицаЗначений;
	НоваяСтрока.БанковскиеСчета.Колонки.Добавить("БанковскийСчет");
	НоваяСтрока.БанковскиеСчета.Колонки.Добавить("Сумма");
	НоваяСтрока.БанковскиеСчета.Колонки.Добавить("СуммаРегл");
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		
		Если ВыборкаДетальныеЗаписи.Сумма &lt; 0 Тогда
			СтрокаСообщения = НСтр("ru = 'Обнаружены отрицательные остатки на банковском счете ""%1"" при выгрузке по правилу: ""%2""'");
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", ВыборкаДетальныеЗаписи.БанковскийСчет);
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", НСтр("ru = 'Денежные cредства на банковских счетах'"));
			Сообщение = Новый СообщениеПользователю();
			Сообщение.Текст = СтрокаСообщения;
			Сообщение.УстановитьДанные(ВыборкаДетальныеЗаписи.БанковскийСчет);
			Сообщение.Сообщить();
			Продолжить;
		КонецЕсли;
		
		ВалютаДенежныхСредств = ОбщегоНазначения.ПолучитьЗначениеРеквизита(ВыборкаДетальныеЗаписи.БанковскийСчет, "ВалютаДенежныхСредств");
			
		НоваяСтрокаБанковскиеСчета = НоваяСтрока.БанковскиеСчета.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаБанковскиеСчета, ВыборкаДетальныеЗаписи);
		
	КонецЦикла;
	
	Если НоваяСтрока.БанковскиеСчета.Количество() = 0 Тогда
		ВыборкаДанных.Удалить(НоваяСтрока);
	КонецЕсли;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>РасчетыСКонтрагентами</Код>
				<Наименование>Взаиморасчеты с контрагентами</Наименование>
				<Порядок>150</Порядок>
				<Группа Отключить="false">
					<Код>РасчетыСКлиентами</Код>
					<Наименование>Взаиморасчеты с клиентами</Наименование>
					<Порядок>50</Порядок>
					<Правило Отключить="false">
						<Код>ВводОстатковАвансыПоДоговорамПолученныеОтКлие</Код>
						<Наименование>Авансы по договорам, полученные от клиентов</Наименование>
						<Порядок>50</Порядок>
						<КодПравилаКонвертации>ВводОстатковАвансыПоДоговорамПолученныеОтКлие     </КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВзаиморасчетыСКонтрагентамиОстатки.Сделка                              КАК Сделка,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация                         КАК Организация,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                          КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                          КАК Партнер,
	//|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток         КАК Сумма,
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток         КАК Сумма,
	|	
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                  КАК СуммаРегл,
	|	
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента КАК РасчетныйДокумент,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ КАК НомерРасчетногоДокумента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ КАК ДатаРасчетногоДокумента
	|	
	|ПОМЕСТИТЬ ОстаткиВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков, Организация = &amp;Организация И
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПокупателем)
	|				И (ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВЦелом)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоЗаказам)
	|						И (НЕ Сделка ССЫЛКА Документ.ЗаказПокупателя))) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыВалют
	|		ПО ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|	
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt; 0
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ОстаткиВзаиморасчетов.Организация КАК Организация,
	|	ОстаткиВзаиморасчетов.Контрагент КАК Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	СУММА(ОстаткиВзаиморасчетов.Сумма) КАК Сумма,
	|	СУММА(ОстаткиВзаиморасчетов.СуммаРегл) КАК СуммаРегл,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|ИЗ
	|	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
	|
	|СГРУППИРОВАТЬ ПО
	|	ОстаткиВзаиморасчетов.Организация,
	|	ОстаткиВзаиморасчетов.Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков)+1); //Лебеденко +1 секунда
Запрос.УстановитьПараметр("Организация", Параметры.Организация);
Запрос.УстановитьПараметр("ВалютаUSD", Параметры.ВалютаUSD);

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	НоваяСтрока.РасчетыСПартнерами = Новый ТаблицаЗначений;
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("Партнер");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("Контрагент");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("ДатаРасчетногоДокумента");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("НомерРасчетногоДокумента");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("Сумма");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("СуммаРегл");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("ВалютаВзаиморасчетов");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("РасчетныйДокумент");
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		Если ВыборкаДетальныеЗаписи.Сумма &gt; 0 Тогда
			НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
		КонецЕсли;
	КонецЦикла;
КонецЦикла;</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковДолгиКлиентовПоДоговорам</Код>
						<Наименование>Долги клиентов по договорам</Наименование>
						<Порядок>100</Порядок>
						<КодПравилаКонвертации>ВводОстатковДолгиКлиентовПоДоговорам              </КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	&amp;ДатаОстатков КАК ДатаПлатежа,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Сделка,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Партнер,
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
	//|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток КАК Сумма,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента КАК РасчетныйДокумент,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ КАК НомерРасчетногоДокумента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ КАК ДатаРасчетногоДокумента,
	|	NULL КАК ДокументРасчетовСКонтрагентом
	|ПОМЕСТИТЬ ОстаткиВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков, Организация = &amp;Организация И
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПокупателем)
	|				И (ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВцелом)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
	|						И (НЕ ДоговорКонтрагента.ВестиПоДокументамРасчетовСКонтрагентом)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоЗаказам)
	|						И (НЕ Сделка ССЫЛКА Документ.ЗаказПокупателя))) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &gt; 0
	|
	|ОБЪЕДИНИТЬ
	|
	|ВЫБРАТЬ
	|	&amp;ДатаОстатков,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Организация,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Сделка,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток,
	//|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаРеглОстаток,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентамиПоДокументамРасчетов.Остатки(
	|			&amp;ДатаОстатков, Организация = &amp;Организация И
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПокупателем)
	|				И УпрУчет
	|				И ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
	|				И (НЕ ДокументРасчетовСКонтрагентом ССЫЛКА Документ.РеализацияТоваровУслуг)) КАК ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток &gt; 0
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ОстаткиВзаиморасчетов.ДатаПлатежа,
	|	ОстаткиВзаиморасчетов.Организация                    КАК Организация,
	|	ОстаткиВзаиморасчетов.Контрагент                     КАК Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	СУММА(ОстаткиВзаиморасчетов.Сумма)                   КАК Сумма,
	|	
	|	СУММА(ОстаткиВзаиморасчетов.Сумма * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ)                                               КАК СуммаРегл,
	|	
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	//|	&amp;ВалютаUSD КАК ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|ИЗ
	|	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	//|		ПО &amp;ВалютаUSD = КурсыВалют.Валюта
	|	
	|СГРУППИРОВАТЬ ПО
	|	ОстаткиВзаиморасчетов.ДатаПлатежа,
	|	ОстаткиВзаиморасчетов.Организация,
	|	ОстаткиВзаиморасчетов.Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	//|	&amp;ВалютаUSD,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков)+1);//Лебеденко +1 секунда
Запрос.УстановитьПараметр("Организация", Параметры.Организация);
Запрос.УстановитьПараметр("ВалютаUSD", Параметры.ВалютаUSD);


ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	НоваяСтрока.РасчетыСПартнерами = Новый ТаблицаЗначений;
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("Партнер");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("Контрагент");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("ДатаРасчетногоДокумента");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("НомерРасчетногоДокумента");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("РасчетныйДокумент");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("Сумма");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("СуммаРегл");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("ВалютаВзаиморасчетов");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("ДатаПлатежа");
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		Если ВыборкаДетальныеЗаписи.Сумма &gt; 0 Тогда
			НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
		КонецЕсли;
	КонецЦикла;
КонецЦикла;</ПередОбработкойПравила>
					</Правило>
				</Группа>
				<Группа Отключить="false">
					<Код>РасчетыСПоставщиками</Код>
					<Наименование>Взаиморасчеты с поставщиками</Наименование>
					<Порядок>100</Порядок>
					<Правило Отключить="false">
						<Код>ВводОстатковАвансыПоДоговорамУплаченныеПостав</Код>
						<Наименование>Авансы по договорам, уплаченные поставщикам</Наименование>
						<Порядок>50</Порядок>
						<КодПравилаКонвертации>ВводОстатковАвансыПоДоговорамУплаченныеПостав     </КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВзаиморасчетыСКонтрагентамиОстатки.Сделка                                  КАК Сделка,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация                             КАК Организация,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                              КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                              КАК Партнер,
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток              КАК Сумма,
	//|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток              КАК Сумма,
	|	
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                      КАК СуммаРегл,
	|	
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента                      КАК РасчетныйДокумент,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ КАК НомерРасчетногоДокумента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ КАК ДатаРасчетногоДокумента
	|	
	|ПОМЕСТИТЬ ОстаткиВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков,  Организация = &amp;Организация И
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПоставщиком)
	|				И (ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВЦелом)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоЗаказам)
	|						И (НЕ Сделка ССЫЛКА Документ.ЗаказПоставщику))) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|	
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &gt; 0
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ОстаткиВзаиморасчетов.Организация КАК Организация,
	|	ОстаткиВзаиморасчетов.Контрагент КАК Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	СУММА(ОстаткиВзаиморасчетов.Сумма) КАК Сумма,
	|	СУММА(ОстаткиВзаиморасчетов.СуммаРегл) КАК СуммаРегл,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов, 
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|ИЗ
	|	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
	|
	|СГРУППИРОВАТЬ ПО
	|	ОстаткиВзаиморасчетов.Организация,
	|	ОстаткиВзаиморасчетов.Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков)+1);//Лебеденко +1 секунда
Запрос.УстановитьПараметр("Организация", Параметры.Организация);
Запрос.УстановитьПараметр("ВалютаUSD", Параметры.ВалютаUSD);

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	НоваяСтрока.РасчетыСПартнерами = Новый ТаблицаЗначений;
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("Партнер");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("Контрагент");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("ДатаРасчетногоДокумента");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("НомерРасчетногоДокумента");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("Сумма");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("СуммаРегл");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("ВалютаВзаиморасчетов");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("РасчетныйДокумент");
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		Если ВыборкаДетальныеЗаписи.Сумма &gt; 0 Тогда
			НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
		КонецЕсли;
	КонецЦикла;
	
	НоваяСтрока.РасчетыСПартнерами.Свернуть("
		|Партнер,
		|Контрагент,
		|ВалютаВзаиморасчетов,
		|ДатаРасчетногоДокумента,
		|НомерРасчетногоДокумента,
		|РасчетныйДокумент", "Сумма,СуммаРегл");
	
КонецЦикла;</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковДолгиПоставщикамПоДоговорам</Код>
						<Наименование>Наши долги поставщикам по договорам</Наименование>
						<Порядок>100</Порядок>
						<КодПравилаКонвертации>ВводОстатковДолгиПоставщикамПоДоговорам           </КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	&amp;ДатаОстатков КАК ДатаПлатежа,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Сделка,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Партнер,
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
	//|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток КАК Сумма,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента КАК РасчетныйДокумент,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ КАК НомерРасчетногоДокумента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ КАК ДатаРасчетногоДокумента,
	|	NULL КАК ДокументРасчетовСКонтрагентом
	|ПОМЕСТИТЬ ОстаткиВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков, Организация = &amp;Организация И
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПоставщиком)
	|				И (ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВцелом)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоЗаказам)
	|						И (НЕ Сделка ССЫЛКА Документ.ЗаказПоставщику)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
	|						И (НЕ ДоговорКонтрагента.ВестиПоДокументамРасчетовСКонтрагентом))) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt; 0
	|
	|ОБЪЕДИНИТЬ
	|
	|ВЫБРАТЬ
	|	&amp;ДатаОстатков,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Организация,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Сделка,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент,
	|	-ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток,
	//|	-ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаРеглОстаток,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентамиПоДокументамРасчетов.Остатки(
	|			&amp;ДатаОстатков, Организация = &amp;Организация И
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПоставщиком)
	|				И УпрУчет
	|				И ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
	|				И (НЕ(ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ПоступлениеТоваровУслуг
	|						ИЛИ ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ПоступлениеТоваровУслугВНТТ))) КАК ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток &lt; 0
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ОстаткиВзаиморасчетов.ДатаПлатежа,
	|	ОстаткиВзаиморасчетов.Организация                    КАК Организация,
	|	ОстаткиВзаиморасчетов.Контрагент                     КАК Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	СУММА(ОстаткиВзаиморасчетов.Сумма)                   КАК Сумма,
	|	
	|	СУММА(ОстаткиВзаиморасчетов.Сумма * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ)                                               КАК СуммаРегл,
	|	
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов, 
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|ИЗ
	|	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|
	|СГРУППИРОВАТЬ ПО
	|	ОстаткиВзаиморасчетов.ДатаПлатежа,
	|	ОстаткиВзаиморасчетов.Организация,
	|	ОстаткиВзаиморасчетов.Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков)+1);//Лебеденко +1 секунда
Запрос.УстановитьПараметр("Организация", Параметры.Организация);
Запрос.УстановитьПараметр("ВалютаUSD", Параметры.ВалютаUSD);

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	НоваяСтрока.РасчетыСПартнерами = Новый ТаблицаЗначений;
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("Партнер");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("Контрагент");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("ДатаРасчетногоДокумента");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("НомерРасчетногоДокумента");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("РасчетныйДокумент");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("Сумма");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("СуммаРегл");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("ВалютаВзаиморасчетов");
	НоваяСтрока.РасчетыСПартнерами.Колонки.Добавить("ДатаПлатежа");
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		Если ВыборкаДетальныеЗаписи.Сумма &gt; 0 Тогда
			НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
		КонецЕсли;
	КонецЦикла;
КонецЦикла;</ПередОбработкойПравила>
					</Правило>
				</Группа>
			</Группа>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы>
		<Группа Имя="Выгрузка">
			<Алгоритм Имя="ВходящиеДанныеНоменклатуры" ИспользуетсяПриЗагрузке="false">
				<Текст>Если Не ЗначениеЗаполнено(ВходящиеДанные) Тогда
	ВходящиеДанные = Новый Структура;
КонецЕсли;

ВходящиеДанные.Вставить("ТипНоменклатуры");

ВходящиеДанные.ТипНоменклатуры = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Источник.ВидНоменклатуры, "ТипНоменклатуры");

ПараметрыПоиска = Новый Структура("Номенклатура", Источник);
НайденныеСтроки = Параметры.ТабАлкогольнаяПродукцияНоменклатуры.НайтиСтроки(ПараметрыПоиска);

// Вести учет по ГТД
Запрос = Новый Запрос("
|ВЫБРАТЬ ПЕРВЫЕ 1
|	1
|ИЗ
|	Справочник.СерииНоменклатуры КАК СерииНоменклатуры
|ГДЕ
|	СерииНоменклатуры.НомерГТД &lt;&gt; ЗНАЧЕНИЕ(Справочник.НомераГТД.ПустаяСсылка)
|	И СерииНоменклатуры.Владелец = &amp;Номенклатура
|");

Запрос.УстановитьПараметр("Номенклатура", Источник.Ссылка);

ВходящиеДанные.Вставить("ВестиУчетПоГТД", Не Запрос.Выполнить().Пустой());

НоваяСтрокаАлко = Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Добавить();
НоваяСтрокаАлко.Номенклатура            = Источник;
НоваяСтрокаАлко.ВестиУчетПоГТД          = ВходящиеДанные.ВестиУчетПоГТД;</Текст>
				<Параметры>Источник</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СоздатьВидНоменклатуры" ИспользуетсяПриЗагрузке="false">
				<Текст>// Попытка получения результата из кэша предыдущих вычислений

СоздатьВидНоменклатуры_РезультатПоиска = Параметры.КешВидовНоменклатуры.Получить(СоздатьВидНоменклатуры_Номенклатура);
Если СоздатьВидНоменклатуры_РезультатПоиска &lt;&gt; Неопределено Тогда
	Значение = СоздатьВидНоменклатуры_РезультатПоиска;
КонецЕсли;

Если Не ЗначениеЗаполнено(Значение) Тогда

	// Алгоритм формирования вида номенклатуры
	// Запрос выбирает все свойства, назначенные для данной номенклатуры, кроме общих свойств номенклатуры
	ЗапросПоСвойствамНоменклатуры = Новый Запрос(
		"ВЫБРАТЬ
		|	НазначенияСвойствОбъектов.Объект КАК Назначение,
		|	НазначенияСвойствОбъектов.Объект.Наименование КАК НазначениеНаименование,
		|	СвойстваОбъектов.Ссылка КАК Свойство
		|ИЗ
		|	ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.НазначенияСвойствОбъектов КАК НазначенияСвойствОбъектов
		|		ПО (НазначенияСвойствОбъектов.Свойство = СвойстваОбъектов.Ссылка)
		|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК Номенклатура
		|		ПО (
		|		(
		|		Номенклатура.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель.Родитель.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		)
		|		И Номенклатура.Ссылка = &amp;Номенклатура
		|		)
		|ГДЕ
		|	СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_Номенклатура)
		|	И НазначенияСвойствОбъектов.Объект.ЭтоГруппа
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	НазначенияСвойствОбъектов.Объект,
		|	НазначенияСвойствОбъектов.Объект.Наименование КАК НазначениеНаименование,
		|	СвойстваОбъектов.Ссылка
		|ИЗ
		|	ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.НазначенияСвойствОбъектов КАК НазначенияСвойствОбъектов
		|		ПО (НазначенияСвойствОбъектов.Свойство = СвойстваОбъектов.Ссылка)
		|ГДЕ
		|	СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_Номенклатура)
		|	И Не НазначенияСвойствОбъектов.Объект.ЭтоГруппа
		|	И НазначенияСвойствОбъектов.Объект = &amp;Номенклатура");

	ЗапросПоСвойствамНоменклатуры.Параметры.Вставить("Номенклатура", СоздатьВидНоменклатуры_Номенклатура);

	// Запрос выбирает все свойства, назначенные для данной характеристики номенклатуры, кроме общих свойств характеристик
	ЗапросПоСвойствамХарактеристик = Новый Запрос(
		"ВЫБРАТЬ
		|	НазначенияСвойствОбъектов.Объект КАК Назначение,
		|	НазначенияСвойствОбъектов.Объект.Наименование КАК НазначениеНаименование,
		|	Номенклатура.Ссылка КАК Номенклатура,
		|	СвойстваОбъектов.Ссылка КАК Свойство
		|ИЗ
		|	ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.НазначенияСвойствОбъектов КАК НазначенияСвойствОбъектов
		|		ПО (НазначенияСвойствОбъектов.Свойство = СвойстваОбъектов.Ссылка)
		|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК Номенклатура
		|		ПО (
		|		(
		|		Номенклатура.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		ИЛИ Номенклатура.Родитель.Родитель.Родитель.Родитель.Родитель = НазначенияСвойствОбъектов.Объект
		|		)
		|		И Номенклатура.Ссылка = &amp;Номенклатура
		|		)
		|ГДЕ
		|	СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ХарактеристикиНоменклатуры)
		|	И Номенклатура.ВестиУчетПоХарактеристикам
		|	И НазначенияСвойствОбъектов.Объект.ЭтоГруппа
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	НазначенияСвойствОбъектов.Объект,
		|	НазначенияСвойствОбъектов.Объект.Наименование КАК НазначениеНаименование,
		|	НазначенияСвойствОбъектов.Объект,
		|	СвойстваОбъектов.Ссылка
		|ИЗ
		|	ПланВидовХарактеристик.СвойстваОбъектов КАК СвойстваОбъектов
		|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.НазначенияСвойствОбъектов КАК НазначенияСвойствОбъектов
		|		ПО (НазначенияСвойствОбъектов.Свойство = СвойстваОбъектов.Ссылка)
		|ГДЕ
		|	СвойстваОбъектов.НазначениеСвойства = ЗНАЧЕНИЕ(ПланВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ХарактеристикиНоменклатуры)
		|	И Не НазначенияСвойствОбъектов.Объект.ЭтоГруппа
		|	И НазначенияСвойствОбъектов.Объект.ВестиУчетПоХарактеристикам
		|	И НазначенияСвойствОбъектов.Объект = &amp;Номенклатура");

	ЗапросПоСвойствамХарактеристик.Параметры.Вставить("Номенклатура", СоздатьВидНоменклатуры_Номенклатура);

	РезультатЗапросаПоСвойствамХарактеристик = ЗапросПоСвойствамХарактеристик.Выполнить();
	РезультатЗапросаПоСвойствамНоменклатуры  = ЗапросПоСвойствамНоменклатуры.Выполнить();

	Значение = Новый Структура;
	Значение.Вставить("ПометкаУдаления",   Ложь);
	Значение.Вставить("ТипНоменклатуры",   СоздатьВидНоменклатуры_ТипНоменклатуры);
	Значение.Вставить("ИспользоватьСерии", СоздатьВидНоменклатуры_ИспользоватьСерии);
	Значение.Вставить("АлкогольнаяПродукция",          СоздатьВидНоменклатуры_АлкогольнаяПродукция);
	Значение.Вставить("ИмпортнаяАлкогольнаяПродукция", СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция);
	Значение.Вставить("ВидАлкогольнойПродукции",       СоздатьВидНоменклатуры_ВидАлкогольнойПродукции);

	Если СоздатьВидНоменклатуры_Номенклатура.ВестиУчетПоХарактеристикам Тогда
		Значение.Вставить("ИспользованиеХарактеристик", ?(Параметры.СворачиватьХарактеристики, "ОбщиеДляВидаНоменклатуры", "ИндивидуальныеДляНоменклатуры"));
	Иначе
		Значение.Вставить("ИспользованиеХарактеристик", "НеИспользовать");
	КонецЕсли;

	Если СоздатьВидНоменклатуры_АлкогольнаяПродукция Тогда
		Если Значение.ИспользованиеХарактеристик = "НеИспользовать" Тогда
			Постфикс = "(б/х, алко)";
		ИначеЕсли Значение.ИспользованиеХарактеристик = "ОбщиеДляВидаНоменклатуры" Тогда
			Постфикс = "(о/х, алко)";
		Иначе
			Постфикс = "(и/х, алко)";
		КонецЕсли;
	Иначе
		Если Значение.ИспользованиеХарактеристик = "НеИспользовать" Тогда
			Постфикс = "(б/х)";
		ИначеЕсли Значение.ИспользованиеХарактеристик = "ОбщиеДляВидаНоменклатуры" Тогда
			Постфикс = "(о/х)";
		Иначе
			Постфикс = "(и/х)";
		КонецЕсли;
	КонецЕсли;	

	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = Лев(СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры, 49-СтрДлина(Постфикс)) + " " + Постфикс;

	Значение.Вставить("НаборСвойств",              Неопределено);
	Значение.Вставить("НаборСвойствХарактеристик", Неопределено);

	СоответствиеНаименование = Новый Соответствие;
	ЕстьНаборСвойств = Ложь;
	ЕстьНаборСвойствХарактеристик = Ложь;

	// Создаем набор свойств для характеристик
	Если Не РезультатЗапросаПоСвойствамХарактеристик.Пустой() Тогда
		
		ЕстьНаборСвойствХарактеристик = Истина;
		
		НаборСвойствХарактеристик = Новый Структура;
		Значение.Вставить("НаборСвойствХарактеристик", НаборСвойствХарактеристик);
		НаборСвойствХарактеристик.Вставить("ПометкаУдаления", Ложь);
		НаборСвойствХарактеристик.Вставить("Родитель", "Справочник_ХарактеристикиНоменклатуры");
		НаборСвойствХарактеристик.Вставить("ДополнительныеРеквизиты", Новый ТаблицаЗначений);
		
		НаборСвойствХарактеристик.ДополнительныеРеквизиты.Колонки.Добавить("Свойство");
		
		Выборка = РезультатЗапросаПоСвойствамХарактеристик.Выбрать();
		Пока Выборка.Следующий() Цикл
			
			// Формирование строкового хэш из настройки назначения свойства
			Если ЗначениеЗаполнено(Выборка.НазначениеНаименование) Тогда
				СоответствиеНаименование.Вставить(Выборка.НазначениеНаименование);
			КонецЕсли;
			
			НовыеСвойство = НаборСвойствХарактеристик.ДополнительныеРеквизиты.Добавить();
			НовыеСвойство.Свойство = Выборка.Свойство;
			
		КонецЦикла;
		
	КонецЕсли;

	// Создаем набор свойств для номенклатуры
	Если Не РезультатЗапросаПоСвойствамНоменклатуры.Пустой() Тогда
		
		ЕстьНаборСвойств = Истина;
		
		НаборСвойств = Новый Структура;
		Значение.Вставить("НаборСвойств", НаборСвойств);
		НаборСвойств.Вставить("ПометкаУдаления", Ложь);
		НаборСвойств.Вставить("Родитель", "Справочник_Номенклатура");
		НаборСвойств.Вставить("ДополнительныеРеквизиты", Новый ТаблицаЗначений);
		
		НаборСвойств.ДополнительныеРеквизиты.Колонки.Добавить("Свойство");
		
		Выборка = РезультатЗапросаПоСвойствамНоменклатуры.Выбрать();
		Пока Выборка.Следующий() Цикл
			
			// Формирование строкового хэш из настройки назначения свойства
			Если ЗначениеЗаполнено(Выборка.НазначениеНаименование) Тогда
				СоответствиеНаименование.Вставить(Выборка.НазначениеНаименование);
			КонецЕсли;
			
			НовыеСвойство = НаборСвойств.ДополнительныеРеквизиты.Добавить();
			НовыеСвойство.Свойство = Выборка.Свойство;
			
		КонецЦикла;
		
	КонецЕсли;

	// Формирование наименования
	ПерваяИтерация = Истина;
	Для Каждого КлючИЗначение Из СоответствиеНаименование Цикл
		Если ПерваяИтерация Тогда
			СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + " (" + КлючИЗначение.Ключ;	
			ПерваяИтерация = Ложь;
		Иначе
			СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + ", " + КлючИЗначение.Ключ;
		КонецЕсли;
	КонецЦикла;

	Если Не ПерваяИтерация Тогда
		СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + ")";
	КонецЕсли;
		
	Если ЕстьНаборСвойствХарактеристик Тогда
		СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + " (Для характеристик)";
	КонецЕсли;

	// Длина наименования не должна превышать 50 символов.
	СоздатьВидНоменклатуры_Наименование = Лев(СокрЛП(СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры), 50);

	Значение.Вставить("Наименование", СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры);
	
	Если ЕстьНаборСвойств Тогда
		НаборСвойств.Вставить("Наименование", СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры);
	КонецЕсли;

	Если ЕстьНаборСвойствХарактеристик Тогда
		НаборСвойствХарактеристик.Вставить("Наименование", СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + "(Для характеристик)");
	КонецЕсли;

	Если Значение.ТипНоменклатуры = "МногооборотнаяТара" Тогда
		Значение.Наименование = Значение.Наименование + " (Тара)";
	КонецЕсли;

	Параметры.КешВидовНоменклатуры.Вставить(СоздатьВидНоменклатуры_Номенклатура, Значение);
	
КонецЕсли;</Текст>
				<Параметры>Значение, СоздатьВидНоменклатуры_ТипНоменклатуры, СоздатьВидНоменклатуры_Номенклатура, СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры, СоздатьВидНоменклатуры_ИспользоватьСерии, СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция, СоздатьВидНоменклатуры_АлкогольнаяПродукция, СоздатьВидНоменклатуры_ВидАлкогольнойПродукции</Параметры>
			</Алгоритм>
		</Группа>
		<Группа Имя="Загрузка">
			<Алгоритм Имя="ВыполнитьПроведениеДокументов" ИспользуетсяПриЗагрузке="true">
				<Текст>Для Каждого Документ Из Параметры.ДокументыДляПроведения Цикл
	Если Не Документ.ЭтоНовый() Тогда
		
		// Переполучаем объект, т.к. он мог быть изменен
		ДокументОбъект = Документ.Ссылка.ПолучитьОбъект();
		
		УстановитьОбменДаннымиЗагрузка(ДокументОбъект, Ложь);
		
		Попытка
			
			Если ДокументОбъект.ПроверитьЗаполнение() Тогда
			
				ДокументОбъект.ДополнительныеСвойства.Вставить("ОтключитьМеханизмРегистрацииОбъектов", Истина);
				ДокументОбъект.ДополнительныеСвойства.Вставить("НеПроверятьДатыЗапретаИзмененияДанных");
				
				// выполняем попытку проведения документа
				ДокументОбъект.Записать(РежимЗаписиДокумента.Проведение);
				
			КонецЕсли;
		Исключение
		КонецПопытки;
	КонецЕсли;
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ДозаполнитьДоговораКонтрагентов" ИспользуетсяПриЗагрузке="true">
				<Текст>	
	Для Каждого ТекДоговор Из Параметры.МассивЗагруженныхДоговоров Цикл
		
		НачатьТранзакцию();
		Попытка
			Ошибки = Ложь;
			ТекДоговор.ОбменДанными.Загрузка = Ложь;
			ТекДоговор.Записать();
			ВзаиморасчетыСервер.ПередЗаписью(ТекДоговор, Ошибки);
			ТекДоговор.Записать();
			ЗафиксироватьТранзакцию();
		Исключение
			ОтменитьТранзакцию();
		КонецПопытки;
		
	КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьДокументыРасчета" ИспользуетсяПриЗагрузке="true">
				<Текст>

Для Каждого ТекСтрока Из Объект.РасчетыСПартнерами Цикл
	
	Если Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВводОстатковЗадолженностиКлиентов Тогда
		ТипПервичногоДокумента = Перечисления.ТипыПервичныхДокументов.РеализацияКлиенту;
	ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВводОстатковЗадолженностиПоставщикам Тогда
		ТипПервичногоДокумента = Перечисления.ТипыПервичныхДокументов.ПриобретениеУПоставщика;
	ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВводОстатковАвансовКлиентов Тогда
		ТипПервичногоДокумента = Перечисления.ТипыПервичныхДокументов.ОплатаОтКлиента;
	ИначеЕсли Объект.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВводОстатковАвансовПоставщикам Тогда
		ТипПервичногоДокумента = Перечисления.ТипыПервичныхДокументов.ОплатаПоставщику;
	Иначе
		ТипПервичногоДокумента = Перечисления.ТипыПервичныхДокументов.ПустаяСсылка();
	КонецЕсли;
	
	Если ЗначениеЗаполнено(ТекСтрока.ДокументРасчетов) И ТипЗНЧ(ТекСтрока.ДокументРасчетов) = Тип("ДокументСсылка.ПервичныйДокумент")  Тогда
		
		ДокументРасчетовОбъект = ТекСтрока.ДокументРасчетов.ПолучитьОбъект();
		
	Иначе
		
		Запрос = Новый Запрос;
		Запрос.Текст = "ВЫБРАТЬ
		|	ПервичныйДокумент.Ссылка КАК Ссылка
		|ИЗ
		|	Документ.ПервичныйДокумент КАК ПервичныйДокумент
		|ГДЕ
		|	ПервичныйДокумент.Организация = &amp;Организация
		|	И ПервичныйДокумент.Партнер = &amp;Партнер
		|	И ПервичныйДокумент.Договор = &amp;Договор
		|	И ПервичныйДокумент.ТипПервичногоДокумента = &amp;ТипПервичногоДокумента
		|	И НЕ ПервичныйДокумент.ПометкаУдаления";
		Запрос.УстановитьПараметр("Договор", ТекСтрока.Договор);
		Запрос.УстановитьПараметр("Партнер", ТекСтрока.Партнер);
		Запрос.УстановитьПараметр("Организация", Объект.Организация);
		Запрос.УстановитьПараметр("ТипПервичногоДокумента", ТипПервичногоДокумента);
		Выборка = Запрос.Выполнить().Выбрать();
		Если Выборка.Следующий() Тогда
			ДокументРасчетов = Выборка.Ссылка;
		Иначе
			ДокументРасчетов = Неопределено;
		КонецЕсли;
		
		Если ДокументРасчетов &lt;&gt; Неопределено Тогда
			ДокументРасчетовОбъект = ДокументРасчетов.ПолучитьОбъект();
		Иначе
			ДокументРасчетовОбъект = Документы.ПервичныйДокумент.СоздатьДокумент();
		КонецЕсли;
		
	КонецЕсли;
	
	ДокументРасчетовОбъект.ТипПервичногоДокумента = ТипПервичногоДокумента;
	ДокументРасчетовОбъект.Организация = Объект.Организация;
	ДокументРасчетовОбъект.Дата        = Объект.Дата;
	ДокументРасчетовОбъект.Валюта      = ТекСтрока.ВалютаВзаиморасчетов;
	ДокументРасчетовОбъект.Договор     = ТекСтрока.Договор;
	ДокументРасчетовОбъект.Контрагент  = ТекСтрока.Контрагент;
	ДокументРасчетовОбъект.Партнер     = ТекСтрока.Партнер;
	ДокументРасчетовОбъект.СуммаДокумента = ТекСтрока.Сумма;
	ДокументРасчетовОбъект.СуммаРегл   = ТекСтрока.СуммаРегл;
	ДокументРасчетовОбъект.ПорядокРасчетов = Перечисления.ПорядокРасчетов.ПоДоговорамКонтрагентов;
	
	ДокументРасчетовОбъект.ОбменДанными.Загрузка = Истина;
	ДокументРасчетовОбъект.Записать();
	
	ТекСтрока.ДокументРасчетов = ДокументРасчетовОбъект.Ссылка;
	
КонецЦикла;

Объект.Записать();</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьСуммыРеглВДокументахВводаОстатковДС" ИспользуетсяПриЗагрузке="true">
				<Текст>
ВалютаРегламентированногоУчета = ЗначениеНастроекПовтИсп.ВалютаРегламентированногоУчетаОрганизации(Объект.Организация);
ВалютаУправленческогоУчета = Константы.ВалютаУправленческогоУчета.Получить();

ИмяОперации = Объект.ХозяйственнаяОперация;
ДатаДокумента = Объект.Дата;

Если ИмяОперации = Перечисления.ХозяйственныеОперации.ВводОстатковВКассах Тогда	
	ИмяТЧ = "Кассы";	
Иначе
	ИмяТЧ = "БанковскиеСчета";
КонецЕсли;

Для Каждого ТекСтрока Из Объект[ИмяТЧ] Цикл
	
	Если ИмяОперации = Перечисления.ХозяйственныеОперации.ВводОстатковВКассах Тогда	
		Валюта = Справочники.Кассы.ПолучитьРеквизитыКассы(ТекСтрока.Касса).Валюта;	
	Иначе
		Валюта = Справочники.БанковскиеСчетаОрганизаций.ПолучитьРеквизитыБанковскогоСчетаОрганизации(ТекСтрока.БанковскийСчет).Валюта;
	КонецЕсли;	
	
	Если Валюта = ВалютаРегламентированногоУчета Тогда
		ТекСтрока.СуммаРегл = ТекСтрока.Сумма;
	Иначе
		КоэффициентПересчета = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(Валюта, ВалютаРегламентированногоУчета, ДатаДокумента);
		ТекСтрока.СуммаРегл = Окр(ТекСтрока.Сумма * КоэффициентПересчета, 2, 1);
	КонецЕсли;
	Если Валюта = ВалютаУправленческогоУчета Тогда
		ТекСтрока.СуммаУпр = ТекСтрока.Сумма;
	Иначе
		КоэффициентПересчета = РаботаСКурсамиВалютУТ.ПолучитьКоэффициентПересчетаИзВалютыВВалюту(Валюта, ВалютаУправленческогоУчета, ДатаДокумента);
		ТекСтрока.СуммаУпр = Окр(ТекСтрока.Сумма * КоэффициентПересчета, 2, 1);
	КонецЕсли;
	
КонецЦикла;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ОбновитьСтатусыУказанияСерийВДокументах" ИспользуетсяПриЗагрузке="true">
				<Текст>
Запрос = Новый Запрос("ВЫБРАТЬ
	|	ВводОстатков.Ссылка
	|ИЗ
	|	Документ.ВводОстатков КАК ВводОстатков
	|ГДЕ
	|	ВводОстатков.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВводОстатковСобственныхТоваров)
	|");
	
ВыборкаДокументов = Запрос.Выполнить().Выбрать();
Пока ВыборкаДокументов.Следующий() Цикл
	
	Объект = ВыборкаДокументов.Ссылка.ПолучитьОбъект();
	
	// Обновление табличной части "Серии"
	ПараметрыУказанияСерий = НоменклатураСервер.ПараметрыУказанияСерий(Объект, Документы.ВводОстатков);
	НоменклатураСервер.ЗаполнитьСтатусыУказанияСерий(Объект, ПараметрыУказанияСерий);
	
	НоменклатураСервер.ОчиститьНеиспользуемыеСерии(Объект, ПараметрыУказанияСерий);
	
	УстановитьОбменДаннымиЗагрузка(Объект);
	Объект.Записать();
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ОбработатьВидыНоменклатурыПослеЗаписи" ИспользуетсяПриЗагрузке="true">
				<Текст>// Определим склады, по которым есть документы ввода остатков с сериями
Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВводОстатковСерии.Ссылка.Склад КАК Склад,
	|	ВЫБОР
	|		КОГДА ВводОстатковСерии.Номенклатура ЕСТЬ NULL 
	|			ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА
	|	КОНЕЦ КАК ЕстьОстатки,
	|	ВводОстатковСерии.Номенклатура.ВидНоменклатуры КАК ВидНоменклатуры
	|ПОМЕСТИТЬ ТаблицаОстатков
	|ИЗ
	|	Документ.ВводОстатков.Серии КАК ВводОстатковСерии
	|ГДЕ
	|	НЕ ВводОстатковСерии.Ссылка.ПометкаУдаления
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВводОстатковТовары.Ссылка.Склад,
	|	ВЫБОР
	|		КОГДА ВводОстатковТовары.Серия = ЗНАЧЕНИЕ(Справочник.СерииНоменклатуры.ПустаяСсылка)
	|			ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА
	|	КОНЕЦ,
	|	ВводОстатковТовары.Номенклатура.ВидНоменклатуры
	|ИЗ
	|	Документ.ВводОстатков.Товары КАК ВводОстатковТовары
	|ГДЕ
	|	НЕ ВводОстатковТовары.Ссылка.ПометкаУдаления
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	ВидНоменклатуры
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВидыНоменклатуры.Ссылка КАК ВидНоменклатуры,
	|	ТаблицаОстатков.Склад,
	|	МАКСИМУМ(ЕСТЬNULL(ТаблицаОстатков.ЕстьОстатки, ЛОЖЬ)) КАК ЕстьОстатки
	|ИЗ
	|	Справочник.ВидыНоменклатуры КАК ВидыНоменклатуры
	|		ЛЕВОЕ СОЕДИНЕНИЕ ТаблицаОстатков КАК ТаблицаОстатков
	|		ПО ВидыНоменклатуры.Ссылка = ТаблицаОстатков.ВидНоменклатуры
	|ГДЕ
	|	ВидыНоменклатуры.ИспользоватьСерии
	|	И ЕстьОстатки 
	|
	|СГРУППИРОВАТЬ ПО
	|	ВидыНоменклатуры.Ссылка,
	|	ТаблицаОстатков.Склад
	|ИТОГИ ПО
	|	ВидНоменклатуры");
	
ВыборкаВидовНоменклатуры = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаВидовНоменклатуры.Следующий() Цикл
	
	Объект = ВыборкаВидовНоменклатуры.ВидНоменклатуры.ПолучитьОбъект();
	
	// Заполнение настроек использования серий
	ТекущаяПолитикаУчетаСерий = Неопределено;
	Если Объект.ПолитикиУчетаСерий.Количество() &gt; 0 Тогда
		ТекущаяПолитикаУчетаСерий = Объект.ПолитикиУчетаСерий[0].ПолитикаУчетаСерий;
	КонецЕсли;
	
	Объект.ПолитикиУчетаСерий.Очистить();
	
	Если ЗначениеЗаполнено(ТекущаяПолитикаУчетаСерий) И ВыборкаВидовНоменклатуры.ЕстьОстатки Тогда
		
		ДетальнаяВыборка = ВыборкаВидовНоменклатуры.Выбрать();
		Пока ДетальнаяВыборка.Следующий() Цикл
			НоваяСтрока                    = Объект.ПолитикиУчетаСерий.Добавить();
			НоваяСтрока.ПолитикаУчетаСерий = ТекущаяПолитикаУчетаСерий;
			НоваяСтрока.Склад              = ДетальнаяВыборка.Склад;
		КонецЦикла;
	КонецЕсли;
	
	// Записть не в режиме загрузки приведет к созданию наборов дополнительных реквизитов и установке признака использования серий у складов
	Объект.Записать();
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ОбработатьПослеЗаписиСкладыУчитывающиеСерии" ИспользуетсяПриЗагрузке="true">
				<Текст>// Определим склады, по которым есть документы ввода остатков с сериями
Запрос = Новый Запрос("ВЫБРАТЬ
	|	ВводОстатковСерии.Ссылка.Склад КАК Склад
	|ИЗ
	|	Документ.ВводОстатков.Серии КАК ВводОстатковСерии
	|ГДЕ
	|	НЕ ВводОстатковСерии.Ссылка.ПометкаУдаления
	|	И НЕ ВводОстатковСерии.Ссылка.Склад.ИспользоватьОрдернуюСхемуПриОтраженииИзлишковНедостач
	|	И НЕ ВводОстатковСерии.Ссылка.Склад.ИспользоватьСерииНоменклатуры
	|
	|СГРУППИРОВАТЬ ПО
	|	ВводОстатковСерии.Ссылка.Склад
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВводОстатковТовары.Ссылка.Склад
	|ИЗ
	|	Документ.ВводОстатков.Товары КАК ВводОстатковТовары
	|ГДЕ
	|	ВводОстатковТовары.Серия &lt;&gt; ЗНАЧЕНИЕ(Справочник.СерииНоменклатуры.ПустаяСсылка)
	|	И НЕ ВводОстатковТовары.Ссылка.ПометкаУдаления
	|	И НЕ ВводОстатковТовары.Ссылка.Склад.ИспользоватьОрдернуюСхемуПриОтраженииИзлишковНедостач
	|	И НЕ ВводОстатковТовары.Ссылка.Склад.ИспользоватьСерииНоменклатуры");
	
ВыборкаСкладов = Запрос.Выполнить().Выбрать();
Пока ВыборкаСкладов.Следующий() Цикл
	
	Объект = ВыборкаСкладов.Склад.ПолучитьОбъект();
	УстановитьОбменДаннымиЗагрузка(Объект);
	Объект.ИспользоватьОрдернуюСхемуПриОтраженииИзлишковНедостач = Истина;
	Объект.ИспользоватьСерииНоменклатуры = Истина;
	Объект.Записать();
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ОбработкаСправочниковОтложенная" ИспользуетсяПриЗагрузке="true">
				<Текст>Если ИмяПКО = "Номенклатура" Тогда
	
	Если Не ЗначениеЗаполнено(Объект.ИспользованиеХарактеристик) Тогда
		
		ИспользованиеХарактеристикВидаНоменклатуры = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Объект.ВидНоменклатуры,"ИспользованиеХарактеристик");
			
		Если Не ЗначениеЗаполнено(ИспользованиеХарактеристикВидаНоменклатуры) Тогда
			Объект.ИспользованиеХарактеристик = Перечисления.ВариантыИспользованияХарактеристикНоменклатуры.НеИспользовать;
		Иначе
			Объект.ИспользованиеХарактеристик = ИспользованиеХарактеристикВидаНоменклатуры;
		КонецЕсли;
		
	КонецЕсли;
	
КонецЕсли;</Текст>
				<Параметры>Объект, ПараметрыОбъекта, ИмяПКО</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СерииНоменклатуры_ЗаполнитьНаименованиеПоШаблону" ИспользуетсяПриЗагрузке="true">
				<Текст>ВидНоменклатуры = Объект.ВидНоменклатуры;
Номер			= Объект.Номер;
ГоденДо			= Объект.ГоденДо;

// {{ Справочники.СерииНоменклатуры.МодульОбъекта.ПередЗаписью
ПараметрыШаблона = ЗначениеНастроекПовтИсп.ПараметрыСерийНоменклатуры(ВидНоменклатуры);

Наименование = "";
Номер = СокрЛП(Номер);

Если ПараметрыШаблона.ИспользоватьНомерСерии Тогда
	Наименование = Номер;
КонецЕсли;

Если ПараметрыШаблона.ИспользоватьСрокГодностиСерии Тогда
	Если ПараметрыШаблона.ТочностьУказанияСрокаГодностиСерии = Перечисления.ТочностиУказанияСрокаГодности.СТочностьюДоЧасов Тогда
		ГоденДо = НачалоЧаса(ГоденДо);
	Иначе
		ГоденДо = НачалоДня(ГоденДо);
	КонецЕсли;
	
	СтрокаСтрокаГодности = НСтр("ru = ' до %ГоденДо%'");
	СтрокаСтрокаГодности = СтрЗаменить(СтрокаСтрокаГодности,"%ГоденДо%",Формат(ГоденДо,ПараметрыШаблона.ФорматнаяСтрокаСрокаГодности));
	
	Наименование = Наименование + СтрокаСтрокаГодности;
	
	Наименование = СокрЛП(Наименование);
	
КонецЕсли;
// }} Справочники.СерииНоменклатуры.МодульОбъекта.ПередЗаписью

Объект.Наименование = Наименование;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="УстановитьМенеджераВДокумент" ИспользуетсяПриЗагрузке="true">
				<Текст>Если Не ЗначениеЗаполнено(Объект.Менеджер) Тогда
	Объект.Менеджер = ПараметрыСеанса.ТекущийПользователь;
КонецЕсли;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="УстановитьОтветственногоВДокумент" ИспользуетсяПриЗагрузке="true">
				<Текст>Если Не ЗначениеЗаполнено(Объект.Ответственный) Тогда
	Объект.Ответственный = ПараметрыСеанса.ТекущийПользователь;
КонецЕсли;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
		</Группа>
	</Алгоритмы>
	<Запросы/>
</ПравилаОбмена>